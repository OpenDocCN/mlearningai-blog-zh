<html>
<head>
<title>What is the proper data model for Power BI?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对于Power BI，什么是合适的数据模型？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/what-is-the-proper-data-model-for-power-bi-79641b328941?source=collection_archive---------3-----------------------#2022-11-13">https://medium.com/mlearning-ai/what-is-the-proper-data-model-for-power-bi-79641b328941?source=collection_archive---------3-----------------------#2022-11-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex ie if ig ih er es paragraph-image"><div class="ab fe cl ii"><img src="../Images/93b194b875e43dcf37c376e5cdda41f6.png" data-original-src="https://miro.medium.com/v2/format:webp/0*b5IDQyzxqmNRcv4L.png"/></div><figcaption class="il im et er es in io bd b be z dx">Source: <a class="ae ip" href="https://learn.microsoft.com/" rel="noopener ugc nofollow" target="_blank">https://learn.microsoft.com/</a></figcaption></figure><p id="f17b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi jo translated">数据模型是创建数据仪表板的重要部分之一。如果数据模型设计不当，可能很难处理复杂的参数，并且可能导致错误的数据可视化。</p><p id="dd59" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">在本文中，我将介绍Power BI仪表板的数据模型设计的最佳实践。我不会涵盖所有类型的数据库模式，这些模式可能会让不熟悉数据库设计的读者感到困惑。</p><h1 id="31f3" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">本文的内容</h1><ul class=""><li id="4629" class="kv kw hh is b it kx ix ky jb kz jf la jj lb jn lc ld le lf bi translated">什么是数据模型？</li><li id="333d" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">表关系</li><li id="4274" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">合适的数据模型</li><li id="d327" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated">如何创建合适的数据模型？</li></ul><h1 id="8182" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">什么是数据模型？</h1><p id="7207" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">数据模型是说明表之间关系的图表。在Power BI中，数据模型将允许跨表过滤和分析。</p><p id="56c8" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">在Power BI桌面上，您可以在左侧的最后一个选项卡中找到数据模型。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div class="er es lo"><img src="../Images/bee07f41a4b7ca9db2e49d5180c3894a.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*yV-D9wu3cRrBP9C8mSvDfw.png"/></div><figcaption class="il im et er es in io bd b be z dx">How to find the data model in Power BI?</figcaption></figure><p id="4cfe" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">下面是一个数据模型的例子。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es lt"><img src="../Images/9feea2585cb9e0b6b5f8f2240a985005.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pvtjas3EEz-kkVD1a98ssg.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Data model example</figcaption></figure><p id="3d20" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">数据模型由表名、表字段/列和表关系组成。计算器图标指示测量字段。表关系将在下一部分描述。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ly"><img src="../Images/6210d95275c6f42900ee81febf7e1b4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mvu5Y1I2fqDgZ7b6k-MTUg.png"/></div></div></figure><h1 id="f2a6" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">表关系</h1><p id="0ffa" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">每个表都应该有主键。<strong class="is hi">主键</strong>是包含唯一值的字段/列。通常，主键是一个ID列，如事务ID或用户ID。</p><p id="dc0d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您还应该知道外键。<strong class="is hi">外键</strong>是一个表中的字段，它连接到另一个表中的主键。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div class="er es lz"><img src="../Images/c15b382ec307976e6795d8549d599f46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*h11GNR9Vn3xJqMri8EASVQ.png"/></div></figure><p id="f526" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">两个表可以通过连接主键和外键来创建关系。</p><p id="7151" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><strong class="is hi">表格关系的类型</strong></p><ol class=""><li id="19ea" class="kv kw hh is b it iu ix iy jb ma jf mb jj mc jn md ld le lf bi">1–1</li></ol><p id="fdcc" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">1个表的1条记录与另一个表的1条记录匹配。<br/>一个表的主键可以匹配另一个表的主键。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es me"><img src="../Images/dad2e2d6a193d704c2efaaf452e8e921.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*B9kCbwo-X09gCmXDQOJq9Q.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">1–1 relationship</figcaption></figure><p id="8d3a" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">2.一对多</p><p id="9d25" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">1个表中的1条记录与另一个表中的多条记录匹配。<br/>一个表的主键可以匹配另一个表的多个外键。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div class="er es mf"><img src="../Images/770910788720e5cce80712aeefa1b0de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1070/format:webp/1*LJ7viBsQ_Gr6VLffKMj-ZA.png"/></div><figcaption class="il im et er es in io bd b be z dx">1–many relationships</figcaption></figure><p id="b446" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">3.多对多</p><p id="471b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">一个表中的许多记录与另一个表中的许多记录相匹配。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mg"><img src="../Images/9b91acb5d102c7704a5b36880e0ff4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ue23cK7SKRLhqLFVr8Ot7A.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">many-many relationship</figcaption></figure><h1 id="6d10" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">合适的数据模型</h1><p id="8ea7" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">在谈论合适的数据模型之前，你应该了解Power BI中的<a class="ae ip" href="https://learn.microsoft.com/en-us/power-bi/transform-model/desktop-relationships-understand" rel="noopener ugc nofollow" target="_blank">过滤</a>。</p><p id="4ebd" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">电力BI中的滤波有方向。默认情况下，当您筛选关系1侧的表数据时，它也会筛选关系*-侧的表数据。</p><p id="56de" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">例如，如果您筛选dStores表中的数据，它也会筛选fSale表中的数据。</p><p id="ad78" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">表关系上的箭头将指示过滤方向。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mh"><img src="../Images/5007322dfa11d5264202f9ca92ae4107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IvHchuW6JlqP73NGb4C42A.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Filter direction</figcaption></figure><p id="2c8d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您可以向两侧编辑十字滤镜方向。然后，您可以从两个表中过滤，它将过滤另一个表。然而，<strong class="is hi">不建议将交叉过滤器方向改为both </strong>，因为当仪表板更复杂时，这可能会搞乱您的仪表板。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mi"><img src="../Images/20c38f2695cb0961781a07e7b7026764.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lx-Z8cPde-q1Xmu2pVvexQ.png"/></div></div></figure><p id="3237" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您应该设计一个数据模型来匹配您的可视化目的，而不是改变过滤器的方向。</p><h2 id="4186" class="mj jy hh bd jz mk ml mm kd mn mo mp kh jb mq mr kl jf ms mt kp jj mu mv kt mw bi translated">星型模式设计原则</h2><p id="be71" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">建议使用星型架构来获得仪表板的最佳性能。</p><p id="31fb" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">星型模式的中心是一个<strong class="is hi">事实表</strong>，该事实表被<strong class="is hi">维度表</strong>包围。</p><figure class="lp lq lr ls fd ih er es paragraph-image"><div class="ab fe cl ii"><img src="../Images/93b194b875e43dcf37c376e5cdda41f6.png" data-original-src="https://miro.medium.com/v2/format:webp/0*b5IDQyzxqmNRcv4L.png"/></div><figcaption class="il im et er es in io bd b be z dx">Source: <a class="ae ip" href="https://learn.microsoft.com/" rel="noopener ugc nofollow" target="_blank">https://learn.microsoft.com/</a></figcaption></figure><p id="3bb6" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">事实表通常是事务表，维度表具有描述事实表的属性。维度表的主键将与事实表的外键相连接。</p><p id="ce77" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">如果数据很复杂，您可以尝试使用<a class="ae ip" href="https://en.wikipedia.org/wiki/Snowflake_schema" rel="noopener ugc nofollow" target="_blank"> Snowflex </a>数据模式，它扩展了维度表以连接到其他表。</p><h1 id="d189" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">如何创建合适的数据模型？</h1><p id="84c3" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">我们的数据模型的目标是一个星型模式。</p><p id="a2de" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">这些是我用过的步骤。</p><ol class=""><li id="b249" class="kv kw hh is b it iu ix iy jb ma jf mb jj mc jn md ld le lf bi translated">写下您想要用来在Power BI中创建仪表板的表的列表。</li><li id="ce92" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn md ld le lf bi translated">标识每个表的主键。每个表都必须有一个主键。如果没有，您可以添加一个id列并将其用作主键(不要忘记更改其他表中的外键以匹配这个主键)。</li><li id="00eb" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn md ld le lf bi translated">绘制表之间的关系，并查看它们是如何链接的。</li><li id="9445" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn md ld le lf bi translated">决定哪个表是事实表。它应该是一个链接到几乎所有表的表。</li><li id="e818" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn md ld le lf bi translated">在事实表和维度表之间创建关系。请确保它是一对多(1-*)关系，并且单侧在维度表上。</li><li id="9f9b" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn md ld le lf bi translated">如果您发现了任何多对多关系，则在该关系之间创建一个新表，以建立两个一对多关系，如下例所示。</li></ol><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mx"><img src="../Images/b1ae0c6ab6b1b2736f5ff12ba4ee3d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HnUWZSidmgtZfyGU0O4e0g.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">many-many relationship</figcaption></figure><figure class="lp lq lr ls fd ih er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es my"><img src="../Images/fb33a5cf9170137d5c63da06de40d7bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hoQv3d7RQofFBg-wvFkB8g.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">Create a new table to make 1–* relationship</figcaption></figure><h1 id="897e" class="jx jy hh bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku bi translated">结论</h1><p id="301b" class="pw-post-body-paragraph iq ir hh is b it kx iv iw ix ky iz ja jb ll jd je jf lm jh ji jj ln jl jm jn ha bi translated">星型模式是一个合适的数据模型，因为您可以控制过滤器方向，并使其更容易创建度量。您可以通过标识每个表的主键并只创建1 –*表关系来实现这一点。</p><p id="5e11" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">如果您想阅读更多数据分析内容，请鼓掌并关注我。</p><p id="6adc" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated"><strong class="is hi">我的文章可能对你有用</strong></p><ul class=""><li id="da45" class="kv kw hh is b it iu ix iy jb ma jf mb jj mc jn lc ld le lf bi translated"><a class="ae ip" rel="noopener" href="/mlearning-ai/python-in-power-bi-66a80590ecc0"> Python中的Power BI </a></li><li id="8439" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated"><a class="ae ip" rel="noopener" href="/mlearning-ai/word-cloud-visualization-in-power-bi-a993dc4afb77">Power BI中的字云可视化</a></li><li id="9cf6" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated"><a class="ae ip" rel="noopener" href="/mlearning-ai/sankey-chart-for-flow-visualization-in-power-bi-828e62da4c0">用于Power BI流程可视化的桑基图</a></li><li id="0a5b" class="kv kw hh is b it lg ix lh jb li jf lj jj lk jn lc ld le lf bi translated"><a class="ae ip" rel="noopener" href="/mlearning-ai/clustering-in-power-bi-e1c7fd5700e">电力BI中的聚类</a></li></ul><div class="mz na ez fb nb nc"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hi fi z dy nh ea eb ni ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">medium.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq ij nc"/></div></div></a></div></div></div>    
</body>
</html>