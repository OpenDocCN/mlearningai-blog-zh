<html>
<head>
<title>Are Databricks &amp; Apache Spark the Same Thing?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Databricks和Apache Spark是一回事吗？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/are-databricks-apache-spark-the-same-thing-1fe3332c9314?source=collection_archive---------1-----------------------#2022-11-18">https://medium.com/mlearning-ai/are-databricks-apache-spark-the-same-thing-1fe3332c9314?source=collection_archive---------1-----------------------#2022-11-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/115d29e51160f804550fedb1f3dc1169.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*izV1ymSIQy3YITJeqBH7gg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Databricks Logo</figcaption></figure><p id="bb73" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果你认为Apache Spark和Databricks是一回事，你不是唯一一个。很长一段时间以来，我一直把Apache Spark和Databricks联系在一起，认为它们本质上是同一个东西，但我大错特错了。我最近决定踏上“Databricks认证数据工程师助理”认证之旅，这让我对Databricks平台有了一个全面的了解。</p><h1 id="8d97" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">什么是数据块？</h1><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kp"><img src="../Images/5d02f1749c281b3ca210732313187251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HW03FHLODDeWXeU5GkR2cw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">databricks.com</figcaption></figure><p id="10dd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果你访问<a class="ae ku" href="https://www.databricks.com/" rel="noopener ugc nofollow" target="_blank"> Databricks网站</a>，你会注意到他们本质上将自己描述为一站式数据平台。您可以在这个平台上满足所有的数据需求。他们的目标是拥有一个简单的平台来统一所有的数据、分析和人工智能工作负载。问题是他们如何做到这一点？Databricks利用多个开源项目，如用于满足您的<a class="ae ku" rel="noopener" href="/@jjghavami/data-lakehouses-the-future-of-data-solutions-f8544c42a76d">数据仓库</a>需求的<a class="ae ku" href="https://delta.io/" rel="noopener ugc nofollow" target="_blank">三角洲湖</a>，用于管理您的机器学习生命周期的<a class="ae ku" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank"> MLflow </a>，以及用于满足您的大数据分析需求的<a class="ae ku" href="https://spark.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Spark </a>。</p><h1 id="dc90" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">三角洲湖——数据砖的心脏</h1><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es kv"><img src="../Images/a3adae768efd2c5099ed2ea9e5830b00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*6oNE5oCiddsL01fkMHISVg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Delta Lake Logo</figcaption></figure><p id="0df9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">由于我一直在为上面提到的Databricks认证而学习，Databricks Academy将<strong class="iv hi"> Delta Lake </strong>描述为Databricks lakehouse平台的心脏。它支持<a class="ae ku" href="https://www.cidrdb.org/cidr2021/papers/cidr2021_paper17.pdf" rel="noopener ugc nofollow" target="_blank"> lakehouse体系结构</a>，该体系结构允许采用开放式方法将数据管理和治理引入数据湖。lakehouse架构为您带来了两个世界的精华，这是数据仓库的优势&amp;也是数据湖的优势。此外，Delta Lake是一个开源项目，支持在现有存储系统的基础上构建数据湖库。它建立在标准数据格式的基础上&amp;针对云对象存储进行了优化，同时还可以处理可扩展的元数据。</p><h2 id="0e92" class="kw js hh bd jt kx ky kz jx la lb lc kb je ld le kf ji lf lg kj jm lh li kn lj bi translated">这为什么令人兴奋？</h2><p id="6d94" class="pw-post-body-paragraph it iu hh iv b iw lk iy iz ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq ha bi translated">如上所述，Delta Lake提供了利用两个世界(数据仓库和数据湖)的优点的特性:</p><ul class=""><li id="3baf" class="lp lq hh iv b iw ix ja jb je lr ji ls jm lt jq lu lv lw lx bi translated">使用结构化流式信源和信宿对表进行流式读写。</li><li id="3148" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">更新、删除和合并(对于upserts)操作，甚至在Java、Scala和Python APIs中也是如此。</li><li id="50db" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">在数据帧写入期间，通过显式地改变表模式或隐式地将数据帧的模式合并到表的模式来进行模式演变。</li><li id="4344" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">时间旅行，允许您通过ID或时间戳查询特定的表快照。</li><li id="b0d9" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">回滚到以前的版本以纠正错误。</li><li id="93d0" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">执行任何SQL、批处理或流操作的多个并发编写器之间的可序列化隔离。</li></ul><p id="ccf8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">正如您从上面看到的，lakehouse范式允许我们拥有诸如事务支持、模式实施和治理、支持开放格式中的不同数据类型、支持不同的工作负载以及支持更新和删除等功能。</p><h1 id="6633" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">MLflow —管理您的机器学习生命周期</h1><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/f4b917aa122ee10477d6188ee6c1e33e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OsB57V0FPteixDBD_BBN4g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">MLflow Logo</figcaption></figure><p id="f642" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们刚刚讨论了一项技术，它触及了您的分析和人工智能需求中的早期数据。我将通过谈论分析和人工智能管道的后期阶段来进一步阐述这篇文章。在很大程度上，许多数据从业者已经在他们的本地计算机上创建了一个机器学习模型。接下来是知道如何部署你的机器学习模型，这比大多数人想象的要复杂得多。MLOps不是一件容易的事情。为了在生产中重现您的机器学习模型，需要考虑相当多的因素。这些因素包括:</p><ul class=""><li id="d802" class="lp lq hh iv b iw ix ja jb je lr ji ls jm lt jq lu lv lw lx bi translated">库版本化——拥有指定了实际版本的必要库。</li><li id="2d2c" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">数据进化——了解模型训练的基础数据。</li><li id="cf02" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">执行顺序—确保您的代码从上到下正确运行。</li><li id="1152" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">并行操作——GPU并行运行许多操作，执行顺序并不总是有保证的。</li></ul><p id="05a3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">MLflow是一个管理端到端机器学习生命周期的开源平台。它有以下主要组件:</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es me"><img src="../Images/9b03de243b3531912b4659fc116346ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-w3JQJXgWZouk2VBhUMdQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">MLflow Components</figcaption></figure><ul class=""><li id="61f7" class="lp lq hh iv b iw ix ja jb je lr ji ls jm lt jq lu lv lw lx bi translated">跟踪:允许您跟踪实验，以记录和比较参数和结果。</li><li id="0922" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">模型:允许您从各种ML库中管理和部署模型到各种模型服务和推理平台。</li><li id="3a93" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">项目:允许您将ML代码打包成可重用、可复制的形式，以便与其他数据科学家共享或转移到生产中。</li><li id="9b4e" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">Model Registry:允许您集中管理模型的整个生命周期阶段转换的模型存储:从阶段转换到生产，具有版本控制和注释的能力。</li><li id="f22f" class="lp lq hh iv b iw ly ja lz je ma ji mb jm mc jq lu lv lw lx bi translated">模型服务:允许您将MLflow模型作为REST端点。</li></ul><p id="43aa" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">MLflow的美妙之处在于，它将允许机器学习从业者和数据科学家实施最佳实践，以便将他们的ML模型投入生产。下一个，阿帕奇火花！</p><h1 id="0aa4" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">Apache Spark —大规模数据分析</h1><figure class="kq kr ks kt fd ii er es paragraph-image"><div class="er es mf"><img src="../Images/08bdf19aab7aa3fd51506a0c8de8bb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*5h9Vl3pCFhy6e0lvpAWVtw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Apache Spark Logo</figcaption></figure><p id="9273" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><a class="ae ku" href="https://spark.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Spark </a>允许您在多个用例中使用批处理或流数据。Spark的架构利用其Spark驱动程序和执行器提供快速分析。您可以使用高级SQL分析、大规模数据科学以及机器学习。对于您的数据科学和机器学习用例，这可以使用多种语言来完成，如R、Python、Scala &amp; Java。把Databricks中的Apache Spark想象成你的Google Colab或Jupyter笔记本，用你最喜欢的编程语言编写，具有极高的数据处理速度。这与前面提到的两项技术(如Delta Lake &amp; MLflow)相结合，为您提供端到端管道所需的一切。这是否意味着你被这些技术所束缚？绝对不是，Databricks有许多合作伙伴，在那里您可以将各种各样的技术集成到您的数据生态系统中。</p><figure class="kq kr ks kt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/f97d2b0dcb7043a2ebaca2b3179904f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*abXsHuLpwkq-Ra5kdSHqoQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Databricks Partners</figcaption></figure><p id="d275" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">您可能已经注意到，Apache Spark是Databricks平台的一部分。它是平台内部的一块砖，非常重要。然而，我需要习惯于这样一个事实，即Databricks将三角洲湖称为Databricks的心脏，但经过一些思考，这是有道理的。Delta Lake为我们带来了data lakehouse架构，允许我们以最佳形式使用Apache Spark。</p><h1 id="5e42" class="jr js hh bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko bi translated">这个设置会让你与众不同。</h1><p id="4f29" class="pw-post-body-paragraph it iu hh iv b iw lk iy iz ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq ha bi translated">作为一个正在<a class="ae ku" rel="noopener" href="/@jjghavami/why-am-i-choosing-data-engineering-over-data-science-6d010f119e41">学习成为一名数据工程师</a>的人，作为一个在高级分析领域工作过的人，我可以向你保证，你的系统的设置和设计比分析本身重要得多。是的，您的分析结果将推动有用和有影响力的业务决策，但是为了获得预期的结果，必须适当和胜任地进行设置。</p><p id="8239" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这就是为什么Databricks选择将自己作为Databricks Lakehouse平台的原因。尽管Spark本身很有魅力，但他们更重视像Delta Lake这样的开源项目是有道理的。他们认识到，通过将数据仓库和数据湖整合到一个解决方案中，将BI和SQL分析领域与数据科学和机器学习领域相结合，他们有可能解决一个大问题。这非常有吸引力，因为许多财富500强公司都采用了这种方法。</p><p id="72ac" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">本文的大部分功劳归于Databricks Academy以及Damji、Wenig、Das和Lee的Learning Spark。如果您想了解更多关于Databricks平台的信息，请使用这些参考资料，因为它们在我的数据之旅中对我帮助很大。希望这篇文章能帮助某人，并祝你在学习的旅途中一切顺利！</p><h2 id="eeb5" class="kw js hh bd jt kx ky kz jx la lb lc kb je ld le kf ji lf lg kj jm lh li kn lj bi translated">参考资料:</h2><p id="630a" class="pw-post-body-paragraph it iu hh iv b iw lk iy iz ja ll jc jd je lm jg jh ji ln jk jl jm lo jo jp jq ha bi translated"><a class="ae ku" href="https://www.amazon.com/Learning-Spark-Lightning-Fast-Data-Analytics-ebook/dp/B08F9WVFCT" rel="noopener ugc nofollow" target="_blank">学习火花——达姆吉、维尼格、达斯、李</a></p><p id="7c44" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated"><a class="ae ku" href="https://learn.microsoft.com/en-us/azure/databricks/" rel="noopener ugc nofollow" target="_blank"> Azure Databricks文档</a></p><p id="f1f3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">数据布里克学院</p><div class="mh mi ez fb mj mk"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ml ab dw"><div class="mm ab mn cl cj mo"><h2 class="bd hi fi z dy mp ea eb mq ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mr l"><h3 class="bd b fi z dy mp ea eb mq ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ms l"><p class="bd b fp z dy mp ea eb mq ed ef dx translated">medium.com</p></div></div><div class="mt l"><div class="mu l mv mw mx mt my in mk"/></div></div></a></div></div></div>    
</body>
</html>