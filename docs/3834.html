<html>
<head>
<title>How to get Data from the Web with BeautifulSoup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用漂亮的应用程序从Web获取数据</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/web-scrapping-with-beautifulsoup-d94e4ebfc209?source=collection_archive---------2-----------------------#2022-10-28">https://medium.com/mlearning-ai/web-scrapping-with-beautifulsoup-d94e4ebfc209?source=collection_archive---------2-----------------------#2022-10-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="3552" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated"><strong class="ak">网络包含着无限量的数据。</strong>如果我们能够从众多网页中创建自己的数据集，机会将是无限的……</h2></div><p id="6c88" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">🎉好消息是，</p><p id="0cec" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">每个网页都是按照一种特定的格式构建的:<strong class="iy hi">HTML语言</strong>。像任何类型的结构化数据一样，检索我们要寻找的信息非常容易。</p><p id="bb98" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这就是所谓的Web报废，我们将在本文中看到如何使用Python的<strong class="iy hi">beauty lup</strong>库来分析网页的内容。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/6934c281be93c0bc16efe8bee569506d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z2FEl1hXMtoCe7cvAfhM3w.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Photo by <a class="ae ki" href="https://unsplash.com/@sortino?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Joshua Sortino</a></figcaption></figure><h1 id="caf7" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">1.如何获取网页的HTML代码</h1><p id="e2d2" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">要分析网页的内容，第一件要做的事就是检索它的源代码<strong class="iy hi">，即与它相关联的HTML代码</strong>。</p><p id="6a98" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为此，有几种方法可以在Python中实现这一任务。以下是其中之一:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/7e474eb412f6859e79bdee15f140f4b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G1kS9qQMeC2-eY2cxjFmmA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Get the HTML code of a web page</figcaption></figure><p id="ebbf" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这个例子中，我使用<code class="du lh li lj lk b">urllib</code>库，该库允许轻松查询给定<em class="ll"> url </em>的HTML代码。对于这个例子，为了简单起见，假设上面代码的<code class="du lh li lj lk b">html</code>元素的输出是:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/7fb610ee3f36cd26ce9811eaafa427b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TBdmed9DsWSXmIwXtlKCUg.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Some HTML example</figcaption></figure><p id="c080" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你对HTML有一些了解，你可能会认识到这个网页上的大多数标签(正文、标题、h1、p、文章…)。</p><p id="b13a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当然，这个例子是一个简化的真实例子。</p><p id="89d1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一旦将HTML代码加载到Python脚本中，我们就可以继续进行第2步:<em class="ll">使用BeautifulSoup进行分析。</em></p><h1 id="ed93" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">2.使用BeautifulSoup解析HTML</h1><p id="aadc" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated"><strong class="iy hi">beautulsup</strong>是一个Python库，可以对网站数据进行爬网和收获。Python生态系统中还有许多其他的库(你可能听说过<strong class="iy hi"> selenium </strong>)，但<strong class="iy hi">beauty lump</strong>以简单易用而著称，因此推荐给那些想从网页抓取开始的人。</p><p id="71c1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要开始使用<strong class="iy hi">美化输出</strong>，你需要给它两件事作为输入:</p><ul class=""><li id="b7dc" class="lm ln hh iy b iz ja jc jd jf lo jj lp jn lq jr lr ls lt lu bi translated">要解析的代码(在我们的例子中是<code class="du lh li lj lk b">html</code> python变量)</li><li id="3add" class="lm ln hh iy b iz lv jc lw jf lx jj ly jn lz jr lr ls lt lu bi translated">要使用的解析器(在我们的例子中是<code class="du lh li lj lk b">'html.parser'</code>，一个<strong class="iy hi"> HTML </strong>解析器)</li></ul><p id="f0d7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="ll">true beauty ulsup允许您解析其他类型的数据(例如XML)。</em></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/662fa7b9fd7dbf348ec1bd804df19f8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6j2ds3wiivAJzt74qYY5kA.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Initialize BeautifulSoup</figcaption></figure><p id="bb69" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后我们得到一个<code class="du lh li lj lk b">soup</code>的<strong class="iy hi"> HTML </strong>代码。</p><p id="088f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后，我们可以开始寻找我们对变量<code class="du lh li lj lk b">soup</code>感兴趣的元素。</p><p id="156c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要找到我们的<strong class="iy hi"> HTML </strong>页面中包含的第一个标签，你只需要做:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/fdf5099aba3aec755bce02313508a4e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cAzRCqsThodEaMKybIvXVw.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Find the first element tag</figcaption></figure><p id="aec7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当你在你的<strong class="iy hi"> HTML </strong>页面中寻找一个特定的标签，并且想要更多关于它的使用的上下文，了解“它的父母”是很有帮助的。</p><p id="1365" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">父元素</strong>就是被查看元素上面的标签。在我们的例子中，<code class="du lh li lj lk b">&lt;a&gt;</code>标签的第一个父标签是<code class="du lh li lj lk b">&lt;nav&gt;</code>标签。</p><p id="dcd6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们来查一下<code class="du lh li lj lk b">&lt;a&gt;</code>的历任父母的设定:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/c8b44b386d57e98587efd2e752d58113.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Cw6vFpAVJmu10HIneVi7A.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Find all the parents tag</figcaption></figure><p id="2262" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如您所见，<code class="du lh li lj lk b">soup.tag</code>函数检索在我们的网页中找到的第一个标签。如果我们想要检索所有的标签，我们可以使用web报废中最常用的方法之一:</p><p id="a13a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du lh li lj lk b">soup.find_all()</code> → <strong class="iy hi">这种方法可以让你精确搜索你要找的元素。</strong></p><p id="a4ed" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">例如，要搜索所有<code class="du lh li lj lk b">&lt;p&gt;</code>标签:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/cdfd38212f12194027b82ae581d79a98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VKTnPgTKG2cgkTChLFi0Zg.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">soup.find_all()</figcaption></figure><p id="bca6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">您甚至可以使用您正在寻找的标签的<strong class="iy hi">类</strong>来增强您的搜索:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/5bedbb26983bed1bb97c1f2df668e404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IEWyEO1036m5_62luxOXXg.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">soup.find_all() with parameter</figcaption></figure><p id="f392" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果您仍然找不到您要找的信息，您可以使用<strong class="iy hi">字符串参数</strong>，它会搜索包含指定单词的所有字符串:</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es lg"><img src="../Images/ff6eae65c935f354cadaa15adec6aa53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cF8OxI2kQtVypcM4pyiRCQ.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Find a specific word in a webpage</figcaption></figure><h1 id="b1c9" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">结论</h1><p id="a568" class="pw-post-body-paragraph iw ix hh iy b iz lb ii jb jc lc il je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated">下面简单介绍一下<strong class="iy hi"> BeautifulSoup </strong>，Web报废领域常用的库！</p><p id="3cf7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，网络是你的了！🎉</p><p id="6ad5" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你喜欢这篇文章，请鼓掌告诉我👏👏</p><p id="76fd" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="ll">皮埃尔-路易·迪</em></p><div class="ma mb ez fb mc md"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="me ab dw"><div class="mf ab mg cl cj mh"><h2 class="bd hi fi z dy mi ea eb mj ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mk l"><h3 class="bd b fi z dy mi ea eb mj ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ml l"><p class="bd b fp z dy mi ea eb mj ed ef dx translated">medium.com</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr kc md"/></div></div></a></div></div></div>    
</body>
</html>