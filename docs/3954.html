<html>
<head>
<title>Graphing Stock Prices in Python with a Candlestick chart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用蜡烛图在Python中绘制股票价格</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/graphing-stock-price-data-5f0b4d62f833?source=collection_archive---------6-----------------------#2022-11-14">https://medium.com/mlearning-ai/graphing-stock-price-data-5f0b4d62f833?source=collection_archive---------6-----------------------#2022-11-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/796075c2eb2a2971260874dafaf2b851.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3YlGKrwW_IpTXH6Ik1HUTw.png"/></div></div></figure><p id="3178" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是一篇关于使用Python和Plotly创建带有金融股票数据的蜡烛图的快速文章。</p><p id="ee2e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将使用几个可以和pip一起安装的包。</p><p id="7954" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Yahooquery <em class="jn"> </em>是一个非官方雅虎财经API端点的python接口。</p><p id="35f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">plotly.graph_objects包含plotly图形的构建块。</p><p id="9d9f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们如下导入它们。</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="d0e8" class="jx jy hh jt b be jz ka l kb kc">from yahooquery                   import Ticker<br/>from datetime                     import date<br/>import plotly.graph_objects       as go</span></pre><p id="75d0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">股票数据可以通过下面的查询得到。</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="b673" class="jx jy hh jt b be jz ka l kb kc">Tick_nm = 'gme'<br/>df = Ticker(Tick_nm).history(interval="1d", start=("2020-11-01"), end=(date.today().strftime("%Y-%m-%d"))).reset_index()<br/>df</span></pre><p id="e666" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这个例子中,“meme”股票Gamestop的数据被放入一个数据帧中。</p><p id="6f90" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要查看其他股票，可以将Tick_nm变量更改为适当的股票代号。</p><p id="7972" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">股票代号或股票代码是一种缩写，用于唯一标识特定股票市场上特定股票的公开交易股票。</p><p id="072b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这创建了一个从2020年11月到今天的GameStop(gme)股票价格的数据框架。</p><figure class="jo jp jq jr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kd"><img src="../Images/9b43689560a798e8d943bbe32889dbe8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RGrK2L_0xa_l2PcaWJkoA.png"/></div></div></figure><p id="e7eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将使用Plotly来创建一个烛台股票价格图与以下数据点。</p><p id="6973" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">开盘价——指开盘价，这是在交易日交易所开盘时证券首次交易的价格。</p><p id="169d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">高——指股票在交易日中的最高交易价格。</p><p id="7ea8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">低——指股票在交易日中的最低交易价格</p><p id="a59c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">收盘——指股票在常规交易时段的最后交易价格。</p><pre class="jo jp jq jr fd js jt ju bn jv jw bi"><span id="1756" class="jx jy hh jt b be jz ka l kb kc">CandleStick = [go.Candlestick(x=df['date'],<br/>    open=df['open'],<br/>    high=df['high'],<br/>    low=df['low'],<br/>    close=df['close'],<br/>    name='Stock Price')]<br/><br/>Layout = go.Layout(title =Tick_nm.upper() + " Share Price",<br/>                    title_x=0.5,<br/>                    template='plotly_dark',<br/>                    yaxis2=dict(title='Share Price'.title(), side='right', overlaying='y'))<br/><br/>Share_Figure = go.Figure(data = CandleStick, layout = Layout)<br/>Share_Figure.update_layout( plot_bgcolor='#32383E', paper_bgcolor ='#32383E',<br/>                            yaxis_tickprefix = '$',yaxis_tickformat = ',')<br/><br/>Share_Figure.show()</span></pre><p id="fffb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">生成下图。我们可以想象华尔街Bets reddit论坛推动的股价飙升。</p><figure class="jo jp jq jr fd ii"><div class="bz dy l di"><div class="ke kf l"/></div></figure><p id="7c8c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这将提供一个快速简单的方法来显示任何股票的价格。</p><div class="kg kh ez fb ki kj"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kk ab dw"><div class="kl ab km cl cj kn"><h2 class="bd hi fi z dy ko ea eb kp ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="kq l"><h3 class="bd b fi z dy ko ea eb kp ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="kr l"><p class="bd b fp z dy ko ea eb kp ed ef dx translated">medium.com</p></div></div><div class="ks l"><div class="kt l ku kv kw ks kx in kj"/></div></div></a></div></div></div>    
</body>
</html>