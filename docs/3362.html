<html>
<head>
<title>Tracking ML Models with MLFoundry</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用MLFoundry跟踪ML模型</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/tracking-ml-models-with-mlfoundry-5de8520752e6?source=collection_archive---------2-----------------------#2022-08-23">https://medium.com/mlearning-ai/tracking-ml-models-with-mlfoundry-5de8520752e6?source=collection_archive---------2-----------------------#2022-08-23</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="bfb5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我正处于数据科学的早期，我遇到了数据科学家必须遵循的最佳实践。其中一个有影响的实践是实验跟踪。</p><p id="c7bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">什么是实验跟踪？</p><ul class=""><li id="5276" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">顾名思义，这是一个简单的实践，我们跟踪所有的实验和它们的度量。由于机器学习模型管道是一种迭代方法，所以最好存储、跟踪和检索项目中所做的实验。</li><li id="d62f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">分类模型的实验跟踪的一个简单例子是记录所有的度量，如召回率、精确度、准确度和F1分数。</li></ul><p id="c594" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">跟踪不应该仅仅局限于度量和模型统计。由于我们在即兴发挥模型的准确性，我们可能会改变训练数据，最好也记录数据。</p><figure class="jr js jt ju fd jv er es paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="er es jq"><img src="../Images/cc57d1eb72c5c6efb8c8367e77c6e022.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4bgY9OErP84L6tQx"/></div></div><figcaption class="kc kd et er es ke kf bd b be z dx">Photo by <a class="ae kg" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Mika Baumeister</a> on <a class="ae kg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9637" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我已经使用MLFoundry作为我的实验跟踪工具一个月了，有一些很棒的特性我们应该知道。让我们开始学习如何使用MLFoundry。</p><p id="a572" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">MLFoundry既可以用作Python包，也可以用作CLI。我们将使用Python包。从pip安装软件包</p><pre class="jr js jt ju fd kh ki kj kk aw kl bi"><span id="a166" class="km kn hh ki b fi ko kp l kq kr">pip install mlfoundry</span></pre><p id="230d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以在这里创建一个账户<a class="ae kg" href="https://app.truefoundry.com/signin" rel="noopener ugc nofollow" target="_blank">，并在这里</a>从<a class="ae kg" href="https://app.truefoundry.com/secrets" rel="noopener ugc nofollow" target="_blank">获得你的API密匙。一旦一切都设置好了，你就可以从你的Python脚本或者Jupyter笔记本连接到MLFoundry</a></p><pre class="jr js jt ju fd kh ki kj kk aw kl bi"><span id="f583" class="km kn hh ki b fi ko kp l kq kr">import mlfoundry<br/>mlfoundry.login(relogin=False)<br/>client = mlfoundry.get_client()</span></pre><p id="3e8f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">系统将提示您粘贴API密钥，粘贴后，您的用户会话将被保存，并且不再需要重新验证。</p><p id="dc39" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">考虑一个分类问题，我们训练一个RandomForestClassifier，使用MLFoundry，我们可以记录模型及其参数以及指标，还可以读取记录的指标和模型，使其成为机器学习操作的完美版本控制系统。</p><p id="ab8d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ML指标可以通过几行Python代码来记录。</p><pre class="jr js jt ju fd kh ki kj kk aw kl bi"><span id="911b" class="km kn hh ki b fi ko kp l kq kr">run.log_model(model=xgb, framework="xgboost")</span><span id="da76" class="km kn hh ki b fi ks kp l kq kr">run.log_dataset(features=X_train, actuals=y_train, dataset_name="train")<br/>run.log_dataset(features=X_test, actuals=y_test, dataset_name="test")</span><span id="c278" class="km kn hh ki b fi ks kp l kq kr">run.log_metrics(metric_dict={"accuracy": round(metrics.accuracy_score(y_test, y_pred_test),2),<br/>                            "precision": round(metrics.precision_score(y_test, y_pred_test),2),<br/>                             "recall": round(metrics.recall_score(y_test, y_pred_test),2),<br/>                            "f1-score": round(metrics.f1_score(y_test, y_pred_test),2)})</span></pre><p id="22ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们看一下仪表板，上面有上传的指标和数据。</p><figure class="jr js jt ju fd jv"><div class="bz dy l di"><div class="kt ku l"/></div><figcaption class="kc kd et er es ke kf bd b be z dx">MLFoundry Run Dashboard</figcaption></figure><p id="785b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">完整的笔记本请看我的<a class="ae kg" href="https://www.kaggle.com/code/vishank97/tracking-ml-models-with-mlfoundry" rel="noopener ugc nofollow" target="_blank"> Kaggle笔记本</a>，我在里面记录了泰坦尼克号比赛的模型。</p><p id="a89c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用此工具的最佳方式是当您正在处理在数据和模型训练方面有所改进的项目时</p><p id="f229" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我觉得这个工具的理想用法是当我们遵循数据科学生命周期的迭代方法时，我们不断地改变数据，即兴进行模型的训练，并计算什么模型与什么训练数据工作得好。</p><p id="2712" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你学到了新的东西，一定要把这篇文章分享给可能需要它的人。</p><div class="kv kw ez fb kx ky"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kz ab dw"><div class="la ab lb cl cj lc"><h2 class="bd hi fi z dy ld ea eb le ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lf l"><h3 class="bd b fi z dy ld ea eb le ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lg l"><p class="bd b fp z dy ld ea eb le ed ef dx translated">medium.com</p></div></div><div class="lh l"><div class="li l lj lk ll lh lm ka ky"/></div></div></a></div></div></div>    
</body>
</html>