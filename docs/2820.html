<html>
<head>
<title>A/B Testing Result Analysis Using Python— Beginner’s Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python进行A/B测试结果分析——初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/a-b-testing-result-analysis-using-python-beginners-guide-7a6562933f7?source=collection_archive---------2-----------------------#2022-06-14">https://medium.com/mlearning-ai/a-b-testing-result-analysis-using-python-beginners-guide-7a6562933f7?source=collection_archive---------2-----------------------#2022-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="fa0c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最近，我刚刚完成了udacity.com的A/B测试课程。那是为数不多的让我爱上数据科学概念的在线课程之一。我设法找到了这个从一个移动游戏中收集的A/B测试结果数据集。我在这里，分享我的分析和笔记。</p><p id="080c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">笔记本和资料可以在这里找到:<a class="ae jc" href="https://github.com/Asuna-sama-1/A-B-Testing-Analysis" rel="noopener ugc nofollow" target="_blank"> Github </a></p><p id="053c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">A/B测试结果分析包括:</p><ol class=""><li id="dcc2" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">数据探索/清理</li><li id="243b" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">通过<em class="jr">概率抽样(Bootstrap) </em>或<em class="jr">统计检验</em>进行分析</li></ol><p id="853c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://drive.google.com/file/d/193EdFuOMb1LliuJ-Nl0QD6PtQyaWfvvH/view?usp=drivesdk" rel="noopener ugc nofollow" target="_blank">链接到<strong class="ig hi">统计测试</strong>思维导图</a></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/667d0c6dcc44b45ad34ebcab6195be31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGi9n6oyk_kEsopNi-5R_w.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Mindmap for Statistic test</figcaption></figure><h1 id="fa8f" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated">1.数据探索</h1><p id="a171" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">该数据包含五列:</p><ol class=""><li id="56ed" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated"><strong class="ig hi"><em class="jr"/></strong>:每个玩家唯一的用户id</li><li id="b785" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated"><strong class="ig hi"> <em class="jr">版本</em> </strong>:测试了两个版本(gate_30和gate_40)</li><li id="41d1" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated"><strong class="ig hi"><em class="jr">sum _ gamer ounds</em></strong>:用户玩的游戏总数</li><li id="25d4" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated"><strong class="ig hi"> <em class="jr">保留_1 </em> </strong>:第1天保留(bool)</li><li id="b89d" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated"><strong class="ig hi"> <em class="jr">滞留_7 </em> </strong>:第7天滞留(bool)</li></ol><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es ll"><img src="../Images/a593000f3b98f046b6c174b4c906d52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dvdCXHAEZkWSsogwa0zXoA.png"/></div></div></figure><h2 id="db21" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">- sum_gamerounds</h2><p id="2c2d" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">没有探索和清理数据，不能开始任何数据分析项目！我们的数据集相对整洁；我需要做的就是</p><p id="6e56" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.检测(使用直方图和盒批)并移除异常值(玩0轮或超过3000轮)</p><p id="08f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.删除玩了0轮游戏的用户</p><p id="fcef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.检查是否有重复值。</p><h2 id="d2b8" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">-保留</h2><ul class=""><li id="2864" class="jd je hh ig b ih lg il lh ip ma it mb ix mc jb md jj jk jl bi translated">超负荷第一天留存率为<strong class="ig hi">46.5%</strong>；A版有<strong class="ig hi"> 46.8% </strong>，B版有<strong class="ig hi"> 46.2% </strong></li><li id="2ba3" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb md jj jk jl bi translated">超负荷7天留存率<strong class="ig hi">19.4%</strong>；版本A有<strong class="ig hi"> 19.8% </strong>版本B有<strong class="ig hi"> 19.0% </strong></li><li id="7dff" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb md jj jk jl bi translated">版本A比版本B具有更高的第1天和第7天保留率</li></ul><h1 id="020f" class="ki kj hh bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf bi translated"><strong class="ak"> 2。统计测试</strong></h1><p id="fe85" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">统计测试的一般步骤包括:</p><ol class=""><li id="1361" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb ji jj jk jl bi translated">选择测试(参数或非参数)</li><li id="f477" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">状态零假设和替代假设</li><li id="f920" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb ji jj jk jl bi translated">用P值和检验统计量来决定是否拒绝H0</li></ol><h2 id="4620" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">2.1选择测试</h2><p id="6d7c" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">为了确定参数或非参数检验，我们首先需要检查三个假设:(1)变量的<strong class="ig hi">独立性</strong>(2)数据的<strong class="ig hi">正态性</strong>(3)方差的<strong class="ig hi">齐性</strong>。</p><ul class=""><li id="af6c" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb md jj jk jl bi translated">有多种方法可以检查<strong class="ig hi">是否正常</strong>:</li></ul><p id="6c23" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过图表-</p><p id="9284" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> QQ图</strong>:如果数据呈正态分布，我们应该看到所有的点都坐在直线上。</p><p id="eb04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">箱线图</strong>:如果数据呈正态分布，我们应该看到中间的均值和中位数。</p><p id="6de7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">直方图</strong>:如果数据呈正态分布，我们应该会看到一条钟形曲线。</p><p id="99a6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过统计测试-</p><p id="a564" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html" rel="noopener ugc nofollow" target="_blank">夏皮罗-维尔克正态性检验</a>，<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html" rel="noopener ugc nofollow" target="_blank">达戈斯蒂诺的K平方检验</a> <a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.shapiro.html" rel="noopener ugc nofollow" target="_blank">正态性检验</a> <a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.normaltest.html" rel="noopener ugc nofollow" target="_blank">卡方正态性检验</a>，<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.chisquare.html" rel="noopener ugc nofollow" target="_blank">卡方正态性检验</a>，<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.jarque_bera.html" rel="noopener ugc nofollow" target="_blank">科尔莫戈罗夫-斯米尔诺夫正态性检验</a>，以及<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.anderson.html" rel="noopener ugc nofollow" target="_blank">安德森-达令正态性检验</a></p><p id="b647" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如果数据通过参数测试:</strong></p><ul class=""><li id="2d47" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb md jj jk jl bi translated">回归检验:SLR，MLR，逻辑回归</li><li id="5b7c" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb md jj jk jl bi translated">比较试验:<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_rel.html" rel="noopener ugc nofollow" target="_blank">配对T检验</a>、<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.ttest_ind.html" rel="noopener ugc nofollow" target="_blank">独立T检验</a>、<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.f_oneway.html" rel="noopener ugc nofollow" target="_blank">方差分析</a>、<a class="ae jc" href="https://www.statsmodels.org/devel/generated/statsmodels.multivariate.manova.MANOVA.html" rel="noopener ugc nofollow" target="_blank">方差分析</a></li><li id="a1d7" class="jd je hh ig b ih jm il jn ip jo it jp ix jq jb md jj jk jl bi translated">相关性检验:<a class="ae jc" href="https://docs.scipy.org/doc/scipy-0.14.0/reference/generated/scipy.stats.pearsonr.html" rel="noopener ugc nofollow" target="_blank">皮尔森相关性</a></li></ul><p id="5c76" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如果数据没有通过非参数测试:</strong></p><ul class=""><li id="9d36" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb md jj jk jl bi translated">比较两组:</li></ul><p id="08d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.mannwhitneyu.html" rel="noopener ugc nofollow" target="_blank">Mann-Whitney U</a>/Wilcoxon秩和(独立，非分类)</p><p id="ad74" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.wilcoxon.html" rel="noopener ugc nofollow" target="_blank"> Wilcoxon符号等级检验</a>/符号检验(配对，非分类)</p><p id="ef20" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.chisquare.html" rel="noopener ugc nofollow" target="_blank">卡方检验</a>，<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.fisher_exact.html" rel="noopener ugc nofollow" target="_blank">费雪精确检验</a>(独立，分类)</p><ul class=""><li id="f819" class="jd je hh ig b ih ii il im ip jf it jg ix jh jb md jj jk jl bi translated">比较3组或更多组:<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.kruskal.html" rel="noopener ugc nofollow" target="_blank">克鲁斯卡尔沃利斯检验</a>(独立)<a class="ae jc" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.friedmanchisquare.html" rel="noopener ugc nofollow" target="_blank">弗里德曼检验</a>(配对)，等等</li></ul><p id="5072" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jc" href="https://drive.google.com/file/d/11zDXLSMI3JnnfaGFk3NFqA2QrV-6lHgU/view?usp=drivesdk" rel="noopener ugc nofollow" target="_blank">链接到思维导图</a></p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es me"><img src="../Images/d1f7837e91211522314003550206cd07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MnJDnfmFcHWAjWSEPtE3Ww.png"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx"><a class="ae jc" href="https://drive.google.com/file/d/11zDXLSMI3JnnfaGFk3NFqA2QrV-6lHgU/view?usp=drivesdk" rel="noopener ugc nofollow" target="_blank">https://drive.google.com/file/d/11zDXLSMI3JnnfaGFk3NFqA2QrV-6lHgU/view?usp=drivesdk</a>Parametric vs Non-Parametric Tests</figcaption></figure><h2 id="eb17" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">- sum_gamerounds</h2><p id="1672" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">根据上面的图表，我们正在进行非参数检验→ 2组→独立→定量结果→ <strong class="ig hi">曼-惠特尼U检验</strong></p><h2 id="7b9b" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">-第1天/第7天保留</h2><p id="2ac0" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">根据上面的图表，我们正在进行非参数检验→ 2组→独立→二元(分类)结果→<strong class="ig hi">χ2检验</strong></p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><h2 id="ab30" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">2.2陈述零假设和替代假设</h2><h2 id="32d7" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">- sum_gamerounds</h2><p id="7503" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated"><strong class="ig hi"> H0 </strong>:两个版本的sum_gamerounds没有显著差异</p><p id="0f54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> H1: </strong>两个版本的sum_gamerounds有显著差异</p><h2 id="b40a" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">-第1天/第7天保留</h2><p id="35ac" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated"><strong class="ig hi"> H0 </strong>:两个版本的留存率没有明显差异</p><p id="059d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> H1 </strong>:两个版本的留存率有显著差异</p></div><div class="ab cl mf mg go mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="ha hb hc hd he"><h2 id="1965" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">2.3使用P值和测试统计来决定是否拒绝H0</h2><h2 id="69ff" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">- sum_gamerounds</h2><p id="4bb5" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">由于p=0.0588，大于0.05，我们<strong class="ig hi">无法拒绝</strong>两个版本之间的sum _ gamerounds没有<strong class="ig hi">显著差异的无效假设</strong></p><h2 id="d712" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">-第一天保留</h2><p id="1051" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">由于第一天的保留率p=0.1155，大于0.05，<strong class="ig hi">无法拒绝</strong>两个版本没有<strong class="ig hi">和</strong>显著差异的零假设。</p><h2 id="957f" class="lm kj hh bd kk ln lo lp ko lq lr ls ks ip lt lu kw it lv lw la ix lx ly le lz bi translated">-第7天保留</h2><p id="f18a" class="pw-post-body-paragraph ie if hh ig b ih lg ij ik il lh in io ip li ir is it lj iv iw ix lk iz ja jb ha bi translated">因为第7天的保留率p=0.0027，这是&lt;0.05, we have enough evidence to <strong class="ig hi">拒绝</strong>两个版本有显著差异的原假设。</p><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hi fi z dy mu ea eb mv ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd kc mp"/></div></div></a></div></div></div>    
</body>
</html>