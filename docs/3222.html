<html>
<head>
<title>Logistic Regression for Diabetes Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">糖尿病数据的逻辑回归</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/logistic-regression-for-diabetes-data-b2fb5ed1894d?source=collection_archive---------1-----------------------#2022-08-06">https://medium.com/mlearning-ai/logistic-regression-for-diabetes-data-b2fb5ed1894d?source=collection_archive---------1-----------------------#2022-08-06</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="c978" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">如果你有一个二元结果，你不应该使用线性回归！</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/fc863c6ab42e9d8633c50ad4c249d4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*db8vLlntNN8v_MEf02xbzw.png"/></div></div></figure><p id="b1c5" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">无意中尝试对某个问题使用线性回归是很常见的，但是数据科学家应该仔细理解所研究内容的本质。线性回归只适用于数值型和连续型的目标变量。</p><p id="4717" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">因此，对于二元结果，应该应用另一种方法。在本文中，我将展示如何训练一个简单的逻辑回归(这是一个<a class="ae ke" href="https://en.wikipedia.org/wiki/Generalized_linear_model" rel="noopener ugc nofollow" target="_blank">广义线性模型</a>)来预测一名女性是否患有糖尿病，给定一组协变量。我们将使用R并导入<a class="ae ke" href="https://www.tidyverse.org/" rel="noopener ugc nofollow" target="_blank"> tidyverse </a>(用于一些数据操作工具)和<a class="ae ke" href="https://broom.tidymodels.org/" rel="noopener ugc nofollow" target="_blank"> broom </a>。</p><p id="7eec" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">关于数据</strong></p><p id="477e" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">该数据集在<a class="ae ke" href="https://www.kaggle.com/datasets/uciml/pima-indians-diabetes-database" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上获得，包含至少21岁的皮马印第安血统患者(仅限女性)的信息。</p><p id="f287" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">首先，我们来读数据。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="kf kg l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es kh"><img src="../Images/4121edb870107203db5fb84a6b58a75a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*jzuvbO4X2VdwJLNbgB1lig.png"/></div></figure><p id="9a90" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">结果变量识别女性是否患有糖尿病(等于1)或不患有糖尿病(等于0)。其他变量代表一些整体身体测量。</p><p id="7bc1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">零值插补</strong></p><p id="829e" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">在检查没有空值之后，我们发现这些列(葡萄糖、血压、皮肤厚度、胰岛素和身体质量指数)有一些零值。这没有任何意义(一个人不可能把血压测量为零！)</p><p id="8694" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">怎么处理那些诡异的零值？有很多估算数据的技术。我们将把它替换为由结果分隔的列的theseparatedmean。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="03e2" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">训练模型</strong></p><p id="18a1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">逻辑回归是一个具有(当然)统计属性的统计模型，因此在训练和测试数据集中拆分数据不是非常必要，但在机器学习场景中，我们会拆分它。像这样:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="kf kg l"/></div></figure><p id="4ad9" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">现在，我们有一个包含70%原始数据帧的训练数据集和一个包含30%原始数据帧的测试数据集。</p><p id="bfb1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">现在，我们可以训练我们的模型。我们将使用所有的协变量，并添加胰岛素和年龄的平方效应(选择这种组合是因为后来产生了有趣的结果)。为了训练模型，我们编写以下代码:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="kf kg l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ki"><img src="../Images/45ab0873b38c4fff4331ed01e60eb0a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Msi8t59stdnHcOx4S4Y8YA.png"/></div></div></figure><p id="0744" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">与线性回归不同，系数对目标变量有指数和乘法影响，保持其他一切不变(在本文中，我们将不详细解释系数)。我们可以将系数影响总结如下:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es kj"><img src="../Images/1239cfaf3bb5c79cdbb035c87f3d22cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*b-eQ5lSX7Chy7GytiMciPw.png"/></div></figure><p id="a865" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">因此，糖尿病患者的糖尿病功能、年龄、怀孕和血糖是增加女性患糖尿病概率的最有影响的协变量。</p><p id="4ef9" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">评估模型性能</strong></p><p id="12e0" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">现在，让我们使用我们的测试数据集来检查训练模型的准确性。考虑到所有样本数据，准确度是正确预测类别的比例。重要的是要说，精度不是评价模型性能的唯一尺度。这里的其他指标更有趣，比如回忆。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="kf kg l"/></div></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es kk"><img src="../Images/e1f4a312986849900a43cecdcdc908a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:348/format:webp/1*rHmPuc-4opvfKliN_6paQg.png"/></div></figure><p id="2c8e" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">该模型的精确度大约为82%,这是相当高的。召回率大约为68%,表明在样本事实上患有糖尿病的情况下，训练的模型对于检测糖尿病是适度敏感的。</p><p id="c1e3" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">结论</strong></p><p id="500b" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">在这篇文章中，一个简单的逻辑回归模型被用来预测女性是否患有糖尿病。</p><p id="1fb0" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">插补方法只是使用平均值，但也可以使用其他更复杂的技术，如<a class="ae ke" href="https://cran.r-project.org/web/packages/miceRanger/vignettes/miceAlgorithm.html" rel="noopener ugc nofollow" target="_blank"> MICE(通过链式方程进行多重插补)。</a></p><p id="5456" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">为了评估模型性能，我们考察了准确性和召回指标。</p><p id="3d04" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我会把我的信息留在这里！</p><blockquote class="kl km kn"><p id="3d20" class="ji jj ko jk b jl jm ii jn jo jp il jq kp js jt ju kq jw jx jy kr ka kb kc kd ha bi translated"><strong class="jk hi">Linkedin:</strong><a class="ae ke" href="https://www.linkedin.com/in/marcos-augusto-47o47/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/marcos-augusto-47o47/</a><br/><strong class="jk hi">Github:</strong><a class="ae ke" href="https://github.com/MarcosAugusto47" rel="noopener ugc nofollow" target="_blank">https://github.com/MarcosAugusto47</a></p></blockquote><div class="ks kt ez fb ku kv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hi fi z dy la ea eb lb ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">medium.com</p></div></div><div class="le l"><div class="lf l lg lh li le lj jg kv"/></div></div></a></div></div></div>    
</body>
</html>