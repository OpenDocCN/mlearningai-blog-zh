<html>
<head>
<title>Designing a Data Platform</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设计数据平台</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/designing-a-data-platform-20426450158a?source=collection_archive---------2-----------------------#2022-06-12">https://medium.com/mlearning-ai/designing-a-data-platform-20426450158a?source=collection_archive---------2-----------------------#2022-06-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="d0b7" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">动机</h1><p id="23e3" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据平台设计不仅与ETL管道有关，还与其他组件有关，这些组件使数据分析之旅高效而健壮。本文的目的是提供一个完整数据平台中每个组件的介绍和范围。</p><p id="8459" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">以下是数据平台的6大支柱。</p><h1 id="1c92" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">数据平台的支柱</h1><ol class=""><li id="99d8" class="kf kg hh je b jf jg jj jk jn kh jr ki jv kj jz kk kl km kn bi translated">ELT层</li><li id="fd2e" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz kk kl km kn bi translated">数据发现层</li><li id="0a58" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz kk kl km kn bi translated">数据谱系</li><li id="fe53" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz kk kl km kn bi translated">数据质量</li><li id="c350" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz kk kl km kn bi translated">自动化监控和警报</li><li id="a5c0" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz kk kl km kn bi translated">数据治理(审计和访问控制)</li></ol><h1 id="6c7e" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">设计数据平台的先决条件</h1><h2 id="b582" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">1.识别源系统</h2><p id="2fcc" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">存储交易数据并可供分析使用的源系统。</p><ul class=""><li id="c9b3" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">服务的事务关系数据库(MySQL、Postgres、SqlServer)</li><li id="0acb" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">没有SQL数据库(AWS DynamoDB、MongoDB..)</li><li id="b0e4" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">对象存储(S3、Azure Blob存储等)</li><li id="6224" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">消息队列(SQS，MSMQ..)</li><li id="7413" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">流媒体源(AWS Kinesis、Spark Streaming、Kafka)</li></ul><h2 id="043c" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">2.确定利益相关者和数据访问模式</h2><p id="e1c2" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">将从数据平台消费数据以获得数据洞察力的利益相关者。</p><ul class=""><li id="16e4" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">高管—提供高级摘要的领导仪表板</li><li id="e21b" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">产品所有者—用于发现新的业务机会</li><li id="a3ec" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">数据科学—训练ML模型和运行A/B测试..</li><li id="04f1" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">SWE —对数据仓库数据的编程访问</li><li id="b330" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">数据工程师/BIE —构建数据集市和BI报告</li></ul><p id="aa27" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">利益相关者的访问模式可能大不相同，数据平台需要设计为在不影响性能的情况下处理利益相关者的不同访问模式。</p><h2 id="953e" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">常见的数据访问模式</h2><ul class=""><li id="5d45" class="kf kg hh je b jf jg jj jk jn kh jr ki jv kj jz lk kl km kn bi translated">批量数据加载—从ETL工具进行数据访问</li><li id="23cc" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">交互式分析—使用查询工具和IDE进行访问(即席SQL查询)</li><li id="b9de" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">数据科学—使用Python ML库进行数据访问</li><li id="a9ff" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">报告—通过Tableau、Quicksight等报告工具进行数据访问..</li></ul><h1 id="29a5" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">设计数据平台</h1><p id="b069" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">以下是数据平台的高级概述。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es ll"><img src="../Images/ce47933cf3711e0fbaf885289dc7450b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*irb5kyiuLhgXk1tPgX7i5w.png"/></div></div><figcaption class="lx ly et er es lz ma bd b be z dx">High Level Overview of Data Platform</figcaption></figure><h2 id="e2b7" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">1.ELT —提取负载和转换</h2><p id="228c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">从源系统中提取数据并以本机格式加载到数据湖，然后对其进行清理、转换并加载到将用于数据分析的新层中。以下是数据湖图层的属性</p><ul class=""><li id="73d6" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">读取模式</li><li id="05e8" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">压缩存储(gzip、snappy等)—根据文件格式决定</li><li id="753a" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">存储文件格式(拼花、Avro、CSV、TSV、JSON)</li></ul><h2 id="aa13" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">2.数据发现</h2><p id="3bd2" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据发现层将使消费者能够发现平台中可用的数据。</p><ul class=""><li id="b16f" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">表和列详细信息</li><li id="15ba" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">列描述</li><li id="872c" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">分区密钥信息</li><li id="3142" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">数据集所有者</li><li id="b8f6" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">访问详细信息(谁可以访问数据)</li></ul><p id="71b4" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">AWS Glue Catalog、Hive Catalog是支持数据发现的服务。</p><h2 id="2574" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">3.数据谱系</h2><p id="022c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据沿袭层提供了跟踪数据集的上游和下游依赖关系的能力。在典型的DW环境中，数据在转换后从0级加载到N级。跟踪沿袭对于解决数据质量问题和确定影响至关重要。</p><h2 id="c27a" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">4.管道监控和警报</h2><p id="30fc" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据准确性和满足SLA对于任何数据分析系统来说都是满足终端用户需求的关键。DW管线<strong class="je hi">确实因瞬时原因而失效</strong>。为了有效管理数据平台，需要自动监控和警报。</p><ul class=""><li id="fe6f" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">自动重试(有间隔和回退限制)</li><li id="25d0" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">针对手动操作(电子邮件或票证)的警报</li></ul><h2 id="70ad" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">5.数据质量</h2><p id="4d70" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据质量是整个平台的关键组成部分。每个数据集都应该检查以下属性</p><ul class=""><li id="3156" class="kf kg hh je b jf ka jj kb jn lh jr li jv lj jz lk kl km kn bi translated">完全</li><li id="6919" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">精确的</li><li id="33b7" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">及时</li><li id="9cd5" class="kf kg hh je b jf ko jj kp jn kq jr kr jv ks jz lk kl km kn bi translated">一致的</li></ul><p id="6b39" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">数据质量检查可以基于p <strong class="je hi"> ast趋势或纯粹基于统计来创建。</strong></p><p id="a328" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">工具:Deequ，远大前程和DBT</p><h2 id="5b01" class="kt if hh bd ig ku kv kw ik kx ky kz io jn la lb is jr lc ld iw jv le lf ja lg bi translated">6.数据治理(审计和隐私)</h2><p id="9b43" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">数据治理确保跟踪数据使用情况，并确保正确的人能够访问正确的数据集。</p><p id="4e39" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">最近，GDPR、CCPA等法律合规性法律变得越来越重要，设计能够在最细粒度级别(表中的记录级别)提取和删除数据的数据平台至关重要</p><p id="2974" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">访问控制系统将确保基于细粒度的数据访问控制。ie(表、列或分区级别的访问策略)</p><p id="d0cc" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">数据湖上的积垢:冰山、阿帕奇胡迪、三角洲湖</p><h1 id="f7fc" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">摘要</h1><p id="eaea" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">综上所述，下面是使用AWS技术的设计示例。</p><p id="e754" class="pw-post-body-paragraph jc jd hh je b jf ka jh ji jj kb jl jm jn kc jp jq jr kd jt ju jv ke jx jy jz ha bi translated">每项服务都可以用开源或其他云平台服务替代。</p><figure class="lm ln lo lp fd lq er es paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="er es mb"><img src="../Images/db2c8ddf3ec0738608453b684ef2da28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z0MfAAU-eLRLktnUYo_4Nw.png"/></div></div></figure><div class="mc md ez fb me mf"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mg ab dw"><div class="mh ab mi cl cj mj"><h2 class="bd hi fi z dy mk ea eb ml ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mm l"><h3 class="bd b fi z dy mk ea eb ml ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mn l"><p class="bd b fp z dy mk ea eb ml ed ef dx translated">medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt lv mf"/></div></div></a></div></div></div>    
</body>
</html>