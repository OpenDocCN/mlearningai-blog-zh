<html>
<head>
<title>Machine learning in Dart programming language</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Dart编程语言中的机器学习</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/machine-learning-in-dart-programming-language-fbfffd7deb18?source=collection_archive---------1-----------------------#2022-06-07">https://medium.com/mlearning-ai/machine-learning-in-dart-programming-language-fbfffd7deb18?source=collection_archive---------1-----------------------#2022-06-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7aa9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">大家好！</p><p id="b3ca" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我叫伊利亚，是一名软件工程师。我的主要活动是前端开发。JavaScript之后我遇到的第一个“严肃”的编程语言是Dart——有一次，我的团队用这种语言开发了我们项目的前端。</p><p id="0e6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">几年前，我对机器学习产生了兴趣，研究机器学习算法成了我的爱好。有一天我想，为什么不把我的爱好和Dart的发展结合起来呢？在检查了<a class="ae jc" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上的库和<a class="ae jc" href="https://pub.dev/" rel="noopener ugc nofollow" target="_blank"> pub.dev </a>上的包之后，我确信还没有人用这种语言在机器学习领域创造过任何东西，所以我决定用Dart创建一个包含一组流行的机器学习算法的库。所以才诞生了<a class="ae jc" href="https://github.com/gyrdym/ml_algo" rel="noopener ugc nofollow" target="_blank"> ml_algo </a>库和几个相关的库，形成了整个生态系统。在本文中，我将向您介绍上面提到的库，重点介绍<a class="ae jc" href="https://github.com/gyrdym/ml_algo" rel="noopener ugc nofollow" target="_blank"> ml_algo </a>。</p><h1 id="341c" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">生态系统由以下库组成:</strong></h1><ul class=""><li id="7dae" class="kb kc hh ig b ih kd il ke ip kf it kg ix kh jb ki kj kk kl bi translated"><a class="ae jc" href="https://github.com/gyrdym/ml_algo" rel="noopener ugc nofollow" target="_blank"> ml_algo </a> —机器学习算法的实现</li><li id="4cc9" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://github.com/gyrdym/ml_dataframe" rel="noopener ugc nofollow" target="_blank"> ml_dataframe </a> —可包含已处理数据和原始数据的数据存储器。库的中心实体是类似于熊猫数据帧的<code class="du kr ks kt ku b">DataFrame</code>类。</li><li id="5279" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://github.com/gyrdym/ml_preprocessing" rel="noopener ugc nofollow" target="_blank">ml _预处理</a> —数据预处理算法的实现</li><li id="799c" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://github.com/gyrdym/ml_linalg" rel="noopener ugc nofollow" target="_blank"> ml_linalg </a>。该库包含用于高效数学计算的向量和矩阵类。本库使用作为<a class="ae jc" href="https://github.com/gyrdym/ml_algo" rel="noopener ugc nofollow" target="_blank"> ml_algo </a> lib中数据的内部表示。</li></ul><h1 id="d406" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">ml _ algo库包括以下算法:</strong></h1><p id="0b6b" class="pw-post-body-paragraph ie if hh ig b ih kd ij ik il ke in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated"><strong class="ig hi">线性回归:</strong></p><ul class=""><li id="f7f3" class="kb kc hh ig b ih ii il im ip ky it kz ix la jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LinearRegressor/LinearRegressor.lasso.html" rel="noopener ugc nofollow" target="_blank">套索回归</a></li><li id="67fb" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LinearRegressor/LinearRegressor.SGD.html" rel="noopener ugc nofollow" target="_blank">基于随机梯度下降的回归</a></li><li id="d1aa" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LinearRegressor/LinearRegressor.html" rel="noopener ugc nofollow" target="_blank">线性回归的封闭解</a></li></ul><p id="53e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">非线性回归:</strong></p><ul class=""><li id="bba1" class="kb kc hh ig b ih ii il im ip ky it kz ix la jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/KnnRegressor-class.html" rel="noopener ugc nofollow" target="_blank"> KNN回归</a></li></ul><p id="620a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">线性分类:</strong></p><ul class=""><li id="a53e" class="kb kc hh ig b ih ii il im ip ky it kz ix la jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LogisticRegressor/LogisticRegressor.SGD.html" rel="noopener ugc nofollow" target="_blank">基于随机梯度下降的逻辑回归</a></li><li id="1de8" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LogisticRegressor/LogisticRegressor.BGD.html" rel="noopener ugc nofollow" target="_blank">基于批量梯度下降的逻辑回归</a></li><li id="9997" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LogisticRegressor/LogisticRegressor.newton.html" rel="noopener ugc nofollow" target="_blank">基于牛顿-拉夫森方法的逻辑回归</a></li><li id="2675" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/SoftmaxRegressor-class.html" rel="noopener ugc nofollow" target="_blank"> Softmax回归</a></li></ul><p id="d39e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">非线性分类:</strong></p><ul class=""><li id="8a35" class="kb kc hh ig b ih ii il im ip ky it kz ix la jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/DecisionTreeClassifier-class.html" rel="noopener ugc nofollow" target="_blank">决策树分类</a></li><li id="f6bc" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/KnnClassifier-class.html" rel="noopener ugc nofollow" target="_blank"> KNN分类</a></li></ul><p id="47da" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">聚类和检索:</strong></p><ul class=""><li id="f1c8" class="kb kc hh ig b ih ii il im ip ky it kz ix la jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/kd_tree/KDTree-class.html" rel="noopener ugc nofollow" target="_blank"> KDTree检索</a></li><li id="2fdf" class="kb kc hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated"><a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/RandomBinaryProjectionSearcher-class.html" rel="noopener ugc nofollow" target="_blank">基于随机二进制投影的局部敏感散列法</a></li></ul><p id="7472" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们看一个使用库的简单例子。</p><p id="a7d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">假设我们要训练一个线性回归模型(你可以在这里阅读什么是线性回归<a class="ae jc" rel="noopener" href="/mlearning-ai/a-gentle-introduction-to-linear-regression-the-dart-way-9750214e6fa2?source=friends_link&amp;sk=e199d8f5b0bb71c97525be2ee7f5819b">)。例如，我们可以使用所谓的玩具数据集，其中包含来自</a><a class="ae jc" href="https://www.kaggle.com/datasets/uciml/red-wine-quality-cortez-et-al-2009" rel="noopener ugc nofollow" target="_blank">葡萄酒质量数据集</a>的数据，这是ml_dataframe库出于演示目的而提供的。</p><p id="475c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，让我们向pubspec.yaml添加必要的依赖项:</p><pre class="lb lc ld le fd lf ku lg lh aw li bi"><span id="e301" class="lj je hh ku b fi lk ll l lm ln">ml_algo: ^16.15.1<br/>ml_dataframe: ^1.5.0</span></pre><p id="2691" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后我们加载数据来训练模型:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="bdad" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><code class="du kr ks kt ku b">data</code>变量是一个<a class="ae jc" href="https://pub.dev/documentation/ml_dataframe/latest/ml_dataframe/DataFrame-class.html" rel="noopener ugc nofollow" target="_blank">数据帧</a>实例。让我们打印变量来理解数据的结构:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="ff2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它输出以下内容:</p><figure class="lb lc ld le fd lo er es paragraph-image"><div class="er es lr"><img src="../Images/68720fe5e33e24512751c6122e3eb0ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/1*ovlBtf0KIjxMEAuIS-ZkqQ.png"/></div></figure><p id="a028" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据由11个自变量和一个因变量组成，这11个自变量称为特征，一个因变量是我们的目标，我们必须能够预测“质量”列的值。</p><p id="af7e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，让我们将数据分成训练集和测试集。第一组将训练模型，第二组将评估模型的质量。我们可以使用<a class="ae jc" href="https://github.com/gyrdym/ml_algo" rel="noopener ugc nofollow" target="_blank"> ml_algo </a>库中的<a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/splitData.html" rel="noopener ugc nofollow" target="_blank"> splitData </a>函数来拆分数据:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="ef0a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">正如你所注意到的，我们用参数<code class="du kr ks kt ku b">[0.7]</code>调用了<code class="du kr ks kt ku b">splitData</code>函数——这意味着我们想要使用70%的源数据来训练模型。</p><p id="72e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，我们通过调用<a class="ae jc" href="https://pub.dev/documentation/ml_algo/latest/ml_algo/LinearRegressor/LinearRegressor.html" rel="noopener ugc nofollow" target="_blank">线性回归器</a>构造函数来训练模型:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="adfb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">构造函数接受训练数据作为第一个参数，目标列名作为第二个参数。默认情况下，封闭形式的解决方案使用来定型模型。</p><p id="89fe" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们评估一下这个模型。为此，我们需要找到一个合适的度量标准。平均绝对百分比误差(MAPE)是回归问题的一个很好的度量。让我们使用它:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="c7c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了评估模型，我们调用了<code class="du kr ks kt ku b">assess</code>方法，并将选择的度量类型和测试数据一起传递到那里。最后一条指令打印如下内容:</p><pre class="lb lc ld le fd lf ku lg lh aw li bi"><span id="5520" class="lj je hh ku b fi lk ll l lm ln">0.07042532225989101</span></pre><p id="4b46" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">人们可以将其解释为“平均而言，我们以7%的误差预测了目标值”。让我们比较一下预测值和实际值:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="588b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我们通过从<a class="ae jc" href="https://pub.dev/documentation/ml_dataframe/latest/ml_dataframe/DataFrame-class.html" rel="noopener ugc nofollow" target="_blank"> DataFrame </a>类调用<code class="du kr ks kt ku b">dropSeries</code>方法，从<code class="du kr ks kt ku b">testData</code>中删除了“质量”列。通过这样做，我们模拟了未标记的数据。最后，我们从两组值中选取一些任意的范围来比较它们。</p><p id="8f23" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后两条指令输出以下内容:</p><pre class="lb lc ld le fd lf ku lg lh aw li bi"><span id="64ac" class="lj je hh ku b fi lk ll l lm ln">Actual values: (7, 6, 7, 5, 5)<br/>Predicted values: (6.18, 5.82, 6.49, 5.36, 5.36)</span></pre><p id="ca1f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这看起来很合理。</p><p id="34d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们对我们的模型满意，我们可以将它保存到一个JSON文件中，以便下次跳过重新训练:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="a294" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要恢复模型，我们可以执行以下操作:</p><figure class="lb lc ld le fd lo"><div class="bz dy l di"><div class="lp lq l"/></div></figure><p id="c64d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">差不多就是这样！</p><p id="1fbc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以，是时候搞清楚什么是<a class="ae jc" rel="noopener" href="/mlearning-ai/a-gentle-introduction-to-linear-regression-the-dart-way-9750214e6fa2?source=friends_link&amp;sk=e199d8f5b0bb71c97525be2ee7f5819b">线性回归</a>了。</p><p id="f1d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你有任何问题，你可以通过<a class="ae jc" href="https://twitter.com/ilgyrd" rel="noopener ugc nofollow" target="_blank">推特</a>联系我。</p><p id="a6e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">干杯:)</p><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hi fi z dy mc ea eb md ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml ls lx"/></div></div></a></div></div></div>    
</body>
</html>