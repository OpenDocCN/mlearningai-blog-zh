<html>
<head>
<title>How Much Will You Make Off Of Your Videogame?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你会从你的电子游戏中获得多少？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-much-will-you-sell-off-of-your-videogame-44994aabb125?source=collection_archive---------3-----------------------#2018-06-04">https://medium.com/mlearning-ai/how-much-will-you-sell-off-of-your-videogame-44994aabb125?source=collection_archive---------3-----------------------#2018-06-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="aa2e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">随着我最近努力玩《战地I》和《战地V》将于10月份发行，我对公司如何确定销售什么以及如何销售变得相当感兴趣。我开始寻找有助于解答我的好奇心的数据来源。我发现<a class="ae jc" href="https://www.vgchartz.com/" rel="noopener ugc nofollow" target="_blank"> VGChartz </a>是一个可靠且经常更新的网站。VGChartz包含几个具有视频游戏特征的数据库，包括类型、发行年份、每周和总销售额等等。有了这些数据，我仍然需要找到一种方法来衡量买家中的受欢迎程度，并发现视频游戏的活跃用户也倾向于在Twitter等其他平台上社交。该项目调查了出版商的特征、推文数量和周销售额之间的相关性，以最终预测接下来一周的周销售额。</p></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="c3ae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">获取数据的时间最长(这似乎是数据科学家世界的趋势)。我在网上搜索了VGChartz和Twitter(不，我不知道熊猫创造了一个功能，可以让我用HTML阅读)。</p><p id="47d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我在看周销售额和总销售额。</p><p id="b3d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于总销售额，我用BeautifulSoup开始了网页抓取过程。下面是总销售额的部分代码。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="4e42" class="jt ju hh jp b fi jv jw l jx jy">urlhead = '<a class="ae jc" href="http://www.vgchartz.com/gamedb/?page='" rel="noopener ugc nofollow" target="_blank">http://www.vgchartz.com/gamedb/?page='</a><br/>urltail = '&amp;results=1000&amp;name=&amp;keyword=&amp;console=&amp;region=All&amp;developer=&amp;publisher=&amp;goty_year=&amp;genre=&amp;boxart=Both&amp;ownership=Both&amp;results=50&amp;order=Sales&amp;showtotalsales=0&amp;showtotalsales=1&amp;showpublisher=0&amp;showpublisher=1&amp;showvgchartzscore=0&amp;showvgchartzscore=1&amp;shownasales=0&amp;shownasales=1&amp;showdeveloper=0&amp;showdeveloper=1&amp;showcriticscore=0&amp;showcriticscore=1&amp;showpalsales=0&amp;showpalsales=1&amp;showreleasedate=0&amp;showreleasedate=1&amp;showuserscore=0&amp;showuserscore=1&amp;showjapansales=0&amp;showjapansales=1&amp;showothersales=0&amp;showothersales=1'<br/>clean_list = []</span><span id="2d34" class="jt ju hh jp b fi jz jw l jx jy">for page in range(1,pages):<br/>    surl = urlhead + str(page) + urltail<br/>    r = requests.get(surl)<br/>    soup = BeautifulSoup(r.text,'html.parser')<br/>    <br/>    #even rows<br/>    charts = soup.find_all("tr", attrs={"style": "background-image:url(../imgs/chartBar_alt_large.gif); height:70px"})<br/>    <br/>    for row in charts:<br/>        values = []<br/>        for value in row.find_all("td"):<br/>            if value.text != ' ':<br/>                values.append(value.text)<br/>        values = list(filter(str.strip, values))<br/>        clean_list.append(values)</span></pre><p id="5e3e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">清理数据帧需要删除大量不存在的值和不必要的列。由于总销售数据包括每周销售的类型和其他特征，我必须检查类型、位置等，并将它们分别添加到数据框中。</p><p id="4390" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了让Twitter正常运行，我做了一个数据框，上面有所有比赛的名称，以及需要运行的日期。我把2006年的日期去掉了，因为那是Twitter发布推文的最早日期。</p><p id="08c9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用当前的Twitter API，我只能从过去7天中提取推文。然而，我想获得过去7年的推文。我基于<a class="ae jc" href="https://github.com/Jefferson-Henrique/GetOldTweets-python" rel="noopener ugc nofollow" target="_blank"> Henrique的作品</a>创建了一个函数finding_tweets。请注意，我不得不在每周500条推特上停止，因为计算是内存密集型的，也是时间敏感的。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="2b70" class="jt ju hh jp b fi jv jw l jx jy">def finding_tweets(videogame):<br/>    name = []<br/>    start_date = []<br/>    tweet_date = []<br/>    tweet_text = []<br/>    assert isinstance(videogame[0],str)<br/>    assert isinstance(videogame[1],str)<br/>    assert isinstance(videogame[2],str)<br/>    try:<br/>        tweetCriteria = TweetCriteria().setQuerySearch(videogame[0]).setSince(videogame[1]).setUntil(videogame[2]).setMaxTweets(500)<br/>        tweets = TweetManager.getTweets(tweetCriteria)<br/>        for tweet in tweets:<br/>            tweet_date.append(tweet.date)<br/>            tweet_text.append(tweet.text)<br/>    except:<br/>        print(videogame[0],videogame[1],videogame[2], 'empty')<br/>    df = pd.DataFrame(np.column_stack((tweet_date,tweet_text)))<br/>    df['Name']= videogame[0] <br/>    df['start_date'] = videogame[1]<br/>    df['end_date'] = videogame[2]<br/>    return df</span></pre></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="b4b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在抓取之后但在分析之前，我最终将单位销售额(以百万计)更改为每1000人的单位销售额，并将日期从字符串更改为datetime对象。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="e45a" class="jt ju hh jp b fi jv jw l jx jy">#Populations<br/>USA = 326067398<br/>UK = 66454759<br/>Germany = 82239223<br/>France =  65156451<br/>Japan = 127275698</span><span id="7bfc" class="jt ju hh jp b fi jz jw l jx jy">#Definitions<br/>Europe = UK + Germany + France<br/>Global_pop = USA + Europe + Japan</span><span id="193d" class="jt ju hh jp b fi jz jw l jx jy">#conversions<br/>sales['JP_Sales'] = [float(x)*1000000.0*1000.0/float(Japan) for x in sales['JP_Sales']]<br/>sales['EU_Sales'] = [float(x)*1000000.0*1000.0/float(Europe) for x in sales['EU_Sales']]<br/>sales['NA_Sales'] = [float(x)*1000000.0*1000.0/float(USA) for x in sales['NA_Sales']]<br/>sales['Global_Sales'] = [float(x)*1000000.0*1000.0/float(Global_pop) for x in sales['Global_Sales']]<br/>columns = ['Chartz_Score','User_Score','Critic_Score','Other_Sales']<br/>for col in columns:<br/>    sales[col] = pd.to_numeric(sales[col],downcast='integer')<br/>sales['Year'] = pd.to_datetime(sales['Year_of_Release'],dayfirst=True,errors='coerce').dt.year<br/>sales.head()</span></pre><p id="d166" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当我不得不决定出版商的总部所在地时，我决定考虑通过谷歌地理编码结果得出的第一个结果是最佳选择。我做这个假设的基础是，最高的结果意味着人们看这个最多。</p><p id="4d8b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">VGChartz的大多数游戏都是动作和射击类的，这显然表明人们喜欢这种类型的游戏(否则他们不会继续制作它们)。然而，这意味着数据偏向于这两种类型。</p><p id="0c63" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们准备好出发了！</p><p id="0383" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，我想看看当时最流行的视频游戏是什么。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es ka"><img src="../Images/bf11c8a2f3db259158d36e3a2943d82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*ZsYEnOL29LG_b7oaVXGg9w.png"/></div><figcaption class="ke kf et er es kg kh bd b be z dx">The top ten games with highest value of tweets</figcaption></figure><p id="ac75" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">排名前两位的游戏是侠盗猎车手V和使命召唤二战。我对《使命召唤:二战》并不感到惊讶，因为它几周前才刚刚发行。但是侠盗猎车手V？很久以前就出了！人们仍然在推特上谈论它，所以这可能表明尽管这个游戏已经有5年的历史了，但它仍然很受欢迎。然而，这正是对推文进行感性分析有助于澄清的地方。</p><p id="1ac2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">每个电子游戏都有一个流派。推文数量最多的类型是动作类，然后是射击类。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es ka"><img src="../Images/e2ace94a82115bf55341602a8e0dd45d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*oXkxiDQcYfqZvlDOIzWcpg.png"/></div></figure><p id="6fe5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">又一次，不意外。</p><p id="2e2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">发行商的位置显示大多数游戏实际上都是在北美和欧洲开发的。然而，有些游戏是在南美西部和非洲南部制作的，这是我没有预料到的。</p><figure class="jk jl jm jn fd kb"><div class="bz dy l di"><div class="ki kj l"/></div></figure></div><div class="ab cl jd je go jf" role="separator"><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji jj"/><span class="jg bw bk jh ji"/></div><div class="ha hb hc hd he"><p id="1362" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更注重单位销售，我想看看什么游戏卖得最多，什么时候卖得最多。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es kk"><img src="../Images/2b565804d3625e422b3909f27926895c.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*BMi_I1rzlC_VzQNYrPk2Lg.png"/></div></figure><p id="ebd0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">《使命召唤幽灵》的销量高居榜首有点出乎意料，但这是有道理的，因为这款游戏是《使命召唤》系列的一部分。出于同样的原因，我对《使命召唤:二战》成为销量第二的游戏并不感到惊讶。</p><p id="1183" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在是各大洲的销售额..</p><figure class="jk jl jm jn fd kb"><div class="bz dy l di"><div class="ki kj l"/></div></figure><p id="95c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些游戏大部分是在9月(第9个月)到第11个月的假期期间售出的。请注意，每周的总销售额是价值乘以1e8，即以百万为单位。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div class="er es kk"><img src="../Images/e6b6ea0fce4da99cbcc17086fbff7c7d.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*csua6Ttd8JztvMjx9dXm8A.png"/></div></figure><p id="be54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这让你感到惊讶吗？这是因为大量的销售正在进行，人们正在为自己、家人和朋友购买礼物。也要考虑一下这段时间的天气。这也是为什么大多数游戏都是在这段时间发布的。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="cd31" class="jt ju hh jp b fi jv jw l jx jy">Month Number of Games<br/>1      519<br/>2     1138<br/>3     2525<br/>4     1491<br/>5     1554<br/>6      730<br/>7      343<br/>8     1134<br/>9     1596<br/>10    4748<br/>11    5223<br/>12     892</span></pre><p id="20bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是有了这些数据，我能预测未来几周的销售吗？</p><p id="9344" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我用AdaBoostRegressor和RandomForestRegressor作为基本估计量来预测未来四周的销售额。使用以下参数的测试集准确度得分为0.375。</p><pre class="jk jl jm jn fd jo jp jq jr aw js bi"><span id="38c8" class="jt ju hh jp b fi jv jw l jx jy">0.37511167387659317 AdaBoostRegressor(base_estimator=RandomForestRegressor<br/>(bootstrap=True, criterion='mse', max_depth=None,max_features='sqrt', <br/>max_leaf_nodes=None,<br/>min_impurity_decrease=0.0, <br/>min_impurity_split=None, <br/>min_samples_leaf=1, <br/>min_samples_split=2, <br/>min_weight_fraction_leaf=0.0, <br/>n_estimators=9, <br/>n_jobs=-1,<br/>oob_score=False, <br/>random_state=None, <br/>verbose=0, warm_start=False)<br/>,learning_rate=1.0, loss='linear', n_estimators=50,random_state=None)</span></pre><p id="aff0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">找到了接下来四周所有视频游戏的分数，但决定只显示30分。</p><figure class="jk jl jm jn fd kb er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kl"><img src="../Images/28e3c7272c4a468e60cd16342cf02729.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_LNFegfdR7m6AFsRDiBjw.png"/></div></div></figure><h1 id="97de" class="kq ju hh bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">进一步研究</h1><p id="d0b1" class="pw-post-body-paragraph ie if hh ig b ih ln ij ik il lo in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">我会考虑添加更多的推文。我目前每款游戏每周最多只发500条推文，这造成了对视频游戏受欢迎程度的不准确描述。</p><p id="fd13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因为我目前假设视频游戏的受欢迎程度是由推文的数量决定的，所以在推文的基础上增加一个情感分析会很有帮助。一条负面的推文可能有某个值，比如-1，而一条正面的推文可能大于1，这决定了一款游戏受欢迎背后的潜在原因。</p><p id="e081" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢您的阅读，并期待听到任何评论或反馈！:)</p><p id="a4e9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有兴趣阅读更多关于代码和项目的信息吗？下面是<a class="ae jc" href="https://github.com/sdf94/videogame_sales/blob/master/videogame_sales.ipynb" rel="noopener ugc nofollow" target="_blank">链接</a>！</p><div class="ls lt ez fb lu lv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lw ab dw"><div class="lx ab ly cl cj lz"><h2 class="bd hi fi z dy ma ea eb mb ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mc l"><h3 class="bd b fi z dy ma ea eb mb ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="md l"><p class="bd b fp z dy ma ea eb mb ed ef dx translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kc lv"/></div></div></a></div></div></div>    
</body>
</html>