<html>
<head>
<title>Feature Scaling — Normalization or Standardization?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">特征缩放——规范化还是标准化？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/feature-scaling-normalization-or-standardization-74d73ec90366?source=collection_archive---------5-----------------------#2022-11-20">https://medium.com/mlearning-ai/feature-scaling-normalization-or-standardization-74d73ec90366?source=collection_archive---------5-----------------------#2022-11-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/37a6f7231f97cfa8882956ab9fcb9642.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*BGvwI_K4fyeEnYt1"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@siora18?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Siora Photography</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="b659" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上一篇文章中，我们讨论了在预处理数据集时将分类数据转换为数字数据的编码技术。如果你错过了那个帖子，并且想了解更多关于编码的知识，你可以在我的个人资料中找到。今天，我们将讨论预处理数据时的另一个重要技术:特征缩放！</p><p id="25bd" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要素缩放是一种在有限范围内对数据集中的要素进行标准化的技术。一些机器学习算法要求在预处理阶段对特征进行缩放，因为由于实际上具有不同单位的特征的幅度差异，它们往往会误算特征的重要性。</p><p id="d300" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">示例:</strong>考虑到两个特征，其中一个以cm为单位，另一个以mm为单位，从ML算法的角度来看，10 cm将与10 mm相同，因为它不能考虑单位差异。因此，有必要通过使它们没有单位来标准化这些特征。有两种重要的方法可以做到这一点:</p><ul class=""><li id="e238" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iw hi">最小-最大归一化:</strong>该方法用于在0-1之间重新调整特征值。</li></ul><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es kb"><img src="../Images/e16cccce02fe896dc2bb8c3e9d4985d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*k5e1eYyY0PHxN-im9D7ZAg.png"/></div></figure><ul class=""><li id="bc50" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iw hi">标准化:</strong>标准化是一种方法，在这种方法中，特征值以平均值为中心，单位标准偏差表示属性的平均值为零，其分布偏差为1(单位标准偏差)。</li></ul><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es kg"><img src="../Images/a880482b79d8f8dff089164a057ce19b.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*O0F_SbgCXyg-OIh2p6reEA.png"/></div></figure><p id="0dc0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中Xmean和标准差是使用feature列中的所有值计算的。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/2184fb3390cfc899db4c6e2c62dc9128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ta0OMgpLn8lL8LPw8oCrDQ.png"/></div></div></figure><p id="0735" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以创建一个小而简单的数据集示例，并详细了解要素缩放…</p><pre class="kc kd ke kf fd ki kj kk bn kl km bi"><span id="7659" class="kn ko hh kj b be kp kq l kr ks">df = pd.DataFrame([[2000, 5.6], <br/>                   [15000, 10.0], <br/>                   [7000, 6.9], <br/>                   [2500, 5.3], <br/>                   [4000, 12.4]],<br/>                   columns=['Distance travelled', 'average fuel consump.'])<br/>df</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es kt"><img src="../Images/4e267b6c1b6607c4898b07d14713faa0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*4PNj3w22n5iNSQMcyBKkUA.png"/></div></figure><p id="d037" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以看到,“行驶距离”一栏中的值比“平均油耗”一栏中的值大得多，因为它们代表不同的单位。《出埃及记》虽然我们不知道“行驶距离”特征是否比另一列更重要，但线性回归模型会使“行驶距离”列的权重比另一列大得多…这就是为什么特征缩放对于一些使用梯度下降的ML算法(线性和逻辑回归、神经网络)和基于距离的ML算法(KNN、K-means、SVM)很重要，因为这些算法对数据点的值的范围非常敏感。当我们使用基于树的算法时，没有必要缩放特征。在接下来的章节中，我们将更多地接触到这一点，因为我们将更多地了解不同的ML模型。</p><p id="a360" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们看看如何将最小-最大归一化或标准化应用于该数据集，以调整数值…</p><pre class="kc kd ke kf fd ki kj kk bn kl km bi"><span id="ed34" class="kn ko hh kj b be kp kq l kr ks">from sklearn.preprocessing import MinMaxScaler<br/><br/>scaler = MinMaxScaler()<br/>df_normalized = pd.DataFrame()<br/>df_normalized[df.columns] = scaler.fit_transform(df)<br/><br/>df_normalized</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es ku"><img src="../Images/48ff3df3d9bd6207289f3ba72b25037e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1146/format:webp/1*O8NFLL_v5adMcjUZjbRpWQ.png"/></div></figure><p id="884f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，所有特征的最小值为0，最大值为1。</p><pre class="kc kd ke kf fd ki kj kk bn kl km bi"><span id="2e80" class="kn ko hh kj b be kp kq l kr ks">from sklearn.preprocessing import StandardScaler<br/><br/>scaler = StandardScaler()<br/>df_standardized = pd.DataFrame()<br/>df_standardized[df.columns] = scaler.fit_transform(df)<br/><br/>df_standardized</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es kv"><img src="../Images/ddbf1d820ad875387cabe10bac28eed8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*LV6dEWoyqj9MB2i2vQ_dkA.png"/></div></figure><p id="06f6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，所有要素都以平均值为中心，标准偏差为一个单位</p><pre class="kc kd ke kf fd ki kj kk bn kl km bi"><span id="545b" class="kn ko hh kj b be kp kq l kr ks">import matplotlib.pyplot as plt<br/><br/>titles = ['no scaling', 'normalized', 'standardized']<br/>fig, axes = plt.subplots(1,3,figsize=(15,5)) # create figure and axes<br/>for i,data in enumerate([df, df_normalized, df_standardized]):<br/>  data.boxplot(ax=axes.flatten()[i])<br/>  axes[i].title.set_text(titles[i])</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/4a7f4d2f1651d8a97f09fdff1067e345.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AnWbpvWLbivDTa9uL4KddA.png"/></div></div></figure><p id="8b30" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">请注意，没有缩放的两个特征根本不可比较。在缩放之后，对于归一化和标准化，特征变得更具可比性，并且幅度上的大差异将不再影响ML算法。</p><h1 id="82cd" class="kx ko hh bd ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt bi translated">常态化还是标准化？</h1><p id="bf62" class="pw-post-body-paragraph iu iv hh iw b ix lu iz ja jb lv jd je jf lw jh ji jj lx jl jm jn ly jp jq jr ha bi translated">这个问题的答案在很大程度上取决于数据的类型、数据的方差和使用的最大似然算法。然而，在决定使用标准化或规范化时，我们可以考虑一些事情。如果一个特性的分布是正常的，那么它应该被标准化。否则就应该正常化。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div class="er es lz"><img src="../Images/6224326cd4ecb2df8d1ac3b260238142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/1*MI-O3rCyjaNVmAh8HonkLg.png"/></div></figure><p id="628f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">标准缩放器假设数据集的要素呈正态分布。因此，它会将要素的值缩放到平均值为0，标准差为1。如果我们知道特征值具有正态分布，那么标准化数据是比归一化好得多的选择。当我们处理数据中的差异时，使用标准标度的标准化将非常重要。</p><p id="6daf" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当我们不必处理正态分布的数据，并且不担心沿方差轴的标准化(图像处理或神经网络预期值在0-1之间)时，归一化是更好的选择。</p><p id="fc7b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如何检验数据是否具有正态分布？只需使用直方图绘制来自该特征的数据，并寻找类似于上面的分布。如果有些要素具有正态分布，而有些现在具有正态分布，那么最好对具有正态分布的要素应用标准化，对其他要素应用规范化。因此，在决定使用哪一个时，请分别考虑数据中的所有特性；)</p><p id="9c08" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">例如，让我们根据示例数据绘制特征行驶距离的直方图:</p><pre class="kc kd ke kf fd ki kj kk bn kl km bi"><span id="7d54" class="kn ko hh kj b be kp kq l kr ks">plt.hist(df["Distance travelled"])</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ma"><img src="../Images/180ccae3780dd4a4107e3763e8312142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OcPfOrjwsrKfaf2MkgaU9A.png"/></div></div></figure><p id="efee" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们无法观察到这一特征的正态分布。因此，对于这个特性来说，规范化是一个更好的选择。</p><p id="2dd1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这篇文章中，我们讨论了两种主要的特征缩放技术:规范化和标准化。在下一篇文章中，我们将讨论预处理的另一个非常重要的主题:特征选择技术。可以关注我不要错过功能选择贴，还有更多免费的机器学习教程和课程。</p><div class="mb mc ez fb md me"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hi fi z dy mj ea eb mk ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">medium.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms in me"/></div></div></a></div></div></div>    
</body>
</html>