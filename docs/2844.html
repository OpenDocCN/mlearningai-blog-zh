<html>
<head>
<title>Visualize Twitter Data with Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Power BI可视化Twitter数据</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/visualize-twitter-data-with-power-bi-eb700b282a38?source=collection_archive---------1-----------------------#2022-06-17">https://medium.com/mlearning-ai/visualize-twitter-data-with-power-bi-eb700b282a38?source=collection_archive---------1-----------------------#2022-06-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2212" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi jc translated">ower BI是可视化数据的强大工具。已经提供了许多可视化工具，因此您可以只拖放数据字段来创建漂亮的绘图。然而，当涉及到客户反馈或Twitter帖子等文本数据时，可能不容易可视化并从中找到洞察力。</p><p id="fe21" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我将展示一个在Covid19疫情期间来自Twitter的文本数据仪表板示例。</p><h1 id="f426" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">💽资料组</h1><p id="2cb1" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">本文中使用的数据来自</p><div class="ko kp ez fb kq kr"><a href="https://www.kaggle.com/datasets/datatattle/covid-19-nlp-text-classification/download" rel="noopener  ugc nofollow" target="_blank"><div class="ks ab dw"><div class="kt ab ku cl cj kv"><h2 class="bd hi fi z dy kw ea eb kx ed ef hg bi translated">你的数据科学之家</h2><div class="ky l"><h3 class="bd b fi z dy kw ea eb kx ed ef dx translated">Kaggle是世界上最大的数据科学社区，拥有强大的工具和资源来帮助您实现您的数据…</h3></div><div class="kz l"><p class="bd b fp z dy kw ea eb kx ed ef dx translated">www.kaggle.com</p></div></div></div></a></div><p id="d5cd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这些数据是在Covid19疫情期间从Twitter上收集的，并将情绪分为非常积极、积极、中性、消极和非常消极。</p><p id="7004" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该数据集包含41157行和5列。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es la"><img src="../Images/cb418e958dff9b867043654d5c45799d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7sxeSn8QVQEHim0dmifedQ.png"/></div></div><figcaption class="lm ln et er es lo lp bd b be z dx">data sample</figcaption></figure><h1 id="f2bc" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">📊形象化</h1><p id="74a6" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">这是我的仪表板的快照。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lq"><img src="../Images/3dd56799b4a6611c1614572488d5198d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o_ijomACs4SpEfNfl_Av-A.png"/></div></div></figure><p id="e28b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它可以分为如下所示的<strong class="ig hi"> 4个部分</strong>。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lq"><img src="../Images/7c04e37cc0f67f21a9e17ff783f5a4b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GuOQkjQOq10gz4pod-VIMA.png"/></div></div></figure><p id="2e6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们看看如何创建每个部分！</p><h1 id="20bc" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak"> 1。按情绪分类的推文数量</strong></h1><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es lr"><img src="../Images/6cdbda8434bb16e3e5e88ed55c032a3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tX_oX_eo9bBOxtllqdoYFA.png"/></div></div></figure><p id="3683" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该图用于显示数据概览，如有多少条推文是正面或负面的。</p><p id="d73d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它也可以作为一个过滤器，用户可以点击情绪和其他情节会发生相应的变化。因此，用户可以逐个分析每个情感的特征。</p><p id="51f7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是一个简单的情节。</p><p id="3262" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Visualization plain中，单击堆叠条形图图标，并选择plain字段中的“情绪”列(我将情绪分为3组，但也可以不这样做)。</p><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es ls"><img src="../Images/dc8e5c20f9c540032900cdf84fce1f69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*Bn3K6iHi2Sc6xjjeF1LkuQ.png"/></div></figure><p id="b941" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">完成。</p><p id="84d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">注意:</strong>最佳实践是创建一个新的测量方法来计算情绪并可视化该测量方法。</p><h1 id="db10" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">2.词云</h1><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es lt"><img src="../Images/9f2316e1e3c5e8c662e6109c20331dd7.png" data-original-src="https://miro.medium.com/v2/resize:fit:950/format:webp/1*8tZ_KNL5HFOmrMJwqXNirQ.png"/></div></figure><p id="643d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个优雅的可视化来显示单词出现的次数。文本越大意味着该词在数据集中出现的频率越高。</p><p id="10d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可以在下面的链接中找到关于如何创建单词云的文章。</p><div class="ko kp ez fb kq kr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/word-cloud-visualization-in-power-bi-a993dc4afb77"><div class="ks ab dw"><div class="kt ab ku cl cj kv"><h2 class="bd hi fi z dy kw ea eb kx ed ef hg bi translated">Power BI中的词云可视化</h2><div class="ky l"><h3 class="bd b fi z dy kw ea eb kx ed ef dx translated">了解如何创建单词云，这是一种可视化文本数据的优雅方式。</h3></div><div class="kz l"><p class="bd b fp z dy kw ea eb kx ed ef dx translated">medium.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz lk kr"/></div></div></a></div><h1 id="6afb" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak"> 3。标签数量</strong></h1><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ma"><img src="../Images/3cf8549749b4c9153f140fdc73d12dfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mO7kdl1dglNlw_L7sITkdg.png"/></div></div></figure><p id="a9e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个图的目标是查看Twitter文本中包含的标签使用数量。(大部分是关于covid和同义词lol)</p><p id="839e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此图由Python visual创建。为了使本文简短，我将包含一个到另一篇文章的链接，该文章描述了Python设置的细节和Power BI中的Python可视化。</p><p id="818a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您已经在Power BI中设置了Python，您可以转到“使用Python可视化”部分。</p><div class="ko kp ez fb kq kr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/python-in-power-bi-66a80590ecc0"><div class="ks ab dw"><div class="kt ab ku cl cj kv"><h2 class="bd hi fi z dy kw ea eb kx ed ef hg bi translated">Python在Power BI中的应用</h2><div class="ky l"><h3 class="bd b fi z dy kw ea eb kx ed ef dx translated">通过集成Python增强Power BI仪表板的功能。一步一步地使用Python来获取、转换和…</h3></div><div class="kz l"><p class="bd b fp z dy kw ea eb kx ed ef dx translated">medium.com</p></div></div><div class="lu l"><div class="mb l lw lx ly lu lz lk kr"/></div></div></a></div><p id="cf26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在Python脚本编辑器区域，复制并粘贴以下代码。</p><pre class="lb lc ld le fd mc md me mf aw mg bi"><span id="c87c" class="mh jm hh md b fi mi mj l mk ml"># The following code to create a dataframe and remove duplicated rows is always executed and acts as a preamble for your script:</span><span id="9aed" class="mh jm hh md b fi mm mj l mk ml"># dataset = pandas.DataFrame(OriginalTweet)</span><span id="d3f7" class="mh jm hh md b fi mm mj l mk ml"># dataset = dataset.drop_duplicates()</span><span id="3c02" class="mh jm hh md b fi mm mj l mk ml"># Import required libraries and setting plot</span><span id="8f42" class="mh jm hh md b fi mm mj l mk ml">import seaborn as sns</span><span id="de1b" class="mh jm hh md b fi mm mj l mk ml">import matplotlib.pyplot as plt</span><span id="aac1" class="mh jm hh md b fi mm mj l mk ml">import re</span><span id="846c" class="mh jm hh md b fi mm mj l mk ml">sns.set(font_scale = 7)</span><span id="96b0" class="mh jm hh md b fi mm mj l mk ml"><br/># Create funtion to find hashtags</span><span id="775f" class="mh jm hh md b fi mm mj l mk ml">def find_hash(text):</span><span id="cdbc" class="mh jm hh md b fi mm mj l mk ml">   line=re.findall(r'(?&lt;=#)\w+',text)</span><span id="0364" class="mh jm hh md b fi mm mj l mk ml">   return " ".join(line)</span><span id="9039" class="mh jm hh md b fi mm mj l mk ml"># Apply function</span><span id="efca" class="mh jm hh md b fi mm mj l mk ml">dataset['hash']=dataset['OriginalTweet'].apply(lambda x:find_hash(x))</span><span id="4af0" class="mh jm hh md b fi mm mj l mk ml">temp=dataset['hash'].value_counts()[:][1:11]</span><span id="3491" class="mh jm hh md b fi mm mj l mk ml">temp= temp.to_frame().reset_index().rename(columns={'index':'Hashtag','hash':'count'})</span><span id="1b05" class="mh jm hh md b fi mm mj l mk ml"><br/># Plot Graph</span><span id="4b47" class="mh jm hh md b fi mm mj l mk ml">plt.figure(figsize=(120, 25))</span><span id="2d2e" class="mh jm hh md b fi mm mj l mk ml">sns.barplot(x="Hashtag",y="count", data = temp)</span><span id="b9f5" class="mh jm hh md b fi mm mj l mk ml">plt.show()</span></pre><p id="a547" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">代码解释</strong></p><ul class=""><li id="b755" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">创建一个函数<strong class="ig hi">‘find _ hash’</strong>，它将返回一个与正则表达式模式匹配的hashtags列表。</li><li id="b297" class="mn mo hh ig b ih mw il mx ip my it mz ix na jb ms mt mu mv bi translated">创建一个新的DataFrame列，<strong class="ig hi"> 'hash' </strong>，这是将<strong class="ig hi"> 'find_hash' </strong>函数应用于<strong class="ig hi"> 'OriginalTweet' </strong>列的结果。</li><li id="7f73" class="mn mo hh ig b ih mw il mx ip my it mz ix na jb ms mt mu mv bi translated">计算临时标签的出现次数。</li><li id="eafd" class="mn mo hh ig b ih mw il mx ip my it mz ix na jb ms mt mu mv bi translated">使用seaborn条形图进行可视化。</li></ul><h1 id="5e65" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak"> 4。字数</strong></h1><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es nb"><img src="../Images/4bbe0195682b1e616bab08e05129a4b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2MJACnMoD3fJ2lJg5_Yxkw.png"/></div></div></figure><p id="cfc9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">推文字数可能与推文发帖人的感觉相关，比如他感觉不好，所以他键入一个长句来解释他的感觉(反正只是假设)。</p><p id="d51f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在创建这个图之前，我添加了一个名为Count_Word的新列。</p><ul class=""><li id="6ae3" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">转到转换数据。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es nc"><img src="../Images/7d53b6fd4e810f8b0e70ab5ba4fb3b6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zHmWx9hnPQfu_-kXr39nRw.png"/></div></div></figure><ul class=""><li id="c767" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">在“添加列”选项卡下，单击自定义列。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es nd"><img src="../Images/f4e6c4f6b35c54c6b9a56f1adf4b13b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdaaeqmEvGlU7eWzjotw1Q.png"/></div></div></figure><ul class=""><li id="3138" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">您将看到一个自定义列窗口。键入列名和公式，然后单击确定。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es ne"><img src="../Images/3d429f7de19839f240df791ceda7dcd5.png" data-original-src="https://miro.medium.com/v2/resize:fit:898/format:webp/1*DMoErRKVBNeN7UGo6WNNLQ.png"/></div></figure><pre class="lb lc ld le fd mc md me mf aw mg bi"><span id="71cb" class="mh jm hh md b fi mi mj l mk ml">List.Count(Text.Split([OriginalTweet]," "))</span></pre><ul class=""><li id="df90" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">在主页选项卡中，单击关闭并应用。</li><li id="9355" class="mn mo hh ig b ih mw il mx ip my it mz ix na jb ms mt mu mv bi translated">在可视化平面中，选择堆积柱形图并设置轴、图例和值，如下图所示。</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div class="er es nf"><img src="../Images/0c9e9f8b1a45e04176d1e01611459ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*pu-8wkX6JafKb7YviJjHFA.png"/></div></figure><ul class=""><li id="4ad9" class="mn mo hh ig b ih ii il im ip mp it mq ix mr jb ms mt mu mv bi translated">您也可以尝试堆积柱形图、簇状柱形图或盒状图</li></ul><figure class="lb lc ld le fd lf er es paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="er es ng"><img src="../Images/db64a951dcfe319ac3a5bb395f422ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YPCyVAMxZZfXZIEuVP_Hkw.png"/></div></div></figure><h1 id="99cd" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">功率BI的限制</strong></h1><p id="6bea" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">虽然您可以在Power BI仪表板中查看文本数据概述并与之交互，但在数据分析方面有一些限制，例如N元语法可视化，我在Power BI中找不到一种简单的方法，但它可以仅使用Python来完成。</p><h1 id="a5dd" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">结论</h1><p id="7b03" class="pw-post-body-paragraph ie if hh ig b ih kj ij ik il kk in io ip kl ir is it km iv iw ix kn iz ja jb ha bi translated">Twitter数据的仪表板可以包括概述情绪、词云、标签和字数。Power BI的优点是仪表板是交互式的，缺点是不如用Python创建图表灵活。</p><p id="bba9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你想看任何仪表板的例子，请在下面留下评论。</p><p id="757d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">更多电力BI文章请关注我！！！</p><div class="ko kp ez fb kq kr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ks ab dw"><div class="kt ab ku cl cj kv"><h2 class="bd hi fi z dy kw ea eb kx ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ky l"><h3 class="bd b fi z dy kw ea eb kx ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="kz l"><p class="bd b fp z dy kw ea eb kx ed ef dx translated">medium.com</p></div></div><div class="lu l"><div class="nh l lw lx ly lu lz lk kr"/></div></div></a></div></div></div>    
</body>
</html>