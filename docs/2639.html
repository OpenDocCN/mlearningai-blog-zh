<html>
<head>
<title>A Comprehensive Guide to Classification Evaluation Metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类评估指标综合指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/a-comprehensive-guide-to-classification-evaluation-metrics-ba814a20aa08?source=collection_archive---------6-----------------------#2022-05-25">https://medium.com/mlearning-ai/a-comprehensive-guide-to-classification-evaluation-metrics-ba814a20aa08?source=collection_archive---------6-----------------------#2022-05-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/e05411f1f6c568e4e2ec6715c8662ab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZwsXDSm51TmsbQSl6TC3A.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@mjessier?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Myriam Jessier</a> on <a class="ae it" href="https://unsplash.com/s/photos/data-science?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="2cc5" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">什么是评估指标？</h1><p id="7505" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">模型评估指标是定义来检查/验证模型是否能够按照期望的水平执行的指标。定义了许多指标，根据使用案例，我们挑选最适合的指标。基于该度量，模型被评估，并且如果需要的话被重新训练。</p></div><div class="ab cl kq kr go ks" role="separator"><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv kw"/><span class="kt bw bk ku kv"/></div><div class="ha hb hc hd he"><h1 id="f06f" class="iu iv hh bd iw ix kx iz ja jb ky jd je jf kz jh ji jj la jl jm jn lb jp jq jr bi translated">最常见的分类指标是什么？</h1><p id="a464" class="pw-post-body-paragraph js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp ha bi translated">对于分类算法，有6个最常用的指标，如下所述-</p><ol class=""><li id="9979" class="lc ld hh ju b jv le jz lf kd lg kh lh kl li kp lj lk ll lm bi translated">准确(性)</li></ol><p id="3881" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">在计算精度之前，我们先来看一个叫做混淆矩阵的矩阵。</p><p id="f923" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">混淆矩阵是一个矩阵，允许您可视化分类机器学习模型的性能。下面是一个片段，展示了如何生成混淆矩阵-</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="fd51" class="lz iv hh lv b fi ma mb l mc md">from sklearn.metrics import confusion_matrix</span><span id="e861" class="lz iv hh lv b fi me mb l mc md">cf_matrix = confusion_matrix(y_test, y_pred)<br/>print(cf_matrix)</span><span id="d574" class="lz iv hh lv b fi me mb l mc md">70/3<br/>67/6</span></pre><p id="a430" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">实际— — — — — — TP / FP</p><p id="bcc3" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">预测————TN/FN</p><p id="da3b" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">混淆矩阵创建了这四个象限的矩阵-真阳性、真阴性、假阳性和假阴性。</p><blockquote class="mf mg mh"><p id="97e4" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">真阳性(TP)是模型正确预测阳性类别的结果。</p><p id="9f6b" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">真阴性(TN)是模型正确预测阴性类别的结果。</p><p id="d401" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">假阳性(FP)是模型错误地预测阳性类别的结果。</p><p id="6889" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">假阴性(FN)是模型错误预测阴性类别的结果。</p></blockquote><blockquote class="mm"><p id="9531" class="mn mo hh bd mp mq mr ms mt mu mv kp dx translated">我们希望我们的模型关注真正的积极和真正的消极。</p><p id="0f55" class="mn mo hh bd mp mq mw mx my mz na kp dx translated">准确性是一个度量标准，它给出了我们的模型正确预测的比例。从形式上看，准确性有以下定义:</p></blockquote><p id="fc7f" class="pw-post-body-paragraph js jt hh ju b jv nb jx jy jz nc kb kc kd nd kf kg kh ne kj kk kl nf kn ko kp ha bi translated">准确度=正确预测数/预测总数。</p><figure class="lq lr ls lt fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/8897ba0f61bb0e6382acdf6d8c67b134.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/0*69CFJPk4SUVHTvpN.png"/></div></figure><p id="e33f" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">什么时候不应该使用精确度？</p><p id="96b1" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">尽管准确性是一个很好的衡量标准，但当数据集不平衡时，它就不能使用了。在这种情况下，让我们说我们有一个随机模型，总是预测有利于多数阶级。该模型将具有很高的准确性，即使它没有从数据中学到任何东西！</p><p id="8dd3" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">2.精确</p><p id="2023" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">当我们想关注正面预测能力时，下一个指标就派上用场了。</p><p id="2d43" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">Precision给出了所有预测为阳性的结果中被正确识别为阳性的部分。</p><p id="b08e" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">精度= TP/TP+FP</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="1dce" class="lz iv hh lv b fi ma mb l mc md">from sklearn.metrics import precision_score<br/>precision_score(y_true, y_pred)</span></pre><p id="a6b3" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">3.回忆(敏感度)</p><p id="9b77" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">回忆给出了您在所有阳性中正确识别为阳性的比例。</p><p id="6299" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">召回= TP/TP +FN</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="d1de" class="lz iv hh lv b fi ma mb l mc md">from sklearn.metrics import recall_score<br/>recall_score(y_true, y_pred)</span></pre><p id="5a7a" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">在精确度和召回率之间有一个权衡，因为通常增加一个会导致减少另一个，反之亦然。</p><p id="afbb" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">因此，有另一个指标同时考虑了这两个指标。</p><p id="430e" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">4.F1-分数</p><p id="6136" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">F1分数被定义为精确度和召回率之间的调和平均值。</p><p id="f94d" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">我们使用调和平均值，因为它对高精度或高回忆值不太敏感。因此，F1值更倾向于具有相似精度和召回率的分类模型。</p><p id="46cc" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">F1 = 2 *(精度*召回)/(精度+召回)</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="3df4" class="lz iv hh lv b fi ma mb l mc md">from sklearn.metrics import f1_score<br/>f1_score(y_true, y_pred)</span></pre><p id="4c2f" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">5.AUC ( <strong class="ju hi">曲线下面积</strong> ) ROC ( <strong class="ju hi">受试者操作特征</strong>)曲线。</p><p id="4f8c" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">AUC-ROC曲线是在各种阈值设置下对分类问题的性能测量。ROC是概率曲线，AUC代表可分性的程度或度量。它告诉我们这个模型在多大程度上能够区分不同的类。AUC越高，模型预测0类为0和1类为1的能力越强。</p><p id="b935" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">下面的代码片段显示了AUC ROC-的实现</p><p id="cafc" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">fpr代表假阳性率——定义在测试过程中，在所有可用的阴性样本中有多少不正确的阳性结果。</p><p id="5bbc" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">tpr代表真阳性率——定义测试期间所有可用阳性样本中出现正确阳性结果的数量。</p><pre class="lq lr ls lt fd lu lv lw lx aw ly bi"><span id="912f" class="lz iv hh lv b fi ma mb l mc md">from sklearn import metrics<br/>fpr, tpr, thresholds = metrics.roc_curve(y_true, y_pred)<br/>metrics.auc(fpr, tpr)</span></pre><p id="f851" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">6.原木损失</p><p id="d451" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">Log Loss是每个实例的校正预测概率对数的负平均值。</p><p id="973b" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">在逻辑回归中，我们以概率的形式得到预测。校正概率是正面结果的概率。</p><p id="a603" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated"><strong class="ju hi">计算原木损失，有如下所述的三个步骤- </strong></p><blockquote class="mf mg mh"><p id="486c" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">找出正确的概率。</p><p id="cf2f" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">记录下修正后的概率。</p><p id="b4a6" class="js jt mi ju b jv le jx jy jz lf kb kc mj ln kf kg mk lo kj kk ml lp kn ko kp ha bi translated">取第二步中得到的负平均值。</p></blockquote><p id="7525" class="pw-post-body-paragraph js jt hh ju b jv le jx jy jz lf kb kc kd ln kf kg kh lo kj kk kl lp kn ko kp ha bi translated">当我们记录修正后的概率时，我们会得到很多负值，所以我们取这些值的<strong class="ju hi">负平均值</strong>，以维持一个普遍的约定，即损失分数越低越好。</p><figure class="lq lr ls lt fd ii er es paragraph-image"><div class="er es nh"><img src="../Images/f73aae92e6ebd84cbbd0d33c2d483136.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/0*h9nZuNzv8YodbI2b.PNG"/></div></figure><div class="ni nj ez fb nk nl"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nm ab dw"><div class="nn ab no cl cj np"><h2 class="bd hi fi z dy nq ea eb nr ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ns l"><h3 class="bd b fi z dy nq ea eb nr ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nt l"><p class="bd b fp z dy nq ea eb nr ed ef dx translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz in nl"/></div></div></a></div></div></div>    
</body>
</html>