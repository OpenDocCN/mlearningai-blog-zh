<html>
<head>
<title>Exploratory Data Analysis: A Beginner’s Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索性数据分析:初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/exploratorydataanalysis-8ca08e630e8b?source=collection_archive---------0-----------------------#2021-05-05">https://medium.com/mlearning-ai/exploratorydataanalysis-8ca08e630e8b?source=collection_archive---------0-----------------------#2021-05-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d010a399883fc5da75cf6c2bd34fa52b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z6CknIa-HtOmPg6m"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1634" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你想启动机器学习，EDA是一个很好的起点。那么，我们开始吧。</p><h1 id="201b" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">什么是EDA？</h1><p id="2545" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">探索性数据分析是一种确定给定数据集中最重要信息的方法，它通过单独和共同比较和对比所有数据属性(独立变量)来对输出变量进行分类。</p><h1 id="c784" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">我们为什么需要EDA？</h1><p id="2945" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">EDA的主要目标是在做出任何假设之前帮助分析数据。它可以帮助检测明显的错误，以及更好地理解数据模式，检测异常值或异常事件，并发现变量之间有趣的关系。</p><p id="e292" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可以点击下面的链接从kaggle下载数据集。</p><div class="kv kw ez fb kx ky"><a href="https://www.kaggle.com/gilsousa/habermans-survival-data-set" rel="noopener  ugc nofollow" target="_blank"><div class="kz ab dw"><div class="la ab lb cl cj lc"><h2 class="bd hi fi z dy ld ea eb le ed ef hg bi translated">哈伯曼生存数据集</h2><div class="lf l"><h3 class="bd b fi z dy ld ea eb le ed ef dx translated">接受乳腺癌手术患者的存活率</h3></div><div class="lg l"><p class="bd b fp z dy ld ea eb le ed ef dx translated">www.kaggle.com</p></div></div><div class="lh l"><div class="li l lj lk ll lh lm in ky"/></div></div></a></div><p id="2158" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">该数据集包含一项关于1958年至1970年间在芝加哥大学比林斯医院接受乳腺癌手术患者存活率的研究案例</p><p id="7f90" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们一步一步来，首先理解数据集，然后尝试几个不同的情节，看看我们能从中学到什么。</p><ol class=""><li id="c914" class="ln lo hh iw b ix iy jb jc jf lp jj lq jn lr jr ls lt lu lv bi translated">理解数据</li><li id="e074" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">我们实验的目标</li><li id="977c" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">单变量分析</li><li id="7564" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">双变量分析</li><li id="301d" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">结论</li><li id="6322" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">参考</li></ol><h1 id="e505" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 1。了解数据集</strong></h1><p id="cf49" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated"><strong class="iw hi"> 1.1导入所需库</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="4f9f" class="mk jt hh mg b fi ml mm l mn mo">import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import numpy as np</span></pre><p id="8fbf" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 1.2在pandas dataframe对象中加载数据集</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="6bf1" class="mk jt hh mg b fi ml mm l mn mo">data = pd.read_csv("haberman.csv")</span><span id="edbb" class="mk jt hh mg b fi mp mm l mn mo">#shape of data tells us no of columns , rows present in the data set</span><span id="f52c" class="mk jt hh mg b fi mp mm l mn mo">data.shape</span></pre><p id="02da" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong> (306，4)</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="e1d4" class="mk jt hh mg b fi ml mm l mn mo"># This <br/>gives us top 5 rows of the data along with col names<br/>data.head()</span></pre><p id="8dd6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/b1fd76c745b56ef575626262d8d7254d.png" data-original-src="https://miro.medium.com/v2/resize:fit:656/format:webp/1*BmWImFtqFq8c566GyazdQg.png"/></div></figure><p id="3cc2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 1.3属性描述</strong></p><p id="4401" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.“年龄”——这告诉我们手术期间患者的年龄，这是数字数据</p><p id="1656" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.“年份”——告诉我们操作是在哪一年进行的，是数值型数据</p><p id="32b5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.“淋巴结”——在患者体内检测到的阳性腋窝淋巴结(我在数据帧中将其改为淋巴结)的数量。这些淋巴结被称为淋巴结，如果癌症扩散，它们会出现在腋下</p><p id="d572" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">4.“状态”——这告诉我们患者在手术后存活的总年数</p><p id="6bf8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">5.我们数据集中的<strong class="iw hi">输入变量</strong>是<strong class="iw hi">年龄、年份和节点</strong>。它们也被称为特征，通过它们我们可以分析我们的数据。</p><p id="7de1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">6.这里的“状态”称为输出变量/类变量</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="e9e7" class="mk jt hh mg b fi ml mm l mn mo"># get the information about the attributes present in data<br/>data.describe()</span></pre><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/6c40ab778fe9ba3a701cd9735e3614c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*Df35GEMxTmg2ZERZp6YRzQ.png"/></div></figure><p id="9155" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 1.4检查任何一行中出现的空值</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="1b21" class="mk jt hh mg b fi ml mm l mn mo">data.isnull().values.any()</span></pre><p id="8f8a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong>假</p><p id="d8c4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我们的数据集中，没有空值。在接下来的几个博客中，我们将看看如何处理有缺失值或空值的数据。</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="6610" class="mk jt hh mg b fi ml mm l mn mo">#To get information about data type of attributes</span><span id="ccab" class="mk jt hh mg b fi mp mm l mn mo">data.info()</span></pre><p id="a44b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/f5b8a9da8547fbf5fbb811c51ed216eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1038/format:webp/1*_di7Dy5oz2wJQ4VSE_7ATw.png"/></div></figure><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="d98e" class="mk jt hh mg b fi ml mm l mn mo">#checking different values present in status variable </span><span id="42ac" class="mk jt hh mg b fi mp mm l mn mo">data['status'].value_counts()</span></pre><p id="39e3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es mt"><img src="../Images/3691c8f732c19047bd8145923d3ac814.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*8m8NKnWuG21MYeEb9ilTXw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Above image is showing total no of 1’s , 2’s in status variable</figcaption></figure><p id="70aa" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">状态属性有两种类型的数据点，即“1”或“2”</p><p id="ecaf" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1 -&gt;患者存活了5年或以上</p><p id="6be5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2 -&gt;患者存活不到5年</p><h1 id="8ed4" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 2。我们实验的目标</strong></h1><p id="dd60" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">我们的主要目标是使用不同的探索性数据分析技术，如配对图、单变量图和其他图，使用独立变量(如年龄、年份和节点)将患者分类为存活(1类)或无存活(2类)，以便绘制这些独立变量之间的关系，并确定我们分类问题的决定因素。</p><h1 id="fea4" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 3。单变量分析</strong></h1><ol class=""><li id="1ac7" class="ln lo hh iw b ix kq jb kr jf mu jj mv jn mw jr ls lt lu lv bi translated">单变量分析是一种只使用一个变量的统计分析。这种分析有助于我们根据单一特征识别模式。</li></ol><p id="cddc" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.不同的单变量图，如PDF、CDF、箱线图和violin图，可用于了解哪些特征对分类<strong class="iw hi"> n </strong>有用</p><h1 id="1b57" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">3.1 PDF(概率密度函数)</h1><ol class=""><li id="b91e" class="ln lo hh iw b ix kq jb kr jf mu jj mv jn mw jr ls lt lu lv bi translated">通过称为KDE(核密度估计)的过程平滑绘制的直方图(对于任何数值变量)来获得PDF</li><li id="1932" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">我们观察每个输入变量，看它是否能自己给输出值增值。同样，我们对所有输入变量做同样的事情，看看哪些变量可以提供最高值来将输出类分类为1(生存)或2(非生存)。</li><li id="f5ef" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">在下面的PDF图中，x轴包含我们考虑的独立变量的不同值，y轴包含给定情况下x轴的频率/计数。</li></ol><p id="f10e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">年龄与计数的PDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="f221" class="mk jt hh mg b fi ml mm l mn mo">#pdf for "age" input variable<br/>sns.set_style("whitegrid")<br/>age_plot = sns.FacetGrid(data, hue="status", height=6)<br/>age_plot.map(sns.distplot, 'age').add_legend()<br/>plt.xlabel("PDF of AGE")<br/>plt.ylabel("Counts")<br/>plt.title("Probability density function between Age vs Counts")<br/>plt.show()</span></pre><p id="f707" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es mx"><img src="../Images/58db367260fef453c08886c79a771a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*x_jnDgCZ-Y5GTJKmE8cJiA.png"/></div></figure><p id="8e8b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="1f91" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.来自两个类别(1，2)的大多数数据点是重叠的，因此它表明患者的存活率并不依赖于患者的年龄。</p><p id="2ff4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.30至40岁之间生存的机会更多，40至60岁之间生存的机会更少</p><p id="f4b6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.在60到75岁之间，存活和不存活的机会大致相等</p><p id="f51e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">4.超过90岁，就没有生存的机会了</p><p id="e137" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">5.尽管我们可以从这个属性中推断出来，但是我们不能仅仅通过单一的参数来推断存活率</p><p id="9f89" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">年度与计数的PDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="1325" class="mk jt hh mg b fi ml mm l mn mo"># pdf of year plot</span><span id="3a8d" class="mk jt hh mg b fi mp mm l mn mo"><br/>sns.set_style("whitegrid")<br/>year_plot = sns.FacetGrid(data, hue="status", height=6)<br/>year_plot.map(sns.distplot, 'year').add_legend()<br/>plt.xlabel("PDF of Years")<br/>plt.ylabel("Counts")<br/>plt.title("PDF between Years vs Counts")<br/>plt.show()</span></pre><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es my"><img src="../Images/32b0b9e6f980489d8de2847ce9048772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*FC5ApSHPjxZTFfVT1eaKrQ.png"/></div></figure><p id="02f4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="e8b1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.今年图中的大部分区域都是1和2重叠的，所以这不能成为患者存活的决定因素。</p><p id="00c0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.然而，大多数手术在1957年至1965年间失败，代表2(存活时间不超过5年)的棕色在1957年至1965年间最为普遍。</p><p id="3820" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">节点与计数的PDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="ae0b" class="mk jt hh mg b fi ml mm l mn mo">sns.set_style("whitegrid")<br/>nodes_plot = sns.FacetGrid(data, hue="status", height=6)<br/>nodes_plot.map(sns.distplot, 'nodes').add_legend()<br/>plt.xlabel("PDF of nodes")<br/>plt.ylabel("Counts")<br/>plt.title("PDF between Nodes vs Counts")<br/>plt.show()</span></pre><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/0614a8c56b765ce5aaf9ff24ee5a2430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*QvK-K2eVn7wDRmmyLT5_cA.png"/></div></figure><p id="5911" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="7fca" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.如果特定患者包含的淋巴结数量为0到2，则存活机会很高</p><p id="cb12" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.如果节点数超过26，那么存活的机会就非常小</p><h1 id="50ae" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 3.2 CDF(累积分布函数)</strong></h1><ol class=""><li id="e6cc" class="ln lo hh iw b ix kq jb kr jf mu jj mv jn mw jr ls lt lu lv bi translated">CDF对于分析大部分数据在哪里非常有用，因为它给出了在x的特定极限之前存在的总值的百分比。</li></ol><p id="413c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.例如，对于某个x=x1处的给定值，CDF告诉我们直到val出现的值的百分比</p><p id="fa09" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">绘制年龄的CDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="042e" class="mk jt hh mg b fi ml mm l mn mo">#splitting the data frame into two data frames having status as 1,2</span><span id="0a07" class="mk jt hh mg b fi mp mm l mn mo">data_yes = data.loc[data["status"] == 1];<br/>data_no = data.loc[data["status"] == 2];<br/>#data_yes = all the data points in status where values are 1<br/>#data_no = all the data points in status where values are 0</span><span id="81be" class="mk jt hh mg b fi mp mm l mn mo">#status = 1<br/>counts, bin_edges = np.histogram(data_yes['age'], bins=10,<br/>density = True)<br/>#pdf gives you the total percent of output values (1 or 2) present #for the selected x value (which is age in our case)pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=1)</span><span id="57f4" class="mk jt hh mg b fi mp mm l mn mo"># status = 0<br/>counts, bin_edges = np.histogram(data_no['age'], bins=10,<br/>density = True)<br/>pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=2)</span><span id="fe37" class="mk jt hh mg b fi mp mm l mn mo">plt.title("CDF for age of patients")plt.xlabel("Age of Patients")<br/>plt.ylabel('cumulative % of patients')<br/>plt.legend()</span></pre><p id="ac6d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">输出:</p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es na"><img src="../Images/46d5954b6769311ec614b55dd9c24055.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*VgAC3mUrcnOGQXzkns-xGA.png"/></div></figure><p id="3b55" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="bda3" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.该图清楚地表明，属性“年龄”不能单独用于确定患者是否存活(因为橙色和蓝色的线在整个区域都重叠)</p><p id="6b88" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.如你所见，如果患者年龄≤ 50，40 %的人可能存活，也可能不存活(因为两条线都是存在的，没有重叠)。因此，我们不能依靠这个属性来正确地对结果进行分类。</p><p id="2c39" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">绘制年度CDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="07fe" class="mk jt hh mg b fi ml mm l mn mo">data_yes = data.loc[data["status"] == 1];<br/>data_no = data.loc[data["status"] == 2];<br/>#data_yes = all the data points in status where values are 1<br/>#data_no = all the data points in status where values are 0</span><span id="50f8" class="mk jt hh mg b fi mp mm l mn mo">#status = 1<br/>counts, bin_edges = np.histogram(data_yes['year'], bins=10,<br/>density = True)<br/>pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=1)</span><span id="3c73" class="mk jt hh mg b fi mp mm l mn mo"># status = 0<br/>counts, bin_edges = np.histogram(data_no['year'], bins=10,<br/>density = True)<br/>pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=2)</span><span id="8b18" class="mk jt hh mg b fi mp mm l mn mo">plt.title("CDF for year of operation")<br/>plt.xlabel("year of operation")<br/>plt.ylabel('cumulative % of patients')<br/>plt.legend()</span></pre><p id="8680" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es nb"><img src="../Images/ba75a57a0c594e28c3b877b54dbec84d.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*vWu1S3v_L6X4wzTg30vRXw.png"/></div></figure><p id="12b8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="b30d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.即使是年份属性也不能帮助我们将一个给定的患者分为两个不同的患者类别，因为图表是以相同的方式重叠和引导的。</p><p id="fb8f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">绘制节点的CDF</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="e63b" class="mk jt hh mg b fi ml mm l mn mo">data_yes = data.loc[data["status"] == 1];<br/>data_no = data.loc[data["status"] == 2];<br/>#data_yes = all the data points in status where values are 1<br/>#data_no = all the data points in status where values are 0</span><span id="5398" class="mk jt hh mg b fi mp mm l mn mo">#status = 1<br/>counts, bin_edges = np.histogram(data_yes['nodes'], bins=10,<br/>density = True)<br/>pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=1)</span><span id="c8a4" class="mk jt hh mg b fi mp mm l mn mo"># status = 0<br/>counts, bin_edges = np.histogram(data_no['nodes'], bins=10,<br/>density = True)<br/>pdf = counts/(sum(counts))<br/>cdf = np.cumsum(pdf)<br/>plt.plot(bin_edges[1:], cdf,label=2)</span><span id="78af" class="mk jt hh mg b fi mp mm l mn mo">plt.title("CDF for No of nodes of patients")<br/>plt.xlabel("Nodes")<br/>plt.ylabel('cumulative % of patients')<br/>plt.legend()</span></pre><p id="575a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es nc"><img src="../Images/4d89463a6986dc29e9e27a44c3b759ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:888/format:webp/1*9JTDii1azbdNNc3MS1HcQg.png"/></div></figure><p id="89a9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="0855" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.在洞察患者生存细节方面，该属性优于年龄和年份。</p><p id="f736" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.如果一个病人有≤ 4个腋窝淋巴结，存活的机会接近83 %;然而，随着腋窝淋巴结数量的增加，存活的机会明显减少。</p><h1 id="ed6c" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">箱线图</strong></h1><p id="ba7f" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">箱线图是一种通过四分位数表示数字数据组的方法。</p><p id="cc1a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">方框的下半部分代表绘制值的第25个百分位数(称为下四分位数)，中间部分代表第50个百分位数(中位数)，上半部分代表第75个百分位数(上四分位数)。</p><p id="458c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">年龄、年份和节点的方框图</strong> s</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="6cc9" class="mk jt hh mg b fi ml mm l mn mo">#box plot for status vs age<br/>sns.boxplot(x='status',y='age', data=data)<br/>plt.title('status vs age boxplot')<br/>plt.show()</span><span id="9a86" class="mk jt hh mg b fi mp mm l mn mo">#box plot for status vs year of operation<br/>sns.boxplot(x='status',y='year', data=data)<br/>plt.title('status vs year boxplot')<br/>plt.show()</span><span id="8a75" class="mk jt hh mg b fi mp mm l mn mo">#box plot for status vs nodes<br/>sns.boxplot(x='status',y='nodes', data=data)<br/>plt.title('status vs node boxplot')<br/>plt.show()</span></pre><p id="600b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">三个地块的产量:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es nd"><img src="../Images/7599b3f615fc30e5d990332573196c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*ovwzF6XO7aeQaOZs8IHWbw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Width of the box seen ( in horizontal direction) doesn’t imply anything</figcaption></figure><p id="15fc" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="01b1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.对于年龄和年份的箱线图，很难进行分类，因为这两种属性的大部分数据是相同的，因此我们无法将它们完全归类为“1”类或“2”类，但在年份图中，可以推断的一点是，1960年之前的生存机会非常小，1965年之后的生存机会有所增加</p><p id="2b41" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.与年龄和年份箱线图相比，节点的箱线图具有较少的重叠，年龄和年份的箱线图具有大量的重叠，且如果患者具有的节点数少于4，则存活机会大部分是集中的</p><h1 id="dde3" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak">小提琴剧情</strong></h1><p id="6914" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">它混合了方框图(中间突出显示的区域)和pdf(当我们水平观察时，对称的PDF可以在violin图的左右两侧看到)</p><p id="3e27" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在violin图中，密度较高的数据区域较粗(意味着该区域中有更多的数据)，而密度较低的数据区域较细(该区域中存在的数据量较少)。</p><p id="75e6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">年龄、年份和节点的小提琴图</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="4c14" class="mk jt hh mg b fi ml mm l mn mo">#VIOLIN PLOT FOR AGE ATTRIBUTE<br/>sns.violinplot(x='status',y='age',data=data)<br/>plt.title('status vs age violinplot')<br/>plt.show();</span><span id="aa84" class="mk jt hh mg b fi mp mm l mn mo">#VIOLIN PLOT FOR YEAR ATTRIBUTE<br/>sns.violinplot(x='status',y='year',data=data)<br/>plt.title("status vs year violinplot")<br/>plt.show();</span><span id="bbe5" class="mk jt hh mg b fi mp mm l mn mo">#VIOLIN PLOT FOR NODES ATTRIBUTE<br/>sns.violinplot(x='status',y='nodes',data=data)<br/>plt.title('status vs nodes violinplot')<br/>plt.show();</span></pre><p id="ba7a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es ne"><img src="../Images/1365e20f3a66cb1d32a703db3a0509ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*7Tl4ofQBnzvEyUX9h1M5Ow.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Black region at centre represents box plot</figcaption></figure><p id="3aee" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="bde9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">与箱线图类似，状态与年龄和状态与年份图的重叠程度很高，在状态与节点的violin图中也存在重叠，因此我们无法根据状态进行准确分类。观察结果仅与箱线图相同。</p><p id="4961" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">整体单变量分析观察值</strong></p><p id="3851" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.节点数量与存活几率成反比，我们可以看到节点越多，存活几率越小</p><p id="eb73" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.具有1个或0个淋巴结的患者存活最多，同时在该区域甚至几乎没有不存活的机会。所以我们不能完全按照地位来分类</p><p id="de41" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.年龄本身不能成为决定患者生存的决定性参数</p><p id="6304" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">4.Nodes参数是所有三个参数中最有用的，但它并不总是正确的</p><h1 id="73b3" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 4。双变量分析</strong></h1><p id="98bc" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">在此分析中，同时分析两个变量，以确定它们之间的关系，从而对输出变量进行分类。配对图、散点图(2D)</p><p id="549c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 4.1散点图</strong></p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="84ec" class="mk jt hh mg b fi ml mm l mn mo"># Plot between age and year<br/>sns.set_style("whitegrid");<br/>sns.FacetGrid(data, hue="status", height=5).map(plt.scatter, "age", "year").add_legend();<br/>plt.title('Scatter plot between Age vs Year')<br/>plt.show();</span></pre><p id="b8de" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div class="er es nf"><img src="../Images/12922fbe134c2ea45ae3db65781ab9c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*AOfsGKgr7uk5YZ07tjEbkg.png"/></div></figure><p id="d953" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><p id="ac0a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们不能根据年龄对年图来判断患者的存活率，因为可以看出所代表的数据是不平衡的。但是，我们可以看到，随着患者年龄的增长，状态数据点的随机性保持不变，因此我们可以绘制其他配对点并检查关系。</p><p id="3e80" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">配对图</strong></p><p id="6678" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为给定的独立变量一次绘制散点图，这样我们可以比较用2个独立变量绘制的配对图和用2个独立变量(年龄、年份、节点)的任何其他组合绘制的配对图，以查看哪种组合更好地导致输出变量的分类</p><pre class="mb mc md me fd mf mg mh mi aw mj bi"><span id="8403" class="mk jt hh mg b fi ml mm l mn mo">sns.set_style("whitegrid")<br/>sns.pairplot(data, hue="status", height = 5)<br/>plt.show()</span></pre><p id="6ac5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">输出:</strong></p><figure class="mb mc md me fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ng"><img src="../Images/99bd256453199b692b1c598e13c96540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IcvviiMHuGUQy8-WPGRfuw.png"/></div></div></figure><p id="e142" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">理解剧情:</strong></p><ol class=""><li id="d51e" class="ln lo hh iw b ix iy jb jc jf lp jj lq jn lr jr ls lt lu lv bi translated">地块2、地块4是相同的年龄、年份地块(仅属性互换)，类似地，第3和第7地块是相同的(年龄、节点)，第6和第8地块是相同的(年份、节点)</li><li id="beb0" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">图1、5和9分别表示年龄、年份和节点的pdf</li></ol><p id="1ed0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">观察:</strong></p><ol class=""><li id="cb40" class="ln lo hh iw b ix iy jb jc jf lp jj lq jn lr jr ls lt lu lv bi translated">在所有配对图中，很明显，年份和节点之间的配对图(即图6或图8)相对更好</li><li id="22b6" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">所有其他情节都没有多少有价值的信息可以推断。</li></ol><h1 id="fcba" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated"><strong class="ak"> 5。结论</strong></h1><p id="16da" class="pw-post-body-paragraph iu iv hh iw b ix kq iz ja jb kr jd je jf ks jh ji jj kt jl jm jn ku jp jq jr ha bi translated">1.在给定数据的情况下，对接受手术的患者的生存状态进行分类是非常困难的，因为数据是不平衡的，因此我们需要更平衡的数据或其他有助于得出有价值见解的特征</p><p id="b132" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.像年龄这样的属性对患者的生存分类没有帮助</p><p id="8e92" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.节点数量越多，存活的机会就越小，即使节点数量非常少或为零，存活的机会也是不确定的。所以我们不能确切地说。</p><h1 id="58c7" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">6。参考文献</h1><ol class=""><li id="fde2" class="ln lo hh iw b ix kq jb kr jf mu jj mv jn mw jr ls lt lu lv bi translated"><a class="ae it" href="https://www.kaggle.com/gilsousa/habermans-survival-data-set" rel="noopener ugc nofollow" target="_blank">https://www.kaggle.com/gilsousa/habermans-survival-data-set</a></li><li id="66e2" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated"><a class="ae it" href="http://archive.ics.uci.edu/ml/datasets/Haberman's+SurvivalHIGH" rel="noopener ugc nofollow" target="_blank">http://archive . ics . UCI . edu/ml/datasets/Haber man ' s+survival high</a></li><li id="c7e6" class="ln lo hh iw b ix lw jb lx jf ly jj lz jn ma jr ls lt lu lv bi translated">https://unsplash.com/@lukechesser?utm_source=medium<a class="ae it" href="https://unsplash.com/@lukechesser?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">UTM _ medium = referral</a></li></ol><p id="e02d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">感谢您的耐心和阅读整个博客。如果博客中有任何错误，请让我知道，以便我可以纠正它们。</p><p id="d336" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我也很乐意回答你的问题..下次博客再见:)</p></div></div>    
</body>
</html>