<html>
<head>
<title>Evidently AI — Easy analyze your Data and Machine Learning Model</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">显然人工智能——很容易分析你的数据和机器学习模型</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/easy-analysis-of-your-data-and-ml-model-using-evidently-ai-830ef0c1c4fd?source=collection_archive---------1-----------------------#2022-07-12">https://medium.com/mlearning-ai/easy-analysis-of-your-data-and-ml-model-using-evidently-ai-830ef0c1c4fd?source=collection_archive---------1-----------------------#2022-07-12</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="aa68" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">通过一个具体的例子探索回归模型的明显人工智能的主要特征的指南</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/70564fc21b06126ceccc9d5f85437a69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k8sd26QsVMXP3RH_G1N-Gw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Image by the author</figcaption></figure><h2 id="6583" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">介绍</h2><blockquote class="kk kl km"><p id="5d1a" class="kn ko kp kq b kr ks ii kt ku kv il kw kx ky kz la lb lc ld le lf lg lh li lj ha bi translated">显然有助于在整个模型生命周期中分析和跟踪数据和ML模型质量。你可以把它想象成一个适合现有ML栈的评估层。</p></blockquote><p id="98c3" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">在这篇文章中，我们将探索人工智能的基本特征。显然AI 的<a class="ae lk" href="http://github.com/evidentlyai/evidently" rel="noopener ugc nofollow" target="_blank"> GitHub提供了一个很好的介绍和几个比我们在这里考虑的更广泛的例子。考虑到数字和分类目标数据，给出了不同特征的详细例子。</a></p><p id="bd90" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">显然，人工智能是一种帮助我们监控机器学习管道的工具。它提供关于模型和数据的不同统计的报告。在写这篇文章的时候(2022年7月)，有7个预建的报告可用</p><p id="dda6" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated"><strong class="kq hi"> (1) </strong> <strong class="kq hi">数据漂移。</strong>检测输入特征分布的变化。</p><p id="3950" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated"><strong class="kq hi"> (2) </strong> <strong class="kq hi">数据质量。</strong>提供详细的特征统计和行为概述。</p><p id="fc0d" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated"><strong class="kq hi"> (3)目标漂移</strong>。检测<strong class="kq hi"> (3a)数值</strong>和<strong class="kq hi"> (3b)分类</strong>目标数据的模型输出变化</p><p id="14c4" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated"><strong class="kq hi"> (4)模特表演。</strong>评估<strong class="kq hi"> (4a)分类</strong>、<strong class="kq hi">、【4b】概率分类、</strong>和<strong class="kq hi">、【4c】回归模型的模型质量和模型误差</strong></p><p id="4dde" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">这些分析的结果既可以显示在交互式仪表板中，也可以保存为json-profile文件，该文件可以存储起来以供进一步分析。</p><h2 id="30ee" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated"><strong class="ak">注</strong></h2><p id="a9e9" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">在写这篇文章的时候(2022年7月)，显然AI只支持表格数据。这里显示的例子已经在Google Colab上执行。在我的个人笔记本电脑上使用Jupyter Notebook有很大的局限性，因为仪表盘无法处理数据。</p><h2 id="7a3d" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">金县的房屋销售回归示例</h2><p id="96f9" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">我们将查看一个回归示例，并展示明显人工智能的4个主要特征:<strong class="kq hi">数据漂移、数据质量、目标漂移和模型性能</strong>。完整的代码可以在我的<a class="ae lk" href="https://github.com/froukje/articles/blob/main/04_evidently.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>和<a class="ae lk" href="https://colab.research.google.com/drive/1H12U7mwNY2qcl8Vz7R2LLmc1eIUI160I?usp=sharing" rel="noopener ugc nofollow" target="_blank"> Colab </a>上找到。所使用的数据集考虑了美国金县的房屋销售，可以从<a class="ae lk" href="https://www.kaggle.com/datasets/harlfoxem/housesalesprediction" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>下载。它包含房子的价格，这是我们的目标，取决于不同的(数字和分类)特征，如浴室数量、卧室数量等。将数据读取为熊猫数据帧，并将分类特征转换为类型<code class="du lq lr ls lt b">object</code>:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="ac76" class="jm jn hh lt b fi ly lz l ma mb">df = pd.read_csv('sample_data/kc_house_data.csv')<br/>df[['grade','view','waterfront']] =<br/>      df[['grade','view','waterfront']].astype('object')<br/>df.head()</span></pre><p id="b8fd" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">输出如下所示:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mc"><img src="../Images/5e04a39593ca038ae336b1de77023d92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P2uaeYiI2S09597yVM_WIA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Head of the loaded data frame</figcaption></figure><p id="a213" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">我们将使用以下功能:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="90e1" class="jm jn hh lt b fi ly lz l ma mb">features = ['sqft_living','grade', 'sqft_above', 'sqft_living15', 'bathrooms','view','sqft_basement','lat','long','waterfront', 'yr_built','bedrooms']</span></pre><p id="aa35" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">数据帧的总长度为21613个样本。显然，为了使用人工智能，我们将通过将数据帧分成两部分来模拟生产:(1)包含参考数据<code class="du lq lr ls lt b">ref_data</code>和(2)包含生产数据<code class="du lq lr ls lt b">prod_data</code>。对于这两个数据集，我们应用相同的预处理步骤。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="4b84" class="jm jn hh lt b fi ly lz l ma mb">ref_data = df[:15000]<br/>prod_data = df[15000:]</span></pre><h2 id="f0bb" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数据准备</h2><p id="075f" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">关于这个数据的数据探索，请参考我的<a class="ae lk" href="https://github.com/froukje/articles/blob/main/01_regression_xgboost.ipynb" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。这里我们将只进行必要的预处理步骤。对于数据清洗，我们需要删除检测到的离群点(33间卧室)，预处理主要考虑分类特征。值得一提的是，我们将对数应用于目标变量，以将其转换为更正态分布的数据。我们将把这个应用到<code class="du lq lr ls lt b">ref_data</code>和<code class="du lq lr ls lt b">prod_data</code>上。但是在拟合模型之前，我们需要创建一个训练和一个验证集。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="7c63" class="jm jn hh lt b fi ly lz l ma mb"># Delete entry with 33 bedrooms<br/>df = df[df["bedrooms"] != 33]</span><span id="dcb6" class="jm jn hh lt b fi md lz l ma mb"># Create training and validation set<br/>X_train, X_val, y_train, y_val = train_test_split(ref_data[features], ref_data['price'],<br/>                 test_size=0.2, shuffle=True, random_state=42)</span></pre><p id="c9e1" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">在拟合模型之前，我们需要将分类变量转换为一次性编码变量。我们使用scikit-learn包中的<code class="du lq lr ls lt b">OneHotEncoder</code>,并使其适合训练数据。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="a8b9" class="jm jn hh lt b fi ly lz l ma mb"># one-hot encode categorical variables<br/>categorical = ['grade', 'view', 'waterfront']<br/>ohe = OneHotEncoder(handle_unknown = 'ignore')<br/>ohe = ohe.fit(X_train[categorical])</span></pre><p id="30bd" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">在一般的清洁和准备之后，我们定义以下预处理功能:</p><pre class="ix iy iz ja fd lu lt me bn mf mg bi"><span id="3ca9" class="mh jn hh lt b be mi mj l mk mb">def preprocessing(X, y, ohe):<br/>    <br/>    # Convert grade, view, waterfront to type object<br/>    X[['grade','view','waterfront']] = X[['grade','view','waterfront']].astype('object')<br/>    <br/>    # log transform the target varibale <br/>    y = np.log1p(y)<br/>    <br/>    # define categorical and numerical varibales <br/>    categorical = ['grade', 'view', 'waterfront']<br/>    numerical = ['sqft_living', 'sqft_above', 'sqft_living15',<br/>           'bathrooms','sqft_basement','lat','long',<br/>           'yr_built','bedrooms']<br/>    <br/>    # one-hot encode categorical variables<br/>    X_cat = ohe.transform(X[categorical]).toarray()<br/>    <br/>    # define numerical columns <br/>    X_num = np.array(X[numerical])<br/>    <br/>    # concatenate numerical and categorical variables<br/>    X = np.concatenate([X_cat, X_num], axis=1)<br/>    <br/>    print('Shape after one-hot encoding')<br/>    print(f'X shape: {X.shape}')<br/>    <br/>    return X, y</span></pre><p id="36c7" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">并将其应用于培训、验证和生产数据。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="c3ba" class="jm jn hh lt b fi ly lz l ma mb">X_train, y_train = preprocessing(X_train, y_train, ohe)<br/>X_val, y_val = preprocessing(X_val, y_val, ohe)<br/>X_prod, y_prod = preprocessing(prod_data[features],  prod_data['price'], ohe)</span></pre><h2 id="b3d0" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">建模</h2><p id="602e" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">我们用XGBoost模型来拟合数据。</p><pre class="ix iy iz ja fd lu lt me bn mf mg bi"><span id="a3da" class="mh jn hh lt b be mi mj l mk mb"># Initialize XGB with objective function<br/>parameters = {"objective": 'reg:squarederror',<br/>              "n_estimators": 100,<br/>              "verbosity": 0}<br/><br/>model = xgb.XGBRegressor(**parameters)<br/>model.fit(X_train, y_train)<br/>    <br/># generate predictions<br/>y_pred_train = model.predict(X_train).reshape(-1,1)<br/>y_pred = model.predict(X_val).reshape(-1,1)<br/>    <br/># calculate errors<br/>rmse_train = mean_squared_error(y_pred_train, y_train, squared=False)<br/>rmse_val = mean_squared_error(y_pred, y_val, squared=False)<br/>print(f"rmse training: {rmse_train:.3f}\t rmse validation: {rmse_val:.3f}")</span></pre><p id="be74" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">输出应该类似于:rmse训练:0.190，rmse验证:0.205。我们假设我们对我们的模型很满意，使它适合整个<code class="du lq lr ls lt b">ref_data</code>，并做出预测。不要忘记将预测转换回最终结果，因为我们采用对数来训练模型。此时，我们仍将保留转换后的数据，并添加一个额外的价格对数列，以便稍后比较我们的预测和目标。我们将预测作为一列添加到数据框中。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="5a4b" class="jm jn hh lt b fi ly lz l ma mb">X_train_full, y_train_full = preprocessing(ref_data[features], ref_data['price'], ohe)</span><span id="cba7" class="jm jn hh lt b fi md lz l ma mb">ref_data['prediction'] = model.predict(X_train_full)<br/>prod_data['prediction'] = model.predict(X_prod)<br/>ref_data['price_log'] = np.log1p(ref_data['price'])<br/>prod_data['price_log'] = np.log1p(prod_data['price'])</span></pre><h2 id="9b13" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">显然是人工智能——仪表板和配置文件</h2><p id="488c" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">现在是时候探索明显的人工智能工具了。为此，我们需要安装它:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="a68b" class="jm jn hh lt b fi ly lz l ma mb">pip install evidently</span></pre><p id="9184" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">此处显示的示例显然是在版本0.15.0dev上执行的，如果您使用不同的版本，并非所有功能都可用。通过以下方式检查您安装的版本:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="8af1" class="jm jn hh lt b fi ly lz l ma mb">import evidently<br/>evidently.__version__</span></pre><p id="eb0a" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">如果你想在Jupyter笔记本上直接显示你的仪表盘，你需要安装nbextension。在您的终端中运行:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="9bf5" class="jm jn hh lt b fi ly lz l ma mb">jupyter nbextension install --sys-prefix --symlink --overwrite --py evidently</span></pre><p id="4ebc" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">要启用它，请运行:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="cc88" class="jm jn hh lt b fi ly lz l ma mb">jupyter nbextension enable evidently --py --sys-prefix</span></pre><p id="85cb" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">导入所需的包，为带有数字目标变量的回归问题创建仪表板和配置文件:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="7fcb" class="jm jn hh lt b fi ly lz l ma mb">from evidently.dashboard import Dashboard<br/>from evidently.pipeline.column_mapping import ColumnMapping</span><span id="e82f" class="jm jn hh lt b fi md lz l ma mb"># packages for interactive dashboards<br/>from evidently.dashboard.tabs import {<br/>     DataDriftTab, <br/>     DataQualityTab, <br/>     NumTargetDriftTab, <br/>     RegressionPerformanceTab<br/>}</span><span id="d6be" class="jm jn hh lt b fi md lz l ma mb"># packages for json-profiles<br/>from evidently.model_profile import Profile<br/>from evidently.model_profile.sections import {  <br/>     DataDriftProfileSection, <br/>     DataQualityProfileSection, <br/>     NumTargetDriftProfileSection,<br/>     RegressionPerformanceProfileSection</span><span id="e27b" class="jm jn hh lt b fi md lz l ma mb">}</span></pre><p id="f7fd" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">准备数据:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="dc53" class="jm jn hh lt b fi ly lz l ma mb">target = 'price_log'<br/>numerical_features = ['sqft_living', 'sqft_above',<br/>     'sqft_living15','bathrooms','sqft_basement','lat','long', <br/>     'yr_built','bedrooms']<br/>categorical_features = ['grade', 'view', 'waterfront']</span><span id="2619" class="jm jn hh lt b fi md lz l ma mb">column_mapping = ColumnMapping()<br/>column_mapping.target = target<br/>column_mapping.prediction = 'prediction'<br/>column_mapping.numerical_features = numerical_features<br/>column_mapping.categorical_features = categorical_features</span></pre><h2 id="00dc" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数据漂移</h2><p id="b1b0" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">使用<code class="du lq lr ls lt b">DataDriftTab</code>定义数据漂移仪表板。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="31b3" class="jm jn hh lt b fi ly lz l ma mb">data_drift_dashboard =<br/>          Dashboard(tabs[DataDriftTab(verbose_level=1)])</span><span id="f8f6" class="jm jn hh lt b fi md lz l ma mb">data_drift_dashboard.calculate(ref_data, prod_data, <br/>          column_mapping=column_mapping)<br/>          data_drift_dashboard.show()</span></pre><p id="991a" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">这应该会给出类似下图的输出。在这个例子中，22个特征中的6个已经检测到漂移。您可以看到参考数据集和生产数据集的分布。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ml"><img src="../Images/5686e6f9bac58f9bb6b67f09b7ff8846.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uDTemlCRUmCuk3tpR8ZmMg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Part of the Data Drift Dashboard</figcaption></figure><p id="f631" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">我们可以通过设置<code class="du lq lr ls lt b">verbose_level=0</code>来显示一个较短的报告。您可以将此仪表板保存为html文件:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="bb27" class="jm jn hh lt b fi ly lz l ma mb">data_drift_dashboard.save('data_drift.html')</span></pre><p id="6e49" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">要将这些信息保存为json-profile，请使用<code class="du lq lr ls lt b">DataDriftProfileSection</code></p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="1b6e" class="jm jn hh lt b fi ly lz l ma mb">profile = Profile(sections=[DataDriftProfileSection()])</span><span id="a318" class="jm jn hh lt b fi md lz l ma mb">profile.calculate(ref_data, prod_data,column_mapping=column_mapping)<br/>profile = profile.json()<br/>profile</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mm"><img src="../Images/032a239c3d0ab983543f098c3588ff97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uomAd1Jacqm4N_VssVh9UA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Beginning of the json-profile file</figcaption></figure><h2 id="6019" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数据质量</h2><p id="0181" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">使用<code class="du lq lr ls lt b">DataQualityTab</code>定义数据质量仪表板。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="58fc" class="jm jn hh lt b fi ly lz l ma mb">data_quality_dashboard = Dashboard(tabs=[DataQualityTab()])</span><span id="6b19" class="jm jn hh lt b fi md lz l ma mb">data_quality_dashboard.calculate(ref_data, prod_data, column_mapping=column_mapping)<br/>data_quality_dashboard.show()</span></pre><p id="8405" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">这为我们提供了数据中所有特征的详细概述，以及一些统计信息，这取决于我们是有一个数字特征还是一个分类特征。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mn"><img src="../Images/9362504954e28f10426e770aa7498a36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ADs95J-2sD1lBeTU_gJamg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Example feature output of the data quality dashboard</figcaption></figure><p id="6ded" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">按下细节键，我们甚至可以得到每个特征和目标变量的散点图。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mo"><img src="../Images/368a04f5862647f4b40487596a9b5589.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mcfTCOUOrTgn9tlOGSByZA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Example scatter plot of the data quality dashboard</figcaption></figure><p id="72cb" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">要将此信息保存为html文件，请使用:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="5aa4" class="jm jn hh lt b fi ly lz l ma mb">data_quality_dashboard.save('data_quality.html')</span></pre><p id="3a1e" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">要保存为json-profile，请使用:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="fe3c" class="jm jn hh lt b fi ly lz l ma mb">profile = Profile(sections=[DataQualityProfileSection()])</span><span id="d177" class="jm jn hh lt b fi md lz l ma mb">profile.calculate(ref_data, prod_data,column_mapping=column_mapping)<br/>profile = profile.json()</span></pre><h2 id="2e01" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">目标漂移</h2><p id="e313" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">使用<code class="du lq lr ls lt b">NumTargetDriftTab</code>定义目标漂移仪表板。</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="a376" class="jm jn hh lt b fi ly lz l ma mb">target_drift_dashboard =<br/>       Dashboard(tabs[NumTargetDriftTab(verbose_level=1)])<br/>target_drift_dashboard.calculate(ref_data, prod_data,<br/>       column_mapping=column_mapping)<br/>target_drift_dashboard.show()</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mp"><img src="../Images/77df41103ff29aab081e0ad99722f756.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9YU2JWlPbqF5rEskzPH98g.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Part of the target drift dashboard</figcaption></figure><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mq"><img src="../Images/c72a63d45b8d46036120213e124a025e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*03lvAC9i9ChK4KqNhpdmLg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Part of the target drift dashboard</figcaption></figure><p id="3923" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">除了目标和预测分布，还显示了与每个特征的相关性。与之前一样，用</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="9496" class="jm jn hh lt b fi ly lz l ma mb">target_drift_dashboard.save('target_drift.html')</span></pre><p id="d1b9" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">至于数据漂移，可以通过设置<code class="du lq lr ls lt b">verbose_level=0</code>来显示更短的报告。使用以下命令获取json概要文件</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="00d5" class="jm jn hh lt b fi ly lz l ma mb">profile = Profile(sections=[NumTargetDriftProfileSection()])<br/>profile.calculate(ref_data, prod_data,column_mapping=column_mapping)<br/>profile = profile.json()</span></pre><h2 id="e8c8" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">数据和目标漂移</h2><p id="fa13" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">我们还可以在一个仪表板中显示数据和目标漂移:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="c263" class="jm jn hh lt b fi ly lz l ma mb">data_and_target_drift_dashboard =     <br/>     Dashboard(tabs[DataDriftTab(verbose_level=1),  <br/>                    NumTargetDriftTab(verbose_level=1)])</span><span id="c835" class="jm jn hh lt b fi md lz l ma mb">data_and_target_drift_dashboard.calculate(ref_data_sample, prod_data_sample, column_mapping=column_mapping)</span><span id="5936" class="jm jn hh lt b fi md lz l ma mb">data_and_target_drift_dashboard.show()</span></pre><h2 id="2565" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">模型性能—回归性能</h2><p id="e7f7" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">使用<code class="du lq lr ls lt b">RegressionPerformanceTab</code>定义回归模型的性能</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="20ff" class="jm jn hh lt b fi ly lz l ma mb">model_performance_dashboard = <br/>      Dashboard(tabs=[RegressionPerformanceTab(verbose_level=1)])</span><span id="5f37" class="jm jn hh lt b fi md lz l ma mb">model_performance_dashboard.calculate(ref_data, prod_data,<br/>      column_mapping=column_mapping)</span><span id="1953" class="jm jn hh lt b fi md lz l ma mb">model_performance_dashboard.show()</span></pre><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mr"><img src="../Images/563c62e21f0f1303f5c724b87e319426.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N8bnPkOE3nSGelUUsdRDsw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Part of the model performance dashboard</figcaption></figure><p id="d91b" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">这只是仪表板的一小部分。它提供了更多的信息，例如不同的误差、分布、低估和高估的预测等。在两个数据集上。要将其保存为html文件:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="e7fa" class="jm jn hh lt b fi ly lz l ma mb">model_performance_dashboard.save('model_perfomance.html')</span></pre><p id="6587" class="pw-post-body-paragraph kn ko hh kq b kr ks ii kt ku kv il kw jx ky kz la kb lc ld le kf lg lh li lj ha bi translated">与前面的部分相当，json-profile文件:</p><pre class="ix iy iz ja fd lu lt lv lw aw lx bi"><span id="b307" class="jm jn hh lt b fi ly lz l ma mb">profile = Profile(sections=[RegressionPerformanceProfileSection()])<br/>profile.calculate(ref_data, prod_data,column_mapping=column_mapping)<br/>regression_profile = profile.json()</span></pre><h2 id="e322" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">结论</h2><p id="bb56" class="pw-post-body-paragraph kn ko hh kq b kr ll ii kt ku lm il kw jx ln kz la kb lo ld le kf lp lh li lj ha bi translated">我们在一个回归示例中学习了如何使用显然由AI提供的仪表板和分析工具。在这篇文章中，我们没有分析结果，而只是展示了人工智能给我们的可能工具。它为我们的数据和模型提供了一个非常全面的概述。如果您有其他类型的数据或模型，步骤是相似的。你可以在<a class="ae lk" href="http://github.com/evidentlyai/evidently" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到例子。我们显然没有涵盖AI提供<strong class="kq hi">在线监控</strong>的可能性。显然，AI拥有从部署的ML服务中收集数据和模型度量的监视器，这些数据和模型度量可用于构建实时监视仪表板。有关这方面的更多信息，请参见<a class="ae lk" href="http://github.com/evidentlyai/evidently" rel="noopener ugc nofollow" target="_blank"> GitHub </a>。</p><h2 id="1c2f" class="jm jn hh bd jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">进一步阅读</h2><ul class=""><li id="2030" class="ms mt hh kq b kr ll ku lm jx mu kb mv kf mw lj mx my mz na bi translated">github.com/evidentlyai/evidently</li><li id="3972" class="ms mt hh kq b kr nb ku nc jx nd kb ne kf nf lj mx my mz na bi translated"><a class="ae lk" href="https://evidentlyai.com/" rel="noopener ugc nofollow" target="_blank">https://evidentlyai.com/</a></li></ul><div class="ng nh ez fb ni nj"><a rel="noopener follow" target="_blank" href="/@frauke.albrecht/subscribe"><div class="nk ab dw"><div class="nl ab nm cl cj nn"><h2 class="bd hi fi z dy no ea eb np ed ef hg bi translated">每当弗劳克·阿尔布雷特出版时，就收到一封电子邮件。</h2><div class="nq l"><h3 class="bd b fi z dy no ea eb np ed ef dx translated">每当弗劳克·阿尔布雷特出版时，就收到一封电子邮件。通过注册，您将创建一个中型帐户，如果您还没有…</h3></div><div class="nr l"><p class="bd b fp z dy no ea eb np ed ef dx translated">medium.com</p></div></div><div class="ns l"><div class="nt l nu nv nw ns nx jg nj"/></div></div></a></div><div class="ng nh ez fb ni nj"><a rel="noopener follow" target="_blank" href="/@frauke.albrecht/membership"><div class="nk ab dw"><div class="nl ab nm cl cj nn"><h2 class="bd hi fi z dy no ea eb np ed ef hg bi translated">通过我的推荐链接加入媒体</h2><div class="nq l"><h3 class="bd b fi z dy no ea eb np ed ef dx translated">阅读Frauke Albrecht的每一个故事(以及媒体上成千上万的其他作家)。您的会员费直接支持…</h3></div><div class="nr l"><p class="bd b fp z dy no ea eb np ed ef dx translated">medium.com</p></div></div><div class="ns l"><div class="ny l nu nv nw ns nx jg nj"/></div></div></a></div><div class="ng nh ez fb ni nj"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nk ab dw"><div class="nl ab nm cl cj nn"><h2 class="bd hi fi z dy no ea eb np ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nq l"><h3 class="bd b fi z dy no ea eb np ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nr l"><p class="bd b fp z dy no ea eb np ed ef dx translated">medium.com</p></div></div><div class="ns l"><div class="nz l nu nv nw ns nx jg nj"/></div></div></a></div></div></div>    
</body>
</html>