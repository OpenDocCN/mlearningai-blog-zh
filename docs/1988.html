<html>
<head>
<title>How to Detect Contours in an Image in Python using OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用OpenCV在Python中检测图像中的轮廓</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-detect-contours-in-an-image-in-python-using-opencv-3c245cb1d4d?source=collection_archive---------4-----------------------#2022-02-19">https://medium.com/mlearning-ai/how-to-detect-contours-in-an-image-in-python-using-opencv-3c245cb1d4d?source=collection_archive---------4-----------------------#2022-02-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="c624" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在今天的博客中，我们将看到如何使用cv2模块检测图像中的轮廓。谈论轮廓绘制当我们的用例涉及地质地形图像或研究天气图等时，它是一个非常有用的操作。</p><p id="b054" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">点击此处阅读带源代码的整篇文章—</strong>【https://machinelearningprojects.net/detect-contours/ T2】</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/0492958d886145d2ad970ca149948310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/0*YZeErvzbeP0hkg9w.png"/></div></figure><h1 id="e3c6" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">让我们开始吧…</h1><h2 id="eb0e" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">步骤1 —导入所需的包。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="4118" class="kj jm hh ky b fi lc ld l le lf"><strong class="ky hi">import</strong> cv2<br/><strong class="ky hi">import</strong> matplotlib.pyplot <strong class="ky hi">as</strong> plt</span></pre><h2 id="de82" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">第二步——让我们来阅读图片。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="2fdd" class="kj jm hh ky b fi lc ld l le lf">img = cv2.imread(‘contours.png’)<br/>img = cv2.cvtColor(img,cv2.COLOR_BGR2RGB)</span></pre><p id="493c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，我们正在读取图像，只是把它从BGR转换成RGB。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es lg"><img src="../Images/94ae2608c03d0e213035de2ca363c867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/0*mguqVpnVxbOqNwvy.jpg"/></div></figure><h2 id="49ce" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">第3步-将其转换为灰度阈值。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="4ea0" class="kj jm hh ky b fi lc ld l le lf">gray = cv2.cvtColor(img.copy(),cv2.COLOR_BGR2GRAY)</span></pre><p id="9559" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你可能会想，当它已经是灰色的时候，为什么我们还要把它转换成灰度。答案是，它看起来可能是灰色的，但它仍然有3个通道(R，G，B)，正如我们所知，灰度图像只有一个通道，这就是为什么我们需要将其转换为灰度。</p><h2 id="b25a" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">步骤4-对图像进行阈值处理以检测轮廓。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="d4e2" class="kj jm hh ky b fi lc ld l le lf">ret, thresh = cv2.threshold(gray, 125, 255, 0)</span></pre><p id="a5b1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了找到轮廓，我们必须对图像进行阈值处理，以便将其完全转换为二值图像。</p><h2 id="b06d" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">步骤5-让我们检测轮廓…</h2><p id="d7e8" class="pw-post-body-paragraph ie if hh ig b ih lh ij ik il li in io ip lj ir is it lk iv iw ix ll iz ja jb ha bi translated"><strong class="ig hi">语法</strong> : <em class="lm"> cv2.findContours(src，contour_retrieval，contours_approximation) </em></p><p id="356b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">轮廓，层次= cv2.findContours(thresh，cv2。RETR树，cv2。CHAIN_APPROX_SIMPLE)</p><p id="2bc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="lm">注:</em> </strong>你可以在这里阅读更多关于层级<a class="ae jc" href="https://docs.opencv.org/master/d9/d8b/tutorial_py_contours_hierarchy.html" rel="noopener ugc nofollow" target="_blank">的内容。</a></p><h2 id="f8fd" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">第六步——让我们在原始图像上画出这些轮廓。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="45f1" class="kj jm hh ky b fi lc ld l le lf">copy_img = img.copy()<br/>cv2.drawContours(copy_img,contours,-1,(0,0,255),2)</span></pre><ul class=""><li id="6bb9" class="ln lo hh ig b ih ii il im ip lp it lq ix lr jb ls lt lu lv bi translated">我们将使用img.copy()制作原始图像的副本，在副本图像上绘制轮廓，以便保留原始图像。</li><li id="9edc" class="ln lo hh ig b ih lw il lx ip ly it lz ix ma jb ls lt lu lv bi translated">为了绘制轮廓，我们使用cv2.drawContours()方法。第一个参数表示图像源，第二个参数表示应该作为Python列表传递的轮廓，第三个参数用作轮廓的索引，其他参数用于颜色厚度。</li></ul><h2 id="786b" class="kj jm hh bd jn kk kl km jr kn ko kp jv ip kq kr jz it ks kt kd ix ku kv kh kw bi translated">第7步——最后，让我们绘制结果图。</h2><pre class="je jf jg jh fd kx ky kz la aw lb bi"><span id="0383" class="kj jm hh ky b fi lc ld l le lf">titles = ['original','contours']<br/>imgs = [img, copy_img]<br/>for i in range (2):<br/>    plt.subplot(1,2,i+1)<br/>    plt.xticks([])<br/>    plt.yticks([])<br/>    plt.title(titles[i])<br/>    plt.imshow(imgs[i])<br/>plt.show()</span></pre><figure class="je jf jg jh fd ji er es paragraph-image"><div class="er es jd"><img src="../Images/d2014d19dc607eb63faaf98f7d643cab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/0*u24e6QvovxV9y-sb.png"/></div></figure><p id="6b91" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="lm">注:</em> </strong>这里蓝色描绘的是轮廓。</p><p id="843c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果对如何检测轮廓有任何疑问，请通过电子邮件或LinkedIn联系我。</p><p id="230e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如需进一步的代码解释和源代码，请访问这里</strong>——<a class="ae jc" href="https://machinelearningprojects.net/detect-contours/" rel="noopener ugc nofollow" target="_blank">https://machinelearningprojects.net/detect-contours/</a></p><p id="4c44" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是我写给这个博客的全部内容，感谢你的阅读，我希望你在阅读完这篇文章后会有所收获，直到下次👋… </p><p id="7410" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="lm">读我的</em> <em class="lm">上一篇:</em> </strong> <a class="ae jc" href="https://machinelearningprojects.net/plot-color-channels-histogram/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> <em class="lm">如何使用OPENCV </em> </strong> </a>在PYTHON中绘制图像的颜色通道直方图</p><p id="1835" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">查看我的其他</strong> <a class="ae jc" href="https://machinelearningprojects.net/machine-learning-projects/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">机器学习项目</strong></a><strong class="ig hi"/><a class="ae jc" href="https://machinelearningprojects.net/deep-learning-projects/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">深度学习项目</strong></a><strong class="ig hi"/><a class="ae jc" href="https://machinelearningprojects.net/opencv-projects/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">计算机视觉项目</strong></a><strong class="ig hi"/><a class="ae jc" href="https://machinelearningprojects.net/nlp-projects/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">NLP项目</strong></a><strong class="ig hi"/><a class="ae jc" href="https://machinelearningprojects.net/flask-projects/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">烧瓶项目</strong> </a> <strong class="ig hi">在</strong></p><div class="mb mc ez fb md me"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hi fi z dy mj ea eb mk ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">medium.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms jj me"/></div></div></a></div></div></div>    
</body>
</html>