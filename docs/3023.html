<html>
<head>
<title>Sankey chart for flow visualization in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用于Power BI中流程可视化的Sankey图</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/sankey-chart-for-flow-visualization-in-power-bi-828e62da4c0?source=collection_archive---------1-----------------------#2022-07-10">https://medium.com/mlearning-ai/sankey-chart-for-flow-visualization-in-power-bi-828e62da4c0?source=collection_archive---------1-----------------------#2022-07-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/20eb49a4f2bd322aefbce2ac0dc12044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yLEUfWhwvpITkc-Q6oZezw.png"/></div></div></figure><h1 id="7c39" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">了解一个市场图表</h1><p id="8ebb" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">Sankey图表是一个漂亮的可视化图形，用于显示来自多个级别和多个目的地的数据流。被连接的事物被称为<em class="kl">节点</em>，连接被称为<em class="kl">链路</em>。</p><p id="a7ed" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">桑基图通常用于显示网页之间的网站/应用程序流量。</p><p id="c100" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">创建Sankey图有多种方法，如Sankey generator网站、Python/R编程和可视化工具。在这些方法中，我认为Power BI对于表格数据是最方便的，因为它可以在短时间内创建一个Sankey图，而无需编码。此外，Power BI创建的Sankey图易于调整并与表中的其他数据交互。</p><h1 id="d1fc" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">步骤摘要</h1><ol class=""><li id="a7b6" class="kr ks hh jp b jq jr ju jv jy kt kc ku kg kv kk kw kx ky kz bi translated">检索数据</li><li id="ab41" class="kr ks hh jp b jq la ju lb jy lc kc ld kg le kk kw kx ky kz bi translated">下载Sankey visual</li><li id="5ba8" class="kr ks hh jp b jq la ju lb jy lc kc ld kg le kk kw kx ky kz bi translated">创建桑基图表</li><li id="691f" class="kr ks hh jp b jq la ju lb jy lc kc ld kg le kk kw kx ky kz bi translated">调整桑基图表</li></ol></div><div class="ab cl lf lg go lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ha hb hc hd he"><h1 id="f33d" class="ip iq hh bd ir is lm iu iv iw ln iy iz ja lo jc jd je lp jg jh ji lq jk jl jm bi translated">1.检索数据</h1><p id="2a10" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我使用了一个样本数据集，即从一个国家旅行到另一个国家的乘客数量。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/a4d27dfd046fb6fc224f895e04babbb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:436/format:webp/1*Cdk2MEfp3IjuqXBkg6cS_Q.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx">Dataset sample</figcaption></figure><p id="91d1" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">打开电源BI。单击主页选项卡，选择获取数据，然后选择文本/CSV。</p><blockquote class="ma mb mc"><p id="9195" class="jn jo kl jp b jq km js jt ju kn jw jx md ko ka kb me kp ke kf mf kq ki kj kk ha bi translated">主页选项卡&gt;获取数据&gt;文本/CSV</p></blockquote><p id="d4b6" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">然后，选择下载的。csv文件并加载数据。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mg"><img src="../Images/40da561ecde20d1c1e4ed3bd21218154.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*QS7JnzShP0nOgoPMt9yFjw.png"/></div></figure><h1 id="ca7b" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">2.下载Sankey visual</h1><p id="9b2f" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">在右侧的可视化平原，点击3点，并选择“获得更多的视觉效果”</p><blockquote class="ma mb mc"><p id="25ba" class="jn jo kl jp b jq km js jt ju kn jw jx md ko ka kb me kp ke kf mf kq ki kj kk ha bi translated">V <!-- -->可视化普通&gt; 3点&gt;“获得更多视觉效果”</p></blockquote><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/1d5af425e42a3a580a72044508d95c96.png" data-original-src="https://miro.medium.com/v2/resize:fit:502/format:webp/1*zsofnpOzpR_YZBD33q7yEw.png"/></div></figure><p id="0b03" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">这将打开视觉市场。使用右侧的搜索区域搜索Sankey Chart。单击Sankey图表产品(请确保它与下图相同)。然后，单击添加。</p><blockquote class="ma mb mc"><p id="95c2" class="jn jo kl jp b jq km js jt ju kn jw jx md ko ka kb me kp ke kf mf kq ki kj kk ha bi translated">搜索桑基图&gt;单击桑基图&gt;添加</p></blockquote><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/4bc45f7e88e2d66e938bdabfc863dbaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nGLexaK4t_Iq71C3b67V-A.png"/></div></div></figure><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mj"><img src="../Images/28872eabfcd74ca7dc7b47ed1846993a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jwqEe7rdSAd8ZBn7lxX1lg.png"/></div></div></figure><p id="ebf8" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">现在，您将在可视化效果平面中看到Sankey图标。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/e70f89d36cd06ab10ca2cb2cd066dd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*awOTsJConnCVot1MnagTpA.png"/></div></figure><h1 id="3273" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">3.创建桑基图表</h1><p id="e9c3" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">单击可视化效果平面中的Sankey图标。</p><p id="26fe" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">您将看到一个空的可视化。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/e70f89d36cd06ab10ca2cb2cd066dd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:446/format:webp/1*awOTsJConnCVot1MnagTpA.png"/></div></figure><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/7659c1a62e5a85452740f2b7d9038a29.png" data-original-src="https://miro.medium.com/v2/resize:fit:630/format:webp/1*T1sky4vMW_usBPjsMte0YQ.png"/></div><figcaption class="lw lx et er es ly lz bd b be z dx">Empty visualization</figcaption></figure><p id="23c4" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">在右侧的字段plain中，拖动要创建Sankey的3列。必须将这些列拖到正确类别的“来源”、“目的地”和“重量”中(重量必须是数字)。</p><p id="13d4" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">❗确保在选择列之前已经选择了空可视化。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/044d413aa84ffd9e50fde2595887fcbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*H9VU3_CIXvF6LYppuvongA.png"/></div></figure><p id="6eb7" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">将创建一个桑基图。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/723ef109a01db661d4aa90059e68c071.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_IpZVvAyAarA27AJy5ZgBQ.png"/></div></div></figure><blockquote class="mo"><p id="d845" class="mp mq hh bd mr ms mt mu mv mw mx kk dx translated">乘客的数量由节点间链接的权重表示，前往每个国家的总人数由节点大小表示。</p></blockquote><blockquote class="ma mb mc"><p id="295a" class="jn jo kl jp b jq my js jt ju mz jw jx md na ka kb me nb ke kf mf nc ki kj kk ha bi translated">单击三键图标&gt;选择列</p></blockquote><h1 id="f93f" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">4.调整桑基图表</h1><ul class=""><li id="46bd" class="kr ks hh jp b jq jr ju jv jy kt kc ku kg kv kk nd kx ky kz bi translated">通过拖动角度或边来扩展图表。</li></ul><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/9e05b5bcb2791874e702859fc6d79181.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Av4L3AR5tDXGw50mUyketA.png"/></div></div></figure><ul class=""><li id="d89a" class="kr ks hh jp b jq km ju kn jy nf kc ng kg nh kk nd kx ky kz bi translated">打开数据链接标签</li></ul><blockquote class="ma mb mc"><p id="35a0" class="jn jo kl jp b jq km js jt ju kn jw jx md ko ka kb me kp ke kf mf kq ki kj kk ha bi translated">可视化效果普通&gt;数据链接标签打开</p></blockquote><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es ni"><img src="../Images/79dd9614ffb2acf9c62095ae05ea5cd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:364/format:webp/1*Up3jmFFiO_JRrE5PnvLeRQ.png"/></div></figure><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es nj"><img src="../Images/ccd7d1b59525160a174d56d639d9c461.png" data-original-src="https://miro.medium.com/v2/resize:fit:392/format:webp/1*4Nk1sor8NSVqGGGwNRUWtw.png"/></div></figure><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nk"><img src="../Images/8fe55f883b388451a7c27a4f5810cfb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uOZ8sCHqiTD72HCcw1jioA.png"/></div></div></figure><p id="052f" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">您可以通过选择桑基图表来实现这一点。然后，在可视化平原，点击格式化你的视觉图标。打开数据链接标签。您将在链接上看到显示其连接节点的文本。</p><ul class=""><li id="db75" class="kr ks hh jp b jq km ju kn jy nf kc ng kg nh kk nd kx ky kz bi translated">节点和链接颜色变化</li></ul><blockquote class="ma mb mc"><p id="d3b1" class="jn jo kl jp b jq km js jt ju kn jw jx md ko ka kb me kp ke kf mf kq ki kj kk ha bi translated">可视化效果普通&gt;链接/节点&gt;选择颜色</p></blockquote><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es nl"><img src="../Images/dab478974611a1d13919cbccf391db04.png" data-original-src="https://miro.medium.com/v2/resize:fit:370/format:webp/1*9ApaL6md-2gWqCtvVZTK2w.png"/></div></figure><p id="cf7c" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">您可以在可视化平面中手动调整每个节点和链接的颜色。</p></div><div class="ab cl lf lg go lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ha hb hc hd he"><p id="3038" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">正如你所看到的，从Power BI创建一个Sankey图是如此简单而美丽。</p><p id="15d6" class="pw-post-body-paragraph jn jo hh jp b jq km js jt ju kn jw jx jy ko ka kb kc kp ke kf kg kq ki kj kk ha bi translated">如果你喜欢这篇文章，请鼓掌关注我更多关于数据科学的文章。</p><div class="nm nn ez fb no np"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nq ab dw"><div class="nr ab ns cl cj nt"><h2 class="bd hi fi z dy nu ea eb nv ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nw l"><h3 class="bd b fi z dy nu ea eb nv ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nx l"><p class="bd b fp z dy nu ea eb nv ed ef dx translated">medium.com</p></div></div><div class="ny l"><div class="nz l oa ob oc ny od in np"/></div></div></a></div></div></div>    
</body>
</html>