<html>
<head>
<title>Set up Remote Jupyter Lab/Notebook Server for Browser Access</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">设置用于浏览器访问的远程Jupyter实验室/笔记本服务器</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/set-up-remote-jupyter-lab-notebook-server-for-remote-browser-access-2cef464f203e?source=collection_archive---------0-----------------------#2022-07-14">https://medium.com/mlearning-ai/set-up-remote-jupyter-lab-notebook-server-for-remote-browser-access-2cef464f203e?source=collection_archive---------0-----------------------#2022-07-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es il"><img src="../Images/9bd6b1814a809a77d60624e671df8ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*keXV2fNuPAyEr5iV"/></div></div><figcaption class="ix iy et er es iz ja bd b be z dx">Photo by <a class="ae jb" href="https://unsplash.com/@ewitsoe?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Erik Witsoe</a> on <a class="ae jb" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8f61" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">作为一名机器学习发烧友，您很可能会在日常生活中使用Jupyter Lab或Jupyter笔记本电脑来处理您的数据并培训您的模型。然而，通常我们日常使用的计算机不够强大，无法处理大量的计算负载，如深度神经网络、庞大的数据集等。因此，在远程机器上运行代码是必不可少的，第一步是建立Jupyter实验室或笔记本电脑。</p><p id="faae" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">已经有许多在线方法来远程设置您的Jupyter Lab或笔记本电脑，但其中许多方法需要使用复杂的工具，这些工具很可能不会在不同平台上通用，或者会导致其他未知问题。今天，我们将向您展示一种不太流行的方法，即仅使用内置配置在20分钟内设置您的远程Jupyter Lab。</p><h1 id="9256" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">目录</h1><p id="5e24" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated"><a class="ae jb" href="#563b" rel="noopener ugc nofollow">🔥</a> <br/>安装<a class="ae jb" href="#a528" rel="noopener ugc nofollow">🔥创建配置文件</a> <br/> <a class="ae jb" href="#d9b8" rel="noopener ugc nofollow">🔥配置</a> <br/> <a class="ae jb" href="#2606" rel="noopener ugc nofollow">🔥启动jupyter lab/笔记本</a> <br/> ∘ <a class="ae jb" href="#a9a6" rel="noopener ugc nofollow">感谢收看！:)</a> <br/> <a class="ae jb" href="#16d4" rel="noopener ugc nofollow">附录</a></p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h1 id="563b" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated">🔥装置</h1><p id="c9ea" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated">首先，您需要通过SSH连接您的服务器。本文不会对此进行扩展。</p><p id="2a1d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">连接后，<strong class="je hi">更新</strong>系统，确认python和pip安装正确。我使用的是Ubuntu 20.04，我的python版本是<strong class="je hi"> 3.8.10 </strong>。要更新Ubuntu，您可以</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="0930" class="ln kb hh lj b fi lo lp l lq lr">sudo apt update<br/>sudo apt upgrade<br/>sudo apt-get update<br/>sudo apt-get upgrade</span></pre><p id="6311" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">现在，您已经准备好安装Jupyter实验室或笔记本电脑了。由于Jupyter Lab日益流行，本文将以Jupyter Lab为例。要安装笔记本，在本文的所有命令中，您通常只需要用笔记本替换lab。要使用pip3安装与您的系统兼容的最新Jupyter Lab版本，请执行以下操作</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="e0fa" class="ln kb hh lj b fi lo lp l lq lr">pip3 install jupyterlab</span></pre><p id="0222" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果你没有点3，那就做吧</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="4e36" class="ln kb hh lj b fi lo lp l lq lr">sudo apt install python3-pip</span></pre><p id="2b98" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">你们都为下一步做好了准备！</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h1 id="a528" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated">🔥创建配置文件</h1><p id="453b" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated">您首先需要生成配置文件。我们将来会在配置文件中写入我们的配置。(同样，对于Jupyter笔记本，请在下面用笔记本替换实验室)</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="c6c0" class="ln kb hh lj b fi lo lp l lq lr">jupyter lab --generate-config</span></pre><p id="3a15" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果您想设置密码通过浏览器访问您的实验室，请执行以下步骤(可选，但建议)</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="f36c" class="ln kb hh lj b fi lo lp l lq lr">jupyter lab password</span></pre><p id="8a0b" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">通常-generate-config命令会生成一个<strong class="je hi"> jupyter_lab_config.py </strong>文件到你的主目录的<strong class="je hi">。jupyter </strong>文件夹。然而，我们将在同一个目录下使用json文件，这更容易处理。要访问/创建它，您可以使用nano(如果您的系统有它的话)这个命令兼容于Jupyter Lab和Jupyter笔记本</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="fa4e" class="ln kb hh lj b fi lo lp l lq lr">nano /home/ubuntu/.jupyter/jupyter_server_config.json</span></pre><p id="0393" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果您已经设置了密码，您将看到一个json格式的文件，其中包含您的散列密码。</p></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h1 id="d9b8" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated">🔥安装ˌ使成形</h1><p id="77fe" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated">在您的json文件中填写以下内容。记住，如果你有一个密码放在你的密码。(<em class="ls">配置兼容jupyter lab和jupyter notebook </em></p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="7093" class="ln kb hh lj b fi lo lp l lq lr">{  <br/>  "NotebookApp": {<br/>    "password": "YOUR ENCRYPTED PASSWORD IS HERE",<br/>    "allow_remote_access":true,<br/>    "ip":"*",<br/>    "port":80,<br/>    "allow_root":true<br/>  }<br/>}</span></pre><p id="0c7b" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这里，<strong class="je hi"> allow_remote_access </strong>和<strong class="je hi"> ip </strong>参数会给你远程访问的权限。设置ip=*是至关重要的，这意味着实验室将监听所有ip地址并欢迎它们的连接。参数<strong class="je hi"> allow_root </strong>将允许您以root权限运行您的笔记本，因此您可以监听端口80。</p><p id="ea89" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">之后，按<strong class="je hi"> control+x，y，</strong>和<strong class="je hi"> Enter </strong>退出并保存文件。现在，jupyter端已经配置好了。</p><p id="272d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">几个快速注释:</p><ul class=""><li id="992f" class="lt lu hh je b jf jg jj jk jn lv jr lw jv lx jz ly lz ma mb bi translated">对于端口，80只能在root权限下访问。默认端口是8888，您也可以在这种情况下使用。</li><li id="ffd3" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated">如果您正在使用云服务，请记住还要配置安全组以允许来自您的IP地址的所有入站和出站连接，这样您就可以远程访问服务器。如果您不知道如何做到这一点，您也可以使用<strong class="je hi"> ufw </strong>命令来配置安全策略。</li></ul></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><h1 id="2606" class="ka kb hh bd kc kd ld kf kg kh le kj kk kl lf kn ko kp lg kr ks kt lh kv kw kx bi translated">🔥启动Jupyter实验室/笔记本</h1><p id="390e" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated">现在你一切都准备好了。要使用Jupyter Lab / Notebook，只需在命令行中输入即可。</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="f7a3" class="ln kb hh lj b fi lo lp l lq lr">jupyter lab</span></pre><p id="982c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">但是，由于在您关闭SSH会话后，jupyter lab进程也会自动暂停，您可以在jupyter lab命令前添加此命令，使jupyter lab在后台运行，因此在关闭终端会话后，您不必担心进程也会终止。</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="aa25" class="ln kb hh lj b fi lo lp l lq lr">nohup jupyter lab &gt; output.txt</span></pre><p id="ed5e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我们通常会做什么:</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="b716" class="ln kb hh lj b fi lo lp l lq lr">sudo -E env "PATH=$PATH" jupyter lab --allow-root --collaborative</span></pre><ul class=""><li id="4e1a" class="lt lu hh je b jf jg jj jk jn lv jr lw jv lx jz ly lz ma mb bi translated">sudo 已启用，因此jupyter可以监听端口80</li><li id="dfb7" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated"><strong class="je hi"> -E env "PATH=$PATH" </strong>用于防止环境被sudo命令搞乱</li><li id="1fd8" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated"><strong class="je hi"> —如果您想使用sudo，allow-root </strong>命令是必不可少的</li><li id="7c13" class="lt lu hh je b jf mc jj md jn me jr mf jv mg jz ly lz ma mb bi translated"><strong class="je hi"> —协作</strong>命令支持与其他人的实时协作。</li></ul><p id="6e5c" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">至此，快速教程完成！你可以打开你的浏览器，输入服务器的ip地址(如果你需要的话，带端口)，它应该会自动打开。</p><h2 id="a9a6" class="ln kb hh bd kc mh mi mj kg mk ml mm kk jn mn mo ko jr mp mq ks jv mr ms kw mt bi translated"><strong class="ak">感谢观看！:)</strong></h2><h1 id="16d4" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated">附录</h1><p id="7bbc" class="pw-post-body-paragraph jc jd hh je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz ha bi translated">这里有一些快速笔记</p><p id="212b" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">要查看jupyter服务器的进程ID，因为您之前使用了<strong class="je hi"> nohup </strong>，请键入</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="8336" class="ln kb hh lj b fi lo lp l lq lr">ps -ax|grep jupyter</span></pre><p id="542b" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">要停止它，只需使用<strong class="je hi">杀死</strong>命令</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="705a" class="ln kb hh lj b fi lo lp l lq lr">kill [jupyter ID]</span></pre><p id="3b3d" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">启用扩展功能(在最新版本中无需手动操作)</p><pre class="im in io ip fd li lj lk ll aw lm bi"><span id="71ff" class="ln kb hh lj b fi lo lp l lq lr">sudo pip3 install -e jupyter_contrib_nbextensions<br/>jupyter contrib nbextension install --user</span></pre><div class="mu mv ez fb mw mx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="my ab dw"><div class="mz ab na cl cj nb"><h2 class="bd hi fi z dy nc ea eb nd ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ne l"><h3 class="bd b fi z dy nc ea eb nd ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nf l"><p class="bd b fp z dy nc ea eb nd ed ef dx translated">medium.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl iv mx"/></div></div></a></div></div></div>    
</body>
</html>