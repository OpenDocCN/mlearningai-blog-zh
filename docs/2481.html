<html>
<head>
<title>Build custom model using Azure percept Device</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Azure percept设备构建自定义模型</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/build-custom-model-using-azure-percept-device-9ec56f74a4d0?source=collection_archive---------8-----------------------#2022-05-07">https://medium.com/mlearning-ai/build-custom-model-using-azure-percept-device-9ec56f74a4d0?source=collection_archive---------8-----------------------#2022-05-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="a9b4" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">使用Azure Percept收集图像和训练自定义模型的过程</h1><h1 id="7894" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">要求</h1><ul class=""><li id="b69f" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">Azure帐户</li><li id="62ae" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">天蓝色感知设备</li><li id="a828" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure Percept工作室</li><li id="b189" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure认知定制视觉服务</li></ul><h1 id="2eef" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">步伐</h1><ul class=""><li id="29f4" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">首先安装并配置Azure percept设备</li><li id="d2e5" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">然后进入—<a class="ae jz" href="https://ms.portal.azure.com/#blade/AzureEdgeDevices/Main/overview" rel="noopener ugc nofollow" target="_blank">https://ms . portal . Azure . com/# blade/AzureEdgeDevices/Main/overview</a>—Azure Percept Studio</li><li id="318e" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">单击概述页面</li><li id="c4f2" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">点击新的人工智能模型</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ka"><img src="../Images/9f9d25c6181631f2f5897425657da4de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VA_fxnAz2GQKs_m1.jpg"/></div></div></figure><ul class=""><li id="6fa6" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">然后单击创建视觉原型</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kr"><img src="../Images/e048165630d9bc91b5113b8e657d6caf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CjPKoSVkM-ibaJMU.jpg"/></div></div></figure><ul class=""><li id="65c9" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在为项目命名并选择资源组</li><li id="37d8" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">确保选择合适的认知服务定制愿景资源</li><li id="6bd4" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">选择对象检测</li><li id="4d95" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">为了优化，请选择精度</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ks"><img src="../Images/55bfc3626421a350eaf0a734083b56f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gR850lqVsPSpyg_N.jpg"/></div></div></figure><ul class=""><li id="bed4" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在让我们配置设备来收集图像</li><li id="11c1" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">选择物联网集线器，然后选择设备</li><li id="ae3b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">对于收集的频率，我选择每5秒拍摄一帧，然后将其发送到自定义视觉服务</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kt"><img src="../Images/54db8f671e3afec036605d08ec02424e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DOlILLPHXk8cyN7d.jpg"/></div></div></figure><ul class=""><li id="d65c" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">下一步是去自定义视觉和标签的图像</li><li id="5c25" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在我的例子中，我正在拍摄钢珠的图像，并希望检测这些图像以进行计数</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ku"><img src="../Images/902af4503af3e09e435fd6d5e355349e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*lnpBWWzDude8TOpZ.jpg"/></div></div></figure><ul class=""><li id="83f2" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">确保至少收集了25张图像</li><li id="127d" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">如果没有，那么再次返回并收集更多的图像</li><li id="d9b0" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">我几乎尝试了3次来获得正确的图像数量</li><li id="1c5d" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">还要记住，有时我们可能需要50张或更多的图片来获得准确性</li><li id="eede" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">这是图片列表</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kv"><img src="../Images/79f651e10aa66cee4d27dc4f216180a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*izKfwaE89kJ5FSGK.jpg"/></div></div></figure><ul class=""><li id="ff65" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在是检测盒子的时候了</li><li id="9179" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">花时间确保在图像上画出边界框，并用标签标记它们</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kw"><img src="../Images/b9c686356dc95183c54b89a449ef7552.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fg1w6UEW1hXWbR1H.jpg"/></div></div></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kx"><img src="../Images/eaaade2d8846badae6441fed32456554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ccx4akBxI617YXpt.jpg"/></div></div></figure><ul class=""><li id="19d9" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在，单击自定义视觉中的培训</li><li id="bc79" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">等待培训完成</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ky"><img src="../Images/f58e663f10d82cf9ff000d102c94226d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*F4onjQbc-YBcydRt.jpg"/></div></div></figure><ul class=""><li id="bdaa" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在回到Azure Percept Studio</li><li id="d10b" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">转到下一步，即部署模型</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kz"><img src="../Images/27b20e03aedd052c76af33294cfb2344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*LU82k_cfOIi0_mcR.jpg"/></div></div></figure><ul class=""><li id="f438" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">现在部署模型</li><li id="b3a3" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">转到webstream并查看设备摄像头输出</li><li id="7735" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">给几分钟时间来加载部署的模型</li><li id="4975" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">看看这个设备是否能够预测钢珠</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es la"><img src="../Images/00ffce19ad57e547a63bdf237ec82397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Z3zDQUU6LGzR1n_u.jpg"/></div></div></figure><ul class=""><li id="5985" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">小物体总是难以探测</li><li id="2dcc" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">在自定义视觉服务中测试模型</li><li id="b9ae" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用test1.jpg和test2.jpg图像</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lb"><img src="../Images/f0a6282f9fb0c9dfee874106b56f6151.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*p6o3A_ZP9Y7chzfX.jpg"/></div></div></figure><ul class=""><li id="d511" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">在用更多的图像测试后，你可以看到模型的准确性</li><li id="e0cd" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">必须将物体拉近，以便摄像机拾取和检测物体</li><li id="85ea" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">以下是预测结果的示例</li></ul><pre class="kb kc kd ke fd lc ld le lf aw lg bi"><span id="fd82" class="lh if hh ld b fi li lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.561,<br/>          0.81,<br/>          0.587,<br/>          0.846<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.708984",<br/>        "timestamp": "1646696076787165855"<br/>      },<br/>      {<br/>        "bbox": [<br/>          0.435,<br/>          0.805,<br/>          0.458,<br/>          0.844<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.665527",<br/>        "timestamp": "1646696076787165855"<br/>      },<br/>      {<br/>        "bbox": [<br/>          0.5,<br/>          0.808,<br/>          0.525,<br/>          0.844<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.570801",<br/>        "timestamp": "1646696076787165855"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:34:37.313Z"<br/>}</span><span id="c0af" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.566,<br/>          0.706,<br/>          0.589,<br/>          0.748<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.623535",<br/>        "timestamp": "1646695846850685038"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:47.368Z"<br/>}</span><span id="eba4" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.566,<br/>          0.705,<br/>          0.592,<br/>          0.747<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.547852",<br/>        "timestamp": "1646695845809100162"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:46.306Z"<br/>}</span><span id="988e" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.575,<br/>          0.706,<br/>          0.598,<br/>          0.747<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.680176",<br/>        "timestamp": "1646695844725854422"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:45.243Z"<br/>}</span><span id="4bc4" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.562,<br/>          0.706,<br/>          0.586,<br/>          0.748<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.670410",<br/>        "timestamp": "1646695843642607332"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:44.166Z"<br/>}</span><span id="b3bf" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.569,<br/>          0.706,<br/>          0.593,<br/>          0.748<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.540039",<br/>        "timestamp": "1646695842601024050"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:43.102Z"<br/>}</span><span id="b360" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.571,<br/>          0.705,<br/>          0.596,<br/>          0.745<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.592773",<br/>        "timestamp": "1646695841517776948"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:42.040Z"<br/>}</span><span id="4391" class="lh if hh ld b fi lm lj l lk ll">{<br/>  "body": {<br/>    "NEURAL_NETWORK": [<br/>      {<br/>        "bbox": [<br/>          0.562,<br/>          0.708,<br/>          0.586,<br/>          0.748<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.736816",<br/>        "timestamp": "1646695840434530132"<br/>      },<br/>      {<br/>        "bbox": [<br/>          0.494,<br/>          0.708,<br/>          0.517,<br/>          0.753<br/>        ],<br/>        "label": "steelball",<br/>        "confidence": "0.504395",<br/>        "timestamp": "1646695840434530132"<br/>      }<br/>    ]<br/>  },<br/>  "enqueuedTime": "2022-03-07T23:30:40.961Z"<br/>}</span></pre><ul class=""><li id="179e" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">网络流上的输出</li></ul><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ln"><img src="../Images/45a1ecaa4f19f4e7c392c7bf9271d5e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6QTsWXdB_cPfnQgN.jpg"/></div></div></figure><figure class="kb kc kd ke fd kf er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lo"><img src="../Images/30c1ac84e00efb9addd78891e77714e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aetprr3WQmWUU0bw.jpg"/></div></div></figure><ul class=""><li id="1605" class="jc jd hh je b jf km jh kn jj ko jl kp jn kq jp jq jr js jt bi translated">重置为模型</li></ul><pre class="kb kc kd ke fd lc ld le lf aw lg bi"><span id="2cce" class="lh if hh ld b fi li lj l lk ll">https://github.com/microsoft/azure-percept-advanced-development</span><span id="85cb" class="lh if hh ld b fi lm lj l lk ll">https://aedsamples.blob.core.windows.net/vision/aeddevkitnew/openpose.zip</span></pre></div><div class="ab cl lp lq go lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ha hb hc hd he"><p id="c25c" class="pw-post-body-paragraph lw lx hh je b jf km ly lz jh kn ma mb jj mc md me jl mf mg mh jn mi mj mk jp ha bi translated">原文—【github.com】samples 2022/custommodelpepent . MD at main balakreshnan/samples 2022</p><div class="ml mm ez fb mn mo"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mp ab dw"><div class="mq ab mr cl cj ms"><h2 class="bd hi fi z dy mt ea eb mu ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mv l"><h3 class="bd b fi z dy mt ea eb mu ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mw l"><p class="bd b fp z dy mt ea eb mu ed ef dx translated">medium.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc kk mo"/></div></div></a></div></div></div>    
</body>
</html>