<html>
<head>
<title>Augmented Reality Sudoku Solver: Building the Graphical User Interface</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">增强现实数独求解器:构建图形用户界面</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/augmented-reality-sudoku-solver-part-iv-65afe2231e46?source=collection_archive---------6-----------------------#2021-10-17">https://medium.com/mlearning-ai/augmented-reality-sudoku-solver-part-iv-65afe2231e46?source=collection_archive---------6-----------------------#2021-10-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/900daa7c6901df9e54accaae8c52adb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nbEV2qAA93TmC95R-zos4w.png"/></div></div></figure><p id="15ac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi jn translated">这篇文章是增强现实数独解算器的延续，我们将构建一个基于GUI的增强现实数独解算器。在本文中，我们将使用PyGame构建项目的GUI组件。这个项目有几个子组件，每个子组件都在单独的文件中实现，以确保代码的可重用性。</p><p id="7685" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的目标是解决任何N维的数独，其中N是一个非素数。该项目将以两种形式实施-</p><ul class=""><li id="2193" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">一个选项来加载保存在系统上的图像或使用网络摄像头将图像馈送到程序，然后在系统上玩游戏。</li><li id="2957" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">一个选项，使用增强现实和解决数独显示的网络摄像头的难题。</li></ul><p id="12a0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">项目以<a class="ae kk" href="https://en.wikipedia.org/wiki/Knuth%27s_Algorithm_X" rel="noopener ugc nofollow" target="_blank"> <em class="kl">算法X </em> </a>的形式使用<a class="ae kk" href="https://en.wikipedia.org/wiki/Dancing_Links" rel="noopener ugc nofollow" target="_blank"> <em class="kl">跳舞环节</em> </a>寻找数独难题的解。数独是一个众所周知的NP完全问题，算法X是实现一种贪婪的深度优先搜索来找到合适的解决方案的一种手段。该项目将分为4个部分</p><ul class=""><li id="0d0c" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第一部分<strong class="ir hi"> <em class="kl"> — </em> </strong> <a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-i-8e29e59cecab">了解数独解算器，即用于解数独的算法。</a></li><li id="8113" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第二部分— <a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-ii-cdfc035a415c">处理来自相机的图像，以便能够提取数独的网格。</a></li><li id="a5e4" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第三部分— <a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-iii-d2370a9cbace">处理图像和相应的模型，以检测每个单元中的数值。</a></li><li id="e370" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第四部分——使用PyGame构建GUI。</li></ul><p id="0634" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">第四部分:使用PyGame构建GUI-</p><p id="ae83" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">游戏的完整图形用户界面由3部分组成-</p><ul class=""><li id="acdf" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">我们构建了一个鼠标可点击的圆角矩形按钮。这些按钮用于帮助我们选择各种操作。</li><li id="7e72" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi">摄像机窗口:</strong>这是一个集成了摄像机画面的窗口，用于点击图像或运行增强现实模式。</li><li id="26d1" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi">游戏窗口:</strong>这是整个项目的主GUI，用来和主游戏一起运行所有其他部分。</li></ul><h1 id="b833" class="km kn hh bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated"><strong class="ak">按钮类- </strong></h1><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="77bb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里，我们首先用以下变量初始化该类-</p><ul class=""><li id="301d" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> X: </em> </strong>按钮位置的中心X坐标。</li><li id="d54c" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> Y: </em> </strong>按钮位置的中心Y坐标。</li><li id="fdc8" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">按钮宽度:</em> </strong>这是按钮的像素宽度。</li><li id="845f" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">按钮高度:</em> </strong>这是按钮的像素高度。</li><li id="04c4" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">颜色:</em> </strong>这是按钮的颜色，以RGB表示。</li><li id="2fed" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">悬停颜色:</em> </strong>这是鼠标悬停在按钮上时按钮的颜色，设置为按钮原始颜色的75%。</li><li id="0c1d" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">按钮曲率半径:</em> </strong>这是按钮圆角矩形的曲率半径。</li><li id="0268" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">文本:</em> </strong>用于显示在按钮上的文本。</li></ul><p id="17dc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">绘制按钮- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="5b1b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该方法用于在"<strong class="ir hi"> pygame.surface </strong>"对象上绘制按钮。可以将"<strong class="ir hi"> pygame.surface </strong>"对象视为二维图像，在其上可以显示其他图像/对象。我们首先定义按钮的矩形形状。然后，我们根据按钮是否位于鼠标下方来定义按钮的颜色。接下来，我们定义四个圆形轮廓，显示在矩形轮廓的角上。然后我们用定义的颜色填充图像，用黑色填充轮廓和文本。最后，我们在表面上显示按钮。</p><p id="df99" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">点击- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="8c09" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果鼠标在按钮上时单击了鼠标按钮，此方法返回True，否则返回Fasle。</p><p id="c092" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">检查按钮是否在鼠标下- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="0b55" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个方法获取鼠标的坐标，并检查按钮的坐标是否在按钮空间的区域内。如果x坐标位于按钮的宽度范围内，同样，如果y坐标位于按钮的高度范围内，则返回True，否则返回False。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c1270670ee6be5bc66ff05c3b31a2d1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DiwxwBdcCnT2B1HZar7MxA.png"/></div></div><figcaption class="lq lr et er es ls lt bd b be z dx">Button without and with the mouse over the button</figcaption></figure></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><h1 id="1ffa" class="km kn hh bd ko kp mb kr ks kt mc kv kw kx md kz la lb me ld le lf mf lh li lj bi translated">相机窗口类-</h1><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="bfee" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里，我们首先用以下变量初始化该类-</p><ul class=""><li id="88d5" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">摄像机源:</em> </strong>摄像机源的索引，可以是摄像机，也可以是视频的feed。</li><li id="42a0" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">捕获图像:</em> </strong>布尔变量，表示是否包含捕获按钮。</li></ul><p id="f845" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">上下文管理器:输入- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="9339" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该方法是一个特殊的dunder方法，它支持使用带有语句上下文的对象<strong class="ir hi">。在这里，我们首先定义我们的相机对象，并从中读取一帧。然后，我们检查窗口是否是为了捕捉图像。如果是这样，我们包括一个带有相机图标的按钮，可以用来点击图像。如果窗口是为了增强现实观看，我们在左上角加载一个Home按钮，点击它会把我们带回主游戏菜单。</strong></p><p id="7c9a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">绘制摄像机窗口- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="9027" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们首先用白色填充颜色，然后从相机中提取一帧，该帧从BGR方案转换为RGB。然后，我们创建一个"<strong class="ir hi"> pygame.surface </strong>"对象，将图像水平翻转，以确保数字不会出现镜像。然后，我们根据窗口的用途显示捕获按钮或主页按钮。接下来，我们遍历事件来检查任何点击。</p><p id="df16" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">上下文管理器:退出- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="800d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是"<strong class="ir hi"> __enter__ </strong> " dunder方法的对应方法，当我们用-context 移出"<strong class="ir hi">时调用。</strong></p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/de539f2a6ea2ea624ebeee623ed70969.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZnFNq9AVz4Q7fpqzoXIJA.png"/></div></div></figure></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><h1 id="cedc" class="km kn hh bd ko kp mb kr ks kt mc kv kw kx md kz la lb me ld le lf mf lh li lj bi translated">游戏窗口类-</h1><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="16c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是封装了项目所有其他组件的主要GUI类。这里，我们首先用以下变量初始化该类-</p><ul class=""><li id="1267" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">盒子行数:</em> </strong>拼图子盒子中的行数。</li><li id="af99" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">框列:</em> </strong>拼图子框中的列数。</li><li id="82fa" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">行数:</em> </strong>拼图中的总行数和总列数。</li><li id="02e7" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">游戏区域宽度:</em> </strong>游戏区域的总像素宽度。</li><li id="705b" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">游戏区域高度:</em> </strong>游戏区域的总像素高度。</li><li id="f768" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">左上角区域坐标:</em> </strong>窗口中拼图放置位置的左上角坐标。</li><li id="218b" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">拼图矩阵:</em> </strong>这是数独拼图矩阵。</li><li id="749c" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">谜题矩阵的初始副本:</em> </strong>由于游戏解发生在适当的位置，它修改了原始的谜题矩阵。这是初始矩阵的备份。</li><li id="ce72" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">解列表:</em> </strong>当前谜题的解列表。</li><li id="b6b5" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">选中的解决方案:</em> </strong>被选中的解决方案，点击求解按钮显示。</li><li id="a87f" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">游戏窗口:</em> </strong>这是游戏窗口的屏幕对象。</li><li id="c00f" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">选择框:</em> </strong>这是当前高亮显示的框，我们在这里输入数值。</li><li id="b47d" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">锁定框:</em> </strong>不能修改的拼图非零位置列表。</li><li id="bc11" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">主页图标:</em> </strong>主页按钮导航到主菜单的图标。</li><li id="3b26" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> Home键:</em> </strong>键导航到主菜单。</li><li id="0e11" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">加载图像按钮:</em> </strong>按钮从文件中加载图像。</li><li id="b703" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">从相机加载按钮:</em> </strong>按钮点击相机中的图像。</li><li id="92ed" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">解谜按钮:</em> </strong>按钮用来揭示谜题的解答。</li><li id="f32d" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">玩游戏按钮:</em> </strong>主菜单中用来玩游戏的按钮。</li><li id="8a0e" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">增强现实按钮:主菜单中的</em> </strong>按钮用于加载增强现实。</li></ul><p id="645c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">获取锁定的箱子位置- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="dc61" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个方法从难题矩阵中返回非零位置。</p><p id="15eb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">绘制游戏窗口- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="b986" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们首先用白色填充窗口并显示数独标题。接下来，我们遍历行数和列数来创建水平线和垂直线。最后，我们遍历难题矩阵，如果元素是一个非零值，我们在相应的单元格中显示数字。我们检查位置是否是锁定的单元格，然后我们用黑色显示数字，否则我们检查它是否是该单元格的可能数字，并相应地分别用蓝色或红色显示文本。</p><p id="049e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">注意:</strong>点击解算按钮后，使用“解算”布尔值将非锁定位置值置为绿色。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/640f05cdea2cf0160dc53465ffa62760.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*1hH1fBEgetHcgMRk7DyVZA.jpeg"/></div></figure><p id="a157" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">鼠标点击处理程序- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="95c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们首先检查是否点击了“从文件加载图像”按钮。如果是这样，那么我们使用Tkinter库中的“<strong class="ir hi"> askopenfilename </strong>”方法来打开图像。<br/>然后我们使用“<strong class="ir hi">sudokuimageprocessing</strong>”对象加载图像并获取矩阵。如果图像是有效的，拼图被加载到屏幕上，矩阵和它的尺寸被保存，否则它提示错误对话框说“不能加载图像”。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/412b267f6ba808e7b56e419e58dbed33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fPhIiHfP4fQqJ7YAnEljjQ.png"/></div></div></figure><p id="fdfc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，我们检查“捕获图像”按钮。如果是这样，我们打开相机窗口对象，将“<strong class="ir hi"> capture_image </strong>”设为真，并无限期地从窗口对象读取数据，直到返回一幅图像。类似于前面的检查，我们加载图像和"<strong class="ir hi">sudokuimageprocessing</strong>"对象，并尝试提取矩阵。如果图像加载成功，我们在屏幕上加载拼图，矩阵和它的尺寸被保存，否则它提示错误对话框说“图像不清楚”。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es mj"><img src="../Images/2b9acc4186118905a7b60beca3dde3f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:892/format:webp/1*mBX8jfbbqB7mt2xVAkuZ_g.jpeg"/></div></figure><p id="cbd1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，我们检查是否单击了“求解”按钮。我们首先将矩阵重置为初始拼图矩阵。然后我们遍历矩阵，找到拼图中的零位置，对于每个位置，我们用绿色填充正确的解值。在这之后，我们按住，直到一个按键或鼠标按钮点击，然后切换到祝贺屏幕。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/eace033d9c2c359da0afbe186e8f3cbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KJugLWU1cJ3Rk6E_4khoKg.png"/></div></div></figure><p id="4e5b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">接下来，我们执行“Home”按钮检查，它只是返回一个False，表明我们需要返回主菜单。</p><p id="cf28" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，我们检查鼠标是否在难题区域被点击，如果是，我们选择最近的盒子作为高亮的盒子。</p><p id="d296" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">游戏玩法- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="1fde" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个方法负责处理游戏的输入部分，检查解决方案是否正确。我们首先遍历事件，检查发生的事件是鼠标点击、关闭操作、数值输入、删除键还是箭头键输入。如果是数值输入，我们在当前选择的框中填入数值，并根据输入是否可能显示适当的蓝色或红色。如果它是一个删除键，我们删除当前条目，如果盒子没有被锁定，就把它设置回零。如果键是箭头键，我们就向键的方向移动盒子。</p><p id="afdf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">增强现实- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="bc60" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是增强现实实现代码。在这里，我们首先打开相机窗口对象，并初始化解决方案和帧计数分别为无和0。然后使用<strong class="ir hi"> suppress(Exception) </strong>上下文我们禁用任何异常的发生。然后，我们每隔10帧处理一次图像，以获得矩阵及其维数，并获得解。然后我们在10帧的图像上绘制这个解。这意味着每10帧我们检查一个新矩阵的图像，这样做是为了确保帧是平滑的，并避免由于处理时间导致的GUI中的任何延迟。</p><p id="ebcd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">主菜单- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="9e23" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这个方法是项目的菜单GUI，包括两个按钮:一个用于游戏，另一个用于增强现实。</p><p id="cdcd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">优雅的退场- </strong></p><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="7af4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">该方法用于确保在退出GUI之前保存最后播放的矩阵及其维度。</p></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><h1 id="b30b" class="km kn hh bd ko kp mb kr ks kt mc kv kw kx md kz la lb me ld le lf mf lh li lj bi translated">主程序-</h1><figure class="lk ll lm ln fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="c71f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是项目的主要驱动程序。它加载菜单并无限循环地运行游戏和增强现实组件。</p><figure class="lk ll lm ln fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/2d5e12adff5b9c53782299144855a102.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*tIs2G3U8f1SlSSG1ZRSktg.gif"/></div></figure></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><p id="d592" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kl">你可以在这里</em>  <em class="kl">找到完整的python实现</em> <a class="ae kk" href="https://github.com/shashank3199/VisioNxN-Sudoku" rel="noopener ugc nofollow" target="_blank"> <em class="kl">。如果你觉得这篇文章很有帮助，请跟随我上</em> </a><a class="ae kk" href="https://shashank-goyal-blogs.medium.com/" rel="noopener"> <em class="kl">中</em> </a> <em class="kl">和</em><a class="ae kk" href="https://github.com/shashank3199/" rel="noopener ugc nofollow" target="_blank"><em class="kl">GitHub</em></a><em class="kl">和star项目库。</em></p></div><div class="ab cl lu lv go lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="ha hb hc hd he"><p id="e505" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请查看本系列文章的其他部分</p><ul class=""><li id="b5db" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-i-8e29e59cecab">增强现实数独解算器——第一部分</a>。</li><li id="b2b9" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-ii-cdfc035a415c">增强现实数独解算器——第二部分。</a></li><li id="dcea" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><a class="ae kk" rel="noopener" href="/mlearning-ai/augmented-reality-sudoku-solver-part-iii-d2370a9cbace">增强现实数独解算器——第三部分。</a></li></ul></div></div>    
</body>
</html>