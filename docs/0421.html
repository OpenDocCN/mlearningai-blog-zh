<html>
<head>
<title>Machine Learning Metrics: When to Use What</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习度量:何时使用什么</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/machine-learning-metrics-when-to-use-what-78366e608481?source=collection_archive---------5-----------------------#2021-04-09">https://medium.com/mlearning-ai/machine-learning-metrics-when-to-use-what-78366e608481?source=collection_archive---------5-----------------------#2021-04-09</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="8ef5" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">了解基本的ML指标，并找出使用指标评估模型性能的情况。</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/e4697b13b8012217b8745383a339ca15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ovo1jGqbHqEjGNIL"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Measuring — Photo by <a class="ae jm" href="https://unsplash.com/@diana_pole?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Diana Polekhina</a> on <a class="ae jm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6243" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在整个发展过程中，已经引入了许多度量来评估ML算法或模型的性能。有时候，选择正确的度量标准来评估我们的模型是很棘手的。在这篇文章中，我试图讨论一些在与ML相关的任务中使用的基本度量标准，以及何时使用哪种度量标准。</p><p id="cded" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在直接进入指标之前，让我们探索一个核心概念——混淆矩阵。这不是一个指标，但了解这个概念很重要，因为有些指标直接使用这个概念。</p><h1 id="3f6d" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">混淆矩阵</h1><p id="6f45" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">混淆矩阵是机器学习分类问题的性能测量，其中输出可以是两个或更多个类别。它也被称为<em class="lg">误差矩阵</em>，它允许以表格形式可视化模型的性能。混淆矩阵的每一行代表一个预测类的实例，每一列代表一个实际类的实例。下图显示了两类分类问题的混淆矩阵。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lh"><img src="../Images/5d8c893c14a9fcd160307b5a3a92fca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*UWvmD7sm0fNJZ81YbSkqcg.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">Confusion matrix. Here <strong class="bd kl">P</strong> and <strong class="bd kl">N</strong> indicate positive and negative classes respectively.</figcaption></figure><p id="5766" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">有了这个图，我们将引入一些新的术语:真阳性(TP)、假阳性(FP)、假阴性(FN)和真阴性(TN)。</p><h2 id="09ea" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">真阳性(TP)</h2><p id="bdd5" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">这个预测阳性是<em class="lg">实际</em>或者<em class="lg">真正阳性</em>。这意味着由模型预测的类别是正的，并且实际类别也是正的。例如:让我们试着识别网球的图像。对于一个图像，模型预测它像一个网球，而图像中的球实际上是一个网球。所以这是一个真正的积极因素。</p><h2 id="dc23" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">假阳性</h2><p id="0d1d" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">模型预测实例为阳性，但它为假。这意味着预测类是正的，而实际类是负的。对于前面的场景，让模型预测一个图像是网球，但它不是网球。</p><h2 id="0570" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated"><strong class="ak">假阴性(FN) </strong></h2><p id="7f39" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">模型预测实例为负，这是错误的。这意味着预测类是负的，而实际类是正的。对于同一个例子，让模型预测一个图像不是网球，但它实际上是一个网球。</p><h2 id="6f77" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">真阴性(TN)</h2><p id="1eb4" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">模型预测某个实例为负，而它实际上是负的。像模型预测的那样，图像不是网球，它实际上不是网球。</p><p id="353c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">有了混淆矩阵的基本概念，现在让我们从最常见的——准确性——开始，跳到我们在不同的ML任务中使用的矩阵。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="c4f7" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">准确(性)</h1><p id="6328" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">准确性是最简单也是最常用的指标之一。它被定义为<em class="lg">预测总数</em>中的校正预测数。通常也用百分位数来表示。在这种情况下，准确性分数乘以100。所以，</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ly"><img src="../Images/4038198fc736387e989b98d24cd63462.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*UKW0MJmTcf3WJmreEdjhyA.png"/></div></figure><p id="b791" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">准确度也可以使用混淆矩阵来定义。它可以定义为总TPs和TNs的总和除以总数据点或实例。所以，</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es lz"><img src="../Images/fe569c338d45154ea078e46aad53d3d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:724/format:webp/1*avRu8MMHOIcFhafDHa2_eA.png"/></div></figure><h2 id="73cd" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">什么时候使用准确性？</h2><p id="8354" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">当数据平衡时，即每个类包含大约相同数量的数据时，这种度量(准确性)可以反映良好的结果或理解。</p><h2 id="f26b" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">什么时候不使用准确性？</h2><p id="75f1" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">当数据不平衡时，准确性可能不是一个明智的选择。让我们考虑一个场景:对于一个二元分类(<em class="lg">正</em>和<em class="lg">负</em>)任务，我们正在处理一个数据集，其中总数据的75%属于正类。现在，如果每次无论如何，模型都预测数据实例为正，则模型的准确性将在75%左右。这可能是一个不错的分数，但实际上，这个模型还不够好！</p><h1 id="4739" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">精确</h1><p id="7e97" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">精度表示有多少被分类为阳性的样本实际上是阳性的。Precision试图回答这样一个问题:“多大比例的正面预测实际上是正确的？”。精度定义为:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ma"><img src="../Images/cb001e5859f303b486ea10969d7afc3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*QSE7VYwZgrubOMXPA4n_PQ.png"/></div></figure><p id="068d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">它是真阳性和所有预测阳性(TP和FP)的比率。因此精度也被称为<em class="lg">真正精度</em>。</p><h2 id="7059" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">何时使用Precision？</h2><p id="d402" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">当假阴性不太重要时，可以使用精度。让我们来看看以下案例:</p><ul class=""><li id="1cc4" class="mb mc hh jp b jq jr jt ju jw md ka me ke mf ki mg mh mi mj bi translated">我们假设你想买几幅好画但对绘画不太了解；所以你用的是机器学习模型。只有当模特预测它是一幅好画时，你才会买它。在这种情况下，使用precision是一个不错的选择。因为只有当一幅画是好画的时候，你才会去买它(正确预测真阳性)。不管是预测<em class="lg">、【好画】、</em>为<em class="lg">、【不好的画】、</em>都没关系，因为它不会让你付出代价(你不会买这幅画)。但是把一幅'<em class="lg">不好的画'</em>预测成'<em class="lg">好的画'</em>会给你造成很大的成本(就像你会买一样)。最后，可以说，当假阳性的<em class="lg">成本高</em>或假阴性的<em class="lg">成本低</em>时，可以使用精度。</li><li id="d81e" class="mb mc hh jp b jq mk jt ml jw mm ka mn ke mo ki mg mh mi mj bi translated">在YouTube推荐的情况下，可以使用precision。因为他们想向你展示你喜欢的内容(真正的肯定)，如果他们错过了你喜欢的任何内容也没什么关系(低成本的假否定)。但是推荐你不喜欢的内容(假阳性)会导致失去你的客户(假阳性的高成本)。</li></ul><h1 id="d1ca" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">回忆</h1><p id="7b2d" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">回忆，也称为敏感度，表示需要被分类为阳性的所有数据点被分类为阳性的程度。回忆试图回答这个问题:“有多少比例的实际阳性被正确识别？”。召回可以定义为:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mp"><img src="../Images/4f2d089ac5374aab9425cd86d59f871f.png" data-original-src="https://miro.medium.com/v2/resize:fit:394/format:webp/1*mYY-TzNJhQBJkLQBe0ooRw.png"/></div></figure><p id="b460" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">召回率是真阳性和所有实际阳性(TP和FN)的比率。召回旨在识别所有真正的阳性病例。回忆也给出了一个模型能够多精确地识别相关数据的度量。</p><h2 id="0c91" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">何时使用召回？</h2><p id="e63c" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">当假阴性的成本很高或者假阴性更受关注时，可以使用召回。让我们来看看以下案例:</p><ul class=""><li id="f4aa" class="mb mc hh jp b jq jr jt ju jw md ka me ke mf ki mg mh mi mj bi translated">你设计了一个模型来预测一个人是否生病。在这种情况下，使用召回是一个明智的决定。因为如果一个人生病了，但模型预测他/她没有生病(假阴性)，这个人可能会在危急情况下遭受痛苦，甚至死亡(高成本)。另一方面，如果模型预测健康人患病(假阳性)，可以进行复查(低成本)。因此，当假阴性的<em class="lg">成本高</em>或假阳性的<em class="lg">成本低</em>时，可以使用召回。</li><li id="8de6" class="mb mc hh jp b jq mk jt ml jw mm ka mn ke mo ki mg mh mi mj bi translated">假设你正在为一个每天有几千用户的产品销售网站工作。该公司希望利用用户提供的信息给每个潜在的买家打电话。你的任务是设计一个模型，可以预测一个用户是否是一个潜在的买家。在这种情况下，要评估模型的性能，您需要使用recall。因为不能预测一个可能的买家(假阴性)会降低公司的销售额(高成本)。如果模型将一个不可能的购买者预测为可能的购买者(假阳性)，这并不重要。因为不会影响销售(成本低)。但是没有预测到可能的买家会导致巨大的损失。</li></ul><h1 id="75fa" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">权衡和F1分数</h1><p id="c7a0" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">根据不同的应用，我们可以选择精度或召回。不幸的是，精确度和召回率经常处于紧张状态。也就是说，提高精确度通常会降低召回率，反之亦然(请看这里的<a class="ae jm" href="https://developers.google.com/machine-learning/crash-course/classification/precision-and-recall#precision-and-recall:-a-tug-of-war" rel="noopener ugc nofollow" target="_blank"/>)。这表明，如果我们想提高召回率或精确度，另一个必须是一个折衷，因此，另一个分数将减少。但是，在某些情况下，这两个指标可能都很重要。另一个被称为<em class="lg"> F1-score </em>的指标可以同时考虑这两个指标。f1-得分是精确度和召回率的调和平均值，定义为:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es mq"><img src="../Images/fb0ce234b41df5326c5ede3481649550.png" data-original-src="https://miro.medium.com/v2/resize:fit:730/format:webp/1*LBthOLVQ1wHrOqmENN2zUA.png"/></div></figure><p id="5ddd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">F1分数同时考虑了假阳性和假阴性，因此在这两者之间寻求平衡。</p><h2 id="15ff" class="li kk hh bd kl lj lk ll kp lm ln lo kt jw lp lq kv ka lr ls kx ke lt lu kz lv bi translated">何时使用F1-score？</h2><p id="5c29" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">当精确度和召回率都很重要并且具有几乎相同的成本时，可以使用该度量。让我们考虑以下场景:</p><p id="e7cf" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">让模特检查某人的健康状况，并在必要时使用药物。在这种情况下，使用F1分数是一个不错的选择。因为未能预测正确的疾病可能会危及生命(因此需要高召回率)，再次预测错误的疾病并应用药物可能会导致一些副作用和并发症(因此需要高精确度)。在这种情况下，可以测量并考虑F1分数。</p></div><div class="ab cl mr ms go mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ha hb hc hd he"><p id="78b6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在本文中，我们已经看到了度量标准如何从不同的角度评估模型。更重要的是，我们已经看到了一些场景，在这些场景中，度量可以用来更有把握地评估模型的性能。</p><p id="2747" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这篇文章是作为我的一个学习过程写的。任何建议或意见都将受到高度赞赏。通过<a class="ae jm" href="https://www.linkedin.com/in/shahad-mahmud/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>、<a class="ae jm" href="https://www.facebook.com/shahad001" rel="noopener ugc nofollow" target="_blank">脸书</a>、<a class="ae jm" href="mailto:shahad9381@gmail.com" rel="noopener ugc nofollow" target="_blank">邮箱</a>联系我或者在<a class="ae jm" href="https://github.com/shahad-mahmud" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到我。</p><h1 id="43cb" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">参考</h1><p id="8347" class="pw-post-body-paragraph jn jo hh jp b jq lb ii js jt lc il jv jw ld jy jz ka le kc kd ke lf kg kh ki ha bi translated">写这篇文章对我来说是一个伟大的旅程。在这段时间里，我读了几篇文章，学到了很多东西。这些文章也帮助了我写这篇文章。我真心感谢作者。给我力量的文章如下:</p><ul class=""><li id="53ce" class="mb mc hh jp b jq jr jt ju jw md ka me ke mf ki mg mh mi mj bi translated"><em class="lg"> 20个流行的机器学习指标。第1部分:分类&amp;回归评估度量</em>Shervin Minaee(<a class="ae jm" href="https://towardsdatascience.com/20-popular-machine-learning-metrics-part-1-classification-regression-evaluation-metrics-1ca3e282a2ce" rel="noopener" target="_blank">链接</a>)</li><li id="2144" class="mb mc hh jp b jq mk jt ml jw mm ka mn ke mo ki mg mh mi mj bi translated"><em class="lg">理解混乱矩阵</em>作者Sarang Narkhede ( <a class="ae jm" href="https://towardsdatascience.com/understanding-confusion-matrix-a9ad42dcfd62" rel="noopener" target="_blank">链接</a>)</li><li id="a07f" class="mb mc hh jp b jq mk jt ml jw mm ka mn ke mo ki mg mh mi mj bi translated"><em class="lg">分类:精度和召回率</em> ( <a class="ae jm" href="https://developers.google.com/machine-learning/crash-course/classification/precision-and-recall" rel="noopener ugc nofollow" target="_blank">链接</a>)</li><li id="a1d6" class="mb mc hh jp b jq mk jt ml jw mm ka mn ke mo ki mg mh mi mj bi translated">什么时候精确度比回忆更重要？Rajat(<a class="ae jm" href="https://datascience.stackexchange.com/questions/30881/when-is-precision-more-important-over-recall" rel="noopener ugc nofollow" target="_blank">链接</a>)关于<a class="ae jm" href="https://datascience.stackexchange.com/" rel="noopener ugc nofollow" target="_blank">栈交换</a>的提问</li></ul></div></div>    
</body>
</html>