<html>
<head>
<title>Generate a piano cover with AI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用人工智能生成钢琴盖</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/generate-a-piano-cover-with-ai-f4178bc9cb30?source=collection_archive---------1-----------------------#2022-11-10">https://medium.com/mlearning-ai/generate-a-piano-cover-with-ai-f4178bc9cb30?source=collection_archive---------1-----------------------#2022-11-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="ed66" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一个新的模型从一首流行歌曲中生成了一个钢琴封面:它是如何工作的？你如何能尝试它？</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/b927dcd2f7581bd21f32b729a0e65844.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*yWBa86sBWnZr8a7w"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Image by <a class="ae js" href="https://unsplash.com/@whitfieldjordan" rel="noopener ugc nofollow" target="_blank">Jordan Whitfield</a> at unsplash.com</figcaption></figure><p id="5076" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">钢琴盖指的是所有乐器都被钢琴单独的声音代替的盖。很多都可以在youtube上找到，它们听起来可能微不足道(剧透:事实并非如此)。</p><p id="dc44" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了创造一个钢琴盖，一个人必须认识到旋律中的所有音乐元素，并只用钢琴重新诠释它。因此，一个人需要音乐技巧和创造力才能再现旋律。如果对一个人类来说已经很难了，AI还能成功吗？</p><p id="56ff" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最近，一篇名为“<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">POP 2 PIANO:POP AUDIO-BASED PIANO COVER GENERATION</a>”的文章就打算这么做。在这篇文章中，我们将讨论它以及你可以如何尝试它</p><h1 id="a5e7" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">想做Lady Gaga封面的人工智能。</h1><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kr"><img src="../Images/7506bd5b0bf41085235693ba2d322b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92QgKu4wBi8rF8DVLBOj8w.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Image generated with <a class="ae js" href="https://openai.com/dall-e-2/" rel="noopener ugc nofollow" target="_blank">OpenAI Dall-E 2</a></figcaption></figure><p id="c232" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">事实上，正如他们在文章中所说，这样的挑战已经尝试过了。这个想法是从音频中提取各种乐器的轨道，并重新排列它们。这项任务并不容易，因为一个好的封面既受氛围的影响，也受作曲家风格的影响。</p><p id="5956" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者从300小时的同步钢琴封面数据集开始。基本上，他们没有使用原始音乐，而是采用了原曲和钢琴翻唱。他们把原唱和翻唱同步，然后分成片段。翻唱被转换成了<a class="ae js" href="https://en.wikipedia.org/wiki/MIDI" rel="noopener ugc nofollow" target="_blank"> MIDI </a>，并被缩减为8音单元。他们总共在youtube上收集了21个编曲者的5989个钢琴封面(他们当时只用了4989和307个小时)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ks"><img src="../Images/7ae99ba7f61690e7c9ade4fc27b32998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Aw3Dy-vDnHKMVfFJvovm-g.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">“Fig. 1. A preprocessing pipeline for synchronizing and filtering paired {Pop, Piano Cover} audio data”. image source from the original article (<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="26c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个模型基本上是一个<a class="ae js" href="https://en.wikipedia.org/wiki/Transformer_(machine_learning_model)" rel="noopener ugc nofollow" target="_blank">变压器</a>:</p><blockquote class="kt ku kv"><p id="3037" class="ie if kw ig b ih ii ij ik il im in io kx iq ir is ky iu iv iw kz iy iz ja jb ha bi translated">Pop2Piano模型架构是<a class="ae js" href="https://paperswithcode.com/method/t5" rel="noopener ugc nofollow" target="_blank">T5-small</a>【7】用于【9】。这是一个具有<a class="ae js" href="https://d2l.ai/chapter_recurrent-modern/encoder-decoder.html" rel="noopener ugc nofollow" target="_blank">编码器-解码器</a>结构的变压器网络。可学习参数的数量约为59M。与[9]不同，使用原始T5的相对位置嵌入而不是绝对位置嵌入。此外，可学习的<a class="ae js" rel="noopener" href="/analytics-vidhya/understanding-embedding-layer-in-keras-bbe3ff1327ce">嵌入层</a>用于嵌入编曲风格。—摘自原文章(<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></blockquote><p id="d09b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从图中可以看出，它包括一个编码器和一个解码器。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es la"><img src="../Images/d4a13d51010b7cd7f98ff59c1c94273c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ASDYuvqv_-KWxIeP8yHSWg.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">“Fig. 2. The architecture of our model is an encoder-decoder Transformer. Each input position for the encoder is one frame of the spectrogram. We concatenated an embedding vector representing a target arranger style to the spectrogram. Output midi tokens are autoregressively generated from the decoder.” image source from the original article (<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="cbc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者展示了一个输出示例:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lb"><img src="../Images/869f28b1c670f87612b8bc7e8b541bb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*TG05kDN2q1_zB-rTfS6bOw.png"/></div><figcaption class="jo jp et er es jq jr bd b be z dx">“Fig. 3. An example of piano tokenization. the beat shift token means a relative time shift from that point in time.” image source from the original article (<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="ae6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">虽然原曲还是比较复杂的(由几个乐器和人声部分组成)，但钢琴伴奏似乎是似是而非的。不仅如此，这听起来似乎有理，但也类似于编曲工作。</p><p id="206e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，即使在主观评价中，这似乎也是可信的(非音乐家人群中的25名参与者)。参与者必须听10秒钟的25首歌曲，并将它们与人类安排的歌曲进行比较。70%的人更喜欢模特的作品。</p><p id="8b4f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是作者发布的一个视频作为例子:</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="lc ld l"/></div></figure><p id="4465" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">还有，在项目网站上，你可以测试其他歌曲和编曲(你可以在这里找到<a class="ae js" href="https://sweetcocoa.github.io/pop2piano_samples/" rel="noopener ugc nofollow" target="_blank">)。</a></p><p id="36fc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者承认仍然存在局限性:</p><blockquote class="kt ku kv"><p id="56f8" class="ie if kw ig b ih ii ij ik il im in io kx iq ir is ky iu iv iw kz iy iz ja jb ha bi translated">我们认识到可以对我们的模型进行一些改进。例如，Pop2Piano在输入上下文中只使用四拍长度的音频。因此，当生成长于四拍时，诸如旋律轮廓或伴奏织体的特征具有较少的一致性。此外，基于八分音符节拍的时间量化会阻止模型生成带有其他节奏(如三连音、十六分音符和颤音)的钢琴伴奏。—来自原文章(<a class="ae js" href="https://arxiv.org/pdf/2211.00895.pdf" rel="noopener ugc nofollow" target="_blank">来源</a>)</p></blockquote><h1 id="3dfe" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated"><strong class="ak">如何获得钢琴盖</strong></h1><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kr"><img src="../Images/75f1896ae7c9017bb77ce4939d90b49e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rOrab2WoAVBOShhCxfjm0w.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Image generated with <a class="ae js" href="https://openai.com/dall-e-2/" rel="noopener ugc nofollow" target="_blank">OpenAI Dall-E 2</a></figcaption></figure><p id="03e5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作者提供了一个Github和一个Google Colab。</p><p id="fa35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，你必须改变运行时(在上面的菜单中选择运行时)，然后选择改变运行时类型(在下拉菜单中选择GPU)。完成后，您需要运行第一个代码块(CTRL+ENTER或按下小播放符号)。这可能需要几分钟，但是一旦完成，就进入第二个模块。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es le"><img src="../Images/578c8866100c4260e52121fb4782c983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E1pyFGkHYWTvHQuIMUSQLw.png"/></div></div></figure><p id="f0d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">同样，您必须执行代码块。它应该需要大约一分钟</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lf"><img src="../Images/34658f509486549065eff8f2a5cf2393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VN28_T1YhpntAIYT60yc1A.png"/></div></div></figure><p id="0a26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个模块也需要很短的时间(取决于您的连接，因为它下载模板)</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lg"><img src="../Images/739d018018045e4a0fe06601b84d9d13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ydWZuEm_pKXTDgbrHuRl_A.png"/></div></div></figure><p id="7d54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此块允许您选择编曲者。您可以在下拉菜单中选择您喜欢的作曲家(如果您需要一些指导，它们显示了项目网站上各种作曲家之间的差异)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lh"><img src="../Images/26525c9df73f7018f50af07ea5b2be34.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*4KYongDqd_1KTlYk1oQYSg.png"/></div></figure><p id="c45f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个模块中，您可以上传您想要创建钢琴封面的音轨(您可以在音频WAV和MP3之间进行选择，我使用的是从Youtube视频转换而来的MP3)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es li"><img src="../Images/eb4486530a31b4a669d05a46c561b22a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*m3SJ4C3cC2y6gZkha8W9Mw.png"/></div></figure><p id="03e8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行这段代码(应该不会花很长时间)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es lj"><img src="../Images/5e131a132c6be28f39bde6bef965a96a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tylyoQd4VHxlyyqAWVkFeQ.png"/></div></div></figure><p id="3796" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你只需要运行这个代码来下载钢琴盖(MIDI格式)。你会发现它在原来的文件夹里。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lk"><img src="../Images/556e233193e5eb17434dd2626753a73f.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*R2uH70XWdqd7wrfsyFLAHg.png"/></div></figure><h1 id="974e" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">结论</h1><p id="7ae9" class="pw-post-body-paragraph ie if hh ig b ih ll ij ik il lm in io ip ln ir is it lo iv iw ix lp iz ja jb ha bi translated">所提出的模型，一旦一首歌曲被加载，就允许一首曲目被下载到MIDI中(请注意，它不像项目网站上的例子那样与人声同步)。我试过几首歌，它在流行歌曲中表现得很好，但在其他类型的歌曲中就不那么好了(例如，如果有一个很长的鼓点序列)。</p><p id="b9cd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总的来说，结果是有趣的，特别是考虑到架构和参数数量不是很大(只有5000万个参数)的事实。正如我们所见，<a class="ae js" rel="noopener" href="/mlearning-ai/microsofts-museformer-ai-music-is-the-new-frontier-8dc5cb24459c">微软也推出了一个产生音乐的模型</a>，而<a class="ae js" href="https://pub.towardsai.net/googles-audiolm-generating-music-by-hearing-a-song-s-snippet-c9512a9290cd" rel="noopener ugc nofollow" target="_blank">谷歌本身也在投资同一领域</a>。似乎继图像之后，音乐是下一个前沿领域。你怎么想呢?你试过吗？请在评论中告诉我。</p><h1 id="05ae" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">如果你觉得有趣:</h1><p id="8072" class="pw-post-body-paragraph ie if hh ig b ih ll ij ik il lm in io ip ln ir is it lo iv iw ix lp iz ja jb ha bi translated">你可以寻找我的其他文章，你也可以<a class="ae js" href="https://salvatore-raieli.medium.com/subscribe" rel="noopener"> <strong class="ig hi">订阅</strong> </a>在我发表文章时获得通知，你也可以在<strong class="ig hi"/><a class="ae js" href="https://www.linkedin.com/in/salvatore-raieli/" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">LinkedIn</strong></a><strong class="ig hi">上连接或联系我。</strong>感谢您的支持！</p><p id="0ea8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是我的GitHub知识库的链接，我计划在这里收集代码和许多与机器学习、人工智能等相关的资源。</p><div class="lq lr ez fb ls lt"><a href="https://github.com/SalvatoreRa/tutorial" rel="noopener  ugc nofollow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">GitHub - SalvatoreRa/tutorial:关于机器学习、人工智能、数据科学的教程…</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">关于机器学习、人工智能、数据科学的教程，包括数学解释和可重复使用的代码(python…</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">github.com</p></div></div><div class="mc l"><div class="md l me mf mg mc mh jm lt"/></div></div></a></div><p id="081c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者随意查看我在Medium上的其他文章:</p><div class="lq lr ez fb ls lt"><a rel="noopener follow" target="_blank" href="/mlearning-ai/restore-your-images-with-ai-669a333194ba"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">用人工智能恢复你的图像</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">如何用AI轻松还原图像</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">medium.com</p></div></div><div class="mc l"><div class="mi l me mf mg mc mh jm lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a rel="noopener follow" target="_blank" href="/illumination/ai-reimagines-mythical-creatures-49a57d5be909"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">人工智能重新想象神话生物</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">受中世纪动物寓言启发的现代动物寓言。</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">medium.com</p></div></div><div class="mc l"><div class="mj l me mf mg mc mh jm lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://towardsdatascience.com/how-ai-could-help-preserve-art-f40c8376781d" rel="noopener follow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">人工智能如何帮助保存艺术品</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">艺术杰作随时都是风险；人工智能和新技术可以助一臂之力</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">towardsdatascience.com</p></div></div><div class="mc l"><div class="mk l me mf mg mc mh jm lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a href="https://towardsdatascience.com/how-artificial-intelligence-could-save-the-amazon-rainforest-688fa505c455" rel="noopener follow" target="_blank"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">人工智能如何拯救亚马逊雨林</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">亚马逊正处于危险之中，人工智能可以帮助保护它</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">towardsdatascience.com</p></div></div><div class="mc l"><div class="ml l me mf mg mc mh jm lt"/></div></div></a></div><div class="lq lr ez fb ls lt"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lu ab dw"><div class="lv ab lw cl cj lx"><h2 class="bd hi fi z dy ly ea eb lz ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ma l"><h3 class="bd b fi z dy ly ea eb lz ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mb l"><p class="bd b fp z dy ly ea eb lz ed ef dx translated">medium.com</p></div></div><div class="mc l"><div class="mm l me mf mg mc mh jm lt"/></div></div></a></div></div></div>    
</body>
</html>