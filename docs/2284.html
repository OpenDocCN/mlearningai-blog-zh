<html>
<head>
<title>Deep Learning setup (TensorFlow &amp; Keras) on Windows 10 + Ubuntu (WSL)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Windows 10 + Ubuntu (WSL)上的深度学习设置(TensorFlow &amp; Keras)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/deep-learning-setup-tensorflow-keras-on-windows-10-ubuntu-wls-f50640d7c8fc?source=collection_archive---------2-----------------------#2022-04-08">https://medium.com/mlearning-ai/deep-learning-setup-tensorflow-keras-on-windows-10-ubuntu-wls-f50640d7c8fc?source=collection_archive---------2-----------------------#2022-04-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="d9e3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当涉及到使用机器/深度学习和Python时，大多数人建议您使用基于Unix的环境。</p><p id="a028" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">机器学习工具可以很容易地在Linux上安装和配置，使您可以将精力集中在开发和改进代码上，而不是浪费时间解决安装冲突。</p><p id="9a3a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Windows操作系统用户一直遭受这种痛苦，甚至试图按照参考文献进行操作都很困难，因为他们是基于Unix操作系统的。</p><p id="b4f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了避免这个问题，我建议使用Linux的Windows子系统(WSL)。</p><p id="c1fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> WSL: </strong>让你在Windows机器上几分钟内安装一个完整的Ubuntu终端环境，让你不用离开Windows<a class="ae jc" href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10#1-overview" rel="noopener ugc nofollow" target="_blank">【1】</a>就能开发跨平台的应用。</p><p id="d87d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本文将介绍如何在我们的WSL中设置和安装深度学习环境。</p><h1 id="b2ac" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">第一步:启用并打开WSL </strong></h1><p id="4854" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">首先你需要启用WSL，你可以按照这篇文章来实现:[ <a class="ae jc" href="https://www.ssl.com/how-to/enable-linux-subsystem-install-ubuntu-windows-10/" rel="noopener ugc nofollow" target="_blank">启用Linux子系统，在Windows 10中安装Ubuntu</a>。</p><p id="e4ce" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">1.在搜索栏上键入Ubuntu:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es kg"><img src="../Images/95ccd1067701f6a21855d514e598531b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8b4syvpeuvyzXC_Tz9LW7g.png"/></div></div></figure><p id="be19" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.打开应用程序:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ks"><img src="../Images/9befccbff85694374c2f44029688dc91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Toda5JBSmulKt8odw-NhA.png"/></div></div></figure><h1 id="415e" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated"><strong class="ak">第二步:安装依赖项:Ubuntu + Tensor Flow </strong></h1><ol class=""><li id="cfa7" class="kt ku hh ig b ih kb il kc ip kv it kw ix kx jb ky kz la lb bi translated">现在，首先，使用以下命令更新您的系统</li></ol><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="95c9" class="lh je hh ld b fi li lj l lk ll">sudo apt-get update<br/>sudo apt-get upgrade</span></pre><p id="81e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.随后安装编译器工具</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="e1c7" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install build-essential cmake unzip pkg-config</span><span id="dbbc" class="lh je hh ld b fi lm lj l lk ll">sudo apt-get install gcc-9 g++-9</span></pre><p id="53c3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.安装X windows库和OpenGL库</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="f192" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install libxmu-dev libxi-dev libglu1-mesa libglu1-mesa-dev</span></pre><p id="22c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.图像和视频I/O库</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="64c5" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install libjpeg-dev libpng-dev libtiff-dev</span><span id="b767" class="lh je hh ld b fi lm lj l lk ll">sudo apt-get install libavcodec-dev libavformat-dev libswscale-dev libv4l-dev</span><span id="c884" class="lh je hh ld b fi lm lj l lk ll">sudo apt-get install libxvidcore-dev libx264-dev</span></pre><p id="3d34" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">5.安装优化库</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="0da2" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install libopenblas-dev libatlas-base-dev liblapack-dev gfortran</span></pre><p id="c354" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">6.安装HDF5以处理大型数据集</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="009f" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install libhdf5-serial-dev</span></pre><p id="4a13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">7.安装Python 3开发库，包括Tk和GTK GUI支持</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="3a08" class="lh je hh ld b fi li lj l lk ll">sudo apt-get install python3-dev python3-tk python-imaging-tk</span><span id="51a7" class="lh je hh ld b fi lm lj l lk ll">sudo apt-get install libgtk-3-dev</span></pre><h1 id="bb0c" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">步骤3:安装pip和虚拟环境</h1><p id="95b1" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">现在，让我们创建一个虚拟环境。Python虚拟环境允许我们:</p><ul class=""><li id="6bda" class="kt ku hh ig b ih ii il im ip ln it lo ix lp jb lq kz la lb bi translated">独立完成我们的python项目</li><li id="0ea1" class="kt ku hh ig b ih lr il ls ip lt it lu ix lv jb lq kz la lb bi translated">避免依赖关系的破坏和重置我们的系统。</li><li id="0751" class="kt ku hh ig b ih lr il ls ip lt it lu ix lv jb lq kz la lb bi translated">让我们可以轻松地与任何人共享项目。</li></ul><p id="aa9b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它们是python开发的最佳实践。</p><ol class=""><li id="04da" class="kt ku hh ig b ih ii il im ip ln it lo ix lp jb ky kz la lb bi translated">安装pip</li></ol><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="afd6" class="lh je hh ld b fi li lj l lk ll">wget https://bootstrap.pypa.io/get-pip.py<br/>sudo python3 get-pip.py</span></pre><p id="a348" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.安装虚拟环境工具</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="1477" class="lh je hh ld b fi li lj l lk ll">pip3 install virtualenv virtualenvwrapper</span></pre><p id="992f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">安装后，不要忘记使用以下命令清除包缓存:</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="a3a3" class="lh je hh ld b fi li lj l lk ll">sudo rm -rf ~/get-pip.py ~/.cache/pip</span></pre><p id="2bbd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.用一些virtualenvwrapper设置更新我们的bash概要文件，以使这些工具协同工作</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="baf8" class="lh je hh ld b fi li lj l lk ll">echo -e "\n# virtualenv and virtualenvwrapper" &gt;&gt; ~/.bashrc<br/>echo "export WORKON_HOME=$HOME/.local/bin/.virtualenvs" &gt;&gt; ~/.bashrc<br/>echo "export VIRTUALENVWRAPPER_PYTHON=/usr/bin/python3" &gt;&gt; ~/.bashrc<br/>echo "export VIRTUALENVWRAPPER_VIRTUALENV=$HOME/.local/bin/virtualenv" &gt;&gt; ~/.bashrc<br/>echo "source $HOME/.local/bin/virtualenvwrapper.sh" &gt;&gt; ~/.bashrc</span></pre><p id="b529" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.获取。bashrc文件来保存更改</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="e7df" class="lh je hh ld b fi li lj l lk ll">source ~/.bashrc</span></pre><p id="0dd9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出将显示在您的终端上，表明安装了virtualenvwrapper。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lw"><img src="../Images/520c4c7ea8bf8da8eb7916f6591f532e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkyBGg8STr4ll8S5xeKv1w.png"/></div></div></figure><p id="cfdd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">当心你的~/中的错别字。bashrc文件。这可能会导致错误。</p><p id="7ab9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们将创建虚拟环境来存放OpenCV和其他组件。</p><p id="5929" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">5.创造虚拟</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="1f1e" class="lh je hh ld b fi li lj l lk ll">mkvirtualenv &lt;env-name&gt; -p python3</span></pre><p id="7e2f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您的输出应该如下所示:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lx"><img src="../Images/b1442dc21731775c2eb43cb2d70eb1b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jITSU4G73E-bJcEN_myxMQ.png"/></div></div></figure><p id="6ae1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">之后，要在这个虚拟环境中工作，只需使用以下命令</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="deb8" class="lh je hh ld b fi li lj l lk ll">workon &lt;env-name&gt;</span></pre><p id="386c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后<strong class="ig hi"> <em class="ly">瞧！</em> </strong>你将进入你的虚拟环境。</p><p id="dd4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您想退出虚拟环境，只需使用以下命令</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="ee19" class="lh je hh ld b fi li lj l lk ll">deactivate</span></pre><p id="12f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你将从虚拟环境中退出。</p><p id="7f31" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们列出主要的virtualenvwrapper命令<a class="ae jc" href="https://virtualenvwrapper.readthedocs.io/en/latest/command_ref.html#managing-environments" rel="noopener ugc nofollow" target="_blank">【2】</a>。</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es lz"><img src="../Images/fb020f9e605f44d2021a792d44827e16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6A1CCxLmsyHq781D5W42gQ.png"/></div></div></figure><h1 id="be7d" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">步骤4:将TensorFlow &amp; Keras安装到虚拟环境中</h1><ol class=""><li id="0e2c" class="kt ku hh ig b ih kb il kc ip kv it kw ix kx jb ky kz la lb bi translated">安装一些TensorFlow需要的Python库，标准的图像处理库(包括OpenCV)和机器学习库。</li></ol><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="156c" class="lh je hh ld b fi li lj l lk ll">pip install numpy<br/>pip install pandas<br/>pip install opencv-contrib-python<br/>pip install scipy matplotlib pillow<br/>pip install imutils h5py requests progressbar2<br/>pip install scikit-learn scikit-image</span></pre><p id="03d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.成功安装上述库后，安装张量流和Keras</p><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="5d05" class="lh je hh ld b fi li lj l lk ll">pip install tensorflow<br/>pip install keras</span></pre><h1 id="61fb" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">步骤5:验证安装</h1><pre class="kh ki kj kk fd lc ld le lf aw lg bi"><span id="4306" class="lh je hh ld b fi li lj l lk ll">workon &lt;env-name&gt;<br/>python<br/>&gt;&gt;&gt; import tensorflow as tf<br/>&gt;&gt;&gt; tf.__version__<br/>2.8.0<br/>&gt;&gt;&gt; import tensorflow.keras<br/>&gt;&gt;&gt; import cv2<br/>&gt;&gt;&gt; cv2.__version__<br/>4.5.5</span></pre><p id="25fd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">您的输出应该如下所示:</p><figure class="kh ki kj kk fd kl er es paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="er es ma"><img src="../Images/4e392724abd11b04300672120881108a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zahRfxfQoSoNoy3biMFZ6g.png"/></div></div></figure><h1 id="dd29" class="jd je hh bd jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka bi translated">参考资料:</h1><p id="31e1" class="pw-post-body-paragraph ie if hh ig b ih kb ij ik il kc in io ip kd ir is it ke iv iw ix kf iz ja jb ha bi translated">[1].<a class="ae jc" href="https://ubuntu.com/tutorials/install-ubuntu-on-wsl2-on-windows-10#1-overview" rel="noopener ugc nofollow" target="_blank">https://Ubuntu . com/tutorials/install-Ubuntu-on-wsl 2-on-windows-10 # 1-概述</a></p><p id="25f5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[2].<a class="ae jc" href="https://virtualenvwrapper.readthedocs.io/en/latest/command_ref.html#managing-environments" rel="noopener ugc nofollow" target="_blank">https://virtualenvwrapper . readthedocs . io/en/latest/command _ ref . html #管理-环境</a></p><p id="3823" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[3].<a class="ae jc" href="https://pyimagesearch.com/2019/12/09/how-to-install-tensorflow-2-0-on-ubuntu/" rel="noopener ugc nofollow" target="_blank">https://pyimagesearch . com/2019/12/09/how-to-install-tensor flow-2-0-on-Ubuntu/</a></p><div class="mb mc ez fb md me"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hi fi z dy mj ea eb mk ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">medium.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms kq me"/></div></div></a></div></div></div>    
</body>
</html>