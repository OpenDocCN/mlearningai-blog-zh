<html>
<head>
<title>A Complete Guide to Evaluation Metrics for Regression models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">回归模型评估指标完全指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/a-complete-guide-to-evaluation-metrics-for-regression-models-776e0ea6ba87?source=collection_archive---------8-----------------------#2022-05-20">https://medium.com/mlearning-ai/a-complete-guide-to-evaluation-metrics-for-regression-models-776e0ea6ba87?source=collection_archive---------8-----------------------#2022-05-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/6d49de53a5390c6d53b5451bd75ec639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZIQsdbu1FvvCcnjWZEODQ.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@chrisliverani?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Chris Liverani</a> on <a class="ae it" href="https://unsplash.com/@chrisliverani?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="4f2a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在<a class="ae it" href="https://swagata1506.medium.com/a-gentle-introduction-to-linear-regression-a0315bbc3532" rel="noopener">之前的帖子</a>中，我谈到了线性回归及其工作原理。既然我们已经了解了它是如何工作的，那么重要的是了解如何使用一些评估指标来查看模型的执行情况。</p><p id="8fb0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">以下是用于回归问题的评估指标-</p><ol class=""><li id="0fc4" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iw hi">平均绝对误差</strong></li></ol><p id="439e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">MAE计算观测值与回归预测值的绝对距离，取所有观测值的平均值。因为我们使用的是绝对值，所以正面和负面都考虑在内。</p><p id="3eef" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这可以使用以下代码来计算-</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="2169" class="kk kl hh kg b fi km kn l ko kp">from sklearn.metrics import mean_absolute_error</span><span id="9a37" class="kk kl hh kg b fi kq kn l ko kp"># predicting stock prices<br/>predicted_stock_prices = model.predict(X)<br/>mean_absolute_error(y, predicted_stock_prices)</span></pre><p id="ec2d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 2。均方差</strong></p><p id="fa71" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">尽管MAE是一个很好的指标，但有时MSE可能是一个更好的指标，因为它是使用实际值和预测值之间的平方差的平均值来计算的。在这种情况下，由于我们正在平方，所有值都保持为正。这确保我们惩罚高误差(当预测值和实际值之间的距离很大时)。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="3d93" class="kk kl hh kg b fi km kn l ko kp">from sklearn.metrics import mean_squared_error</span><span id="2191" class="kk kl hh kg b fi kq kn l ko kp">actual_values = [6, -1.5, 2, 7]<br/>predicted_values = [5.5, 0.0, 2, 8]</span><span id="6d77" class="kk kl hh kg b fi kq kn l ko kp">mean_squared_error(actual_values, predicted_values)</span></pre><p id="6514" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">MSE中的一个反弹是，度量单位也是平方的，因此如果模型试图以美元预测价格，MSE将产生一个没有意义的单位(美元)数。</p><p id="88df" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这就是为什么我们可以使用下一个公制RMSE。</p><p id="1287" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 3。均方根误差</strong></p><p id="679d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">通过取MSE的下根值来计算RMSE，同时保持惩罚较高误差的特性。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="145b" class="kk kl hh kg b fi km kn l ko kp">from sklearn.metrics import mean_squared_error<br/>import numpy as np</span><span id="316f" class="kk kl hh kg b fi kq kn l ko kp">mse = mean_squared_error(actual_values, predicted_values)<br/>rmse = np.sqrt(mse)</span></pre><p id="fada" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 4。均方根对数误差</strong></p><p id="eb46" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这是通过取均方根误差的对数来计算的。采用RMSE度量的对数减缓了误差的规模。当您正在开发一个可以大规模输出的模型时，该指标非常有用。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="7bba" class="kk kl hh kg b fi km kn l ko kp">from sklearn.metrics import </span><span id="b39d" class="kk kl hh kg b fi kq kn l ko kp">mean_squared_log_error = np.sqrt(mean_squared_log_error( actual_values, predicted_values ))</span></pre><p id="fe33" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 5。r的平方</strong></p><p id="e32d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">该指标反映了模型的性能，而不是像我们在之前的指标中计算的损失。在这里，没有对上下文的依赖。</p><p id="f925" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">假设我们用所有数据点的平均值构建了一条线。这个模型显然可以被视为最差的模型。我们使用R平方方法将这条平均线与实际回归线进行比较。计算方法如下-</p><figure class="kb kc kd ke fd ii er es paragraph-image"><div class="er es kr"><img src="../Images/6dd8299b8e1768dc08cdffc09cfcbc10.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/0*rvWjfhVxzw0HiqoH.png"/></div></figure><p id="e381" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在让我们假设，如果R2分数是0，那么上面的回归线的平均值= 1，所以1–1是0。因此，在这种情况下，两条线重叠意味着模型性能最差。</p><p id="cfda" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">第二种情况是当R2分数为1时，这意味着当除法项为零时，这将发生在回归线没有任何错误时，这是完美的。在现实世界中，这是不可能的。</p><p id="710b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，我们可以得出结论，随着我们的回归线向完美移动，R2分数向1移动。</p><pre class="kb kc kd ke fd kf kg kh ki aw kj bi"><span id="99dc" class="kk kl hh kg b fi km kn l ko kp">from sklearn.metrics import r2_score<br/>r2 = r2_score(actual_values, predicted_values)</span></pre><p id="63ea" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> 6。调整后的R平方</strong></p><p id="3b82" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">r平方度量显示了模型的表现或数据点与线的拟合程度，但它不考虑模型中的要素数量。如果我们增加更多的特性，它会增加或保持R的平方值不变，永远不会减少。</p><p id="9bce" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这就是调整后的R的平方发挥作用的时候。调整后的R平方度量不仅表示数据点与线的拟合程度，还会根据模型中的要素数量进行调整。如果你给一个模型添加越来越多无用的<strong class="iw hi"> </strong>特征，调整后的r平方将会减少。如果添加更多有用的功能，调整后的r平方将会增加。<br/>调整后的R2将永远小于或等于R2。</p><p id="da00" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">调整后的R平方度量计算如下:</p><figure class="kb kc kd ke fd ii er es paragraph-image"><div class="er es ks"><img src="../Images/0d1974f5555b4162cf934466a9ff5f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/0*FfDq7FUkoNiih8c9.jpg"/></div></figure><div class="kt ku ez fb kv kw"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kx ab dw"><div class="ky ab kz cl cj la"><h2 class="bd hi fi z dy lb ea eb lc ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ld l"><h3 class="bd b fi z dy lb ea eb lc ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="le l"><p class="bd b fp z dy lb ea eb lc ed ef dx translated">medium.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk in kw"/></div></div></a></div></div></div>    
</body>
</html>