<html>
<head>
<title>Creating Azure ML Pipelines with Azure Machine Learning Studio V2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Azure机器学习工作室V2创建Azure ML管道</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/creating-azure-ml-pipelines-with-azure-machine-learning-studio-v2-d889d8fc0894?source=collection_archive---------0-----------------------#2021-08-29">https://medium.com/mlearning-ai/creating-azure-ml-pipelines-with-azure-machine-learning-studio-v2-d889d8fc0894?source=collection_archive---------0-----------------------#2021-08-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/08add321226be252f2a6f968dd34ea56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WVe3QtROCQSsTpf3X44B3A.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Title Image</figcaption></figure><p id="2e91" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果我们向5位不同的数据科学家询问人工智能的定义，得到5个不同的答案并不奇怪。虽然人工智能并不新鲜，但它早在20世纪60年代就被创造出来了，像IBM这样的大型科技公司的科学家和工程师在相当长的时间里一直在研究一些特定的用例。但最近十年，随着移动、云和大数据等数字技术的出现，其商业使用案例呈指数级增长。今天，我们总是通过手机连接到互联网，并通过各种应用程序完成许多任务，如网上购物、网上银行、网上交易、社交网络等，并产生大量的数字足迹或数据。这些由人和数字技术产生的数据为公司提供了向客户提供更好服务的机会，也帮助他们增加了客户群。</p><p id="cb9f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这就是大数据分析和人工智能发挥作用的地方。如前所述，人工智能有多种定义，但简单地说:</p><blockquote class="jr js jt"><p id="47ed" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">人工智能是计算机系统的发展，能够执行通常需要人类智能的任务。它包括视觉感知、语音识别、决策、语言翻译等。</p></blockquote><p id="e9ec" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在人工智能是一个一般的研究领域，但这里我们关注的是人工智能的子集，称为机器学习。</p><blockquote class="jr js jt"><p id="9826" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">机器学习是一种数据科学技术，允许计算机使用算法和现有数据来预测新数据的未来行为、结果和趋势。通过使用机器学习，计算机在没有明确编程的情况下进行学习。</p></blockquote><h2 id="1f97" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">Azure机器学习前景</h2><p id="ca31" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">Azure机器学习是一个产品系列，包括:</p><ol class=""><li id="c522" class="ky kz hh iv b iw ix ja jb je la ji lb jm lc jq ld le lf lg bi translated">Azure机器学习平台——它是一个完全托管的云服务，带有图形工作室和可视化设计器。它支持流行的python库，如pyTorch和scikit-learn。它还支持统计编程语言R，并支持Azure Jupyter笔记本(它是微软托管的Jupyter笔记本)。</li><li id="283f" class="ky kz hh iv b iw lh ja li je lj ji lk jm ll jq ld le lf lg bi translated">Azure ML Studio(经典)-这是产品的v1版本，现在称为“(经典)”。它是用于训练和部署机器学习模型的低代码或无代码交互式可视工作空间环境。由于这是历史版本，它有自己的问题和痛点，例如有10gb的训练数据限制，而且模型格式是专有的和不可移植的。</li><li id="79ec" class="ky kz hh iv b iw lh ja li je lj ji lk jm ll jq ld le lf lg bi translated">Azure认知服务——这些是作为SaaS成品提供的API集。它已经为情绪和情感检测、视觉和语音识别等事情预先构建了模型。</li><li id="e3dc" class="ky kz hh iv b iw lh ja li je lj ji lk jm ll jq ld le lf lg bi translated">SQL Server机器学习服务/ ML服务器-。SQL Server机器学习服务提供统计分析和预测分析，支持SQL Server数据库的Python和R编程环境。因此，我们可以在SQL Server内部构建和部署ML模型。微软机器学习服务器是用于预测分析的独立企业服务器。我们可以使用预处理数据构建和部署模型。它是跨平台的，可以在Windows Server和Linux上运行。</li></ol><p id="bfcb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这里的想法是微软从他们的v1 ML Studio产品中学到了很多。他们意识到，他们希望给数据科学团队和人工智能工程师一个统一的工作空间，每个团队成员都可以做自己的工作。我们会发现这个新的Azure机器学习工作室支持像Azure基于角色的访问控制这样的事情，这样你就可以有可能不是数据科学家的人，但更多的Azure基础设施专业人员能够控制底层的计算基础设施，然后数据科学家和人工智能工程师，根据他们的背景，他们可以合作，工具将在他们所在的地方满足他们。</p><p id="9cd6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在这个讨论中，我们将严格处理机器学习工作室最新版本的当前版本。</p><blockquote class="jr js jt"><p id="4b32" class="it iu ju iv b iw ix iy iz ja jb jc jd jv jf jg jh jw jj jk jl jx jn jo jp jq ha bi translated">在继续之前，我想提一下，这篇文章不是关于ML算法或模型的。这篇文章是关于我们如何在不使用任何代码的情况下，使用Azure Machine Learning Studio图形界面来构建ML管道。</p></blockquote><h2 id="f5d7" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">Azure机器学习服务入门</h2><p id="b913" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">要构建ML管道，首先登录Azure门户网站，即<a class="ae lm" href="https://portal.azure.com/" rel="noopener ugc nofollow" target="_blank">portal.azure.com</a>。打开所有服务，寻找“<em class="ju"> AI+机器学习</em>”。它会提供多个选项，我们点击<em class="ju">机器学习</em>。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/5361bf583687b3687f15d06cdc814f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xRT9RfpMeqguv9g6DhvhYA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Select Machine Learning</figcaption></figure><p id="686e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">正如我们所看到的，有多种服务，现在有我们称为V2的机器学习服务，还有称为经典的服务，这是Studio的旧版本。现在，这将我们带到一个刀片，并要求我们创建“<em class="ju">机器学习工作区</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/1dffbe6fba592506a608cfdb75d54a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WHgU-X_FOyZJCpX1_zmnBQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Create ML workspace</figcaption></figure><p id="2c70" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在继续之前，让我们先了解什么是ML工作空间。</p><h2 id="f968" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">Azure机器学习工作区(AML工作区)</h2><p id="441b" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">Azure ML Workspace被认为是Azure机器学习家族中的顶级资源。它提供了使用Azure机器学习服务的集中场所。因此，它就像一个逻辑容器，包含所有资源，并与Azure机器学习服务相关联。Azure为我们提供了创建AML工作空间的不同方法，我们可以通过Azure门户、用于编程部署的ARM模板、Azure CLI、带有AML扩展的VS代码来创建它，或者我们可以通过使用AML SDK for Python或r来创建它。对于本文，我们将使用Azure门户来创建资源。</p><p id="28e5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因此，当我们创建新的Azure机器学习工作区时，我们需要提供资源组、工作区名称和区域。创建新的AML workspace时，它会自动创建存储帐户、密钥库、应用洞察和容器注册表。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/b0f33895a566ce23fdf08626401c7571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZqGQbGZ4fDrYKJr_EZ3qmg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Create AML Workspace</figcaption></figure><p id="68a0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，单击“下一步”添加网络详细信息。我们可以将这里的连接方法限制为公共，或者附加一个私有端点来限制它与特定网络的连接。我们将保留默认值作为公共端点。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/342d651f7b224b6fae40ab1365f9b0a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*D0j8wxJMuewr9NJnse4R1g.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Adding Networking Details</figcaption></figure><p id="577b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来我们将提供数据加密类型。在这里，我们可以配置是否要使用Microsoft管理的密钥进行加密，或者是否要在整个企业范围内使用一些自定义密钥，然后我们可以在这里提供这些详细信息。我们将保留Microsoft管理的密钥。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/feb5d451a62d02b5b393c9a0e2851bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jJUDDFvrGzC_OObV_C2Hug.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Encryption Type</figcaption></figure><p id="814e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们将添加标签并转到“查看+创建”选项卡。在这里，azure将验证所提供的细节，如果验证通过，它将允许我们通过单击“创建”来创建工作区。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/7722652fefa09bea21f9ee7cc5c88b47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*aPtbfjePEoROHiAq_ytaWA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Validate and Create workspace</figcaption></figure><p id="896d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一旦我们点击创建，一个新的但是空的Azure机器学习工作空间将被创建。正如已经提到的，它是一个容纳所有Azure机器学习服务资源的容器，我们在Azure Machine Learning Studio中执行所有操作。所以我们点击<em class="ju">启动工作室</em>按钮打开工作室。此外，还有一个链接可以下载与这个工作区相关联的config.json。开发人员使用它将项目和源代码注册到工作区中。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lx"><img src="../Images/0145a0b5c8b5356b271faefd449fd644.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ymFwuJXgSUXdnXpFUz-AEQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">AML Workspace is Created</figcaption></figure><h2 id="6f21" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">Azure机器学习工作室</h2><p id="5f48" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">当我们点击启动工作室时，它将在一个单独的标签中打开，这将我们带到ml.azure.com的<a class="ae lm" href="https://ml.azure.com/" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ly"><img src="../Images/47786c2d26bf61135b361bc1e65c9b37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RgmmlF5pS-Bg_WXt6Ku3eg.png"/></div></div></figure><p id="6a27" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当我们登录到ml.azure.com，我们会得到机器学习的一般模式。它表示，首先在工作空间中注册数据集，接下来的大量工作将是使用各种机器学习算法来训练模型，以生成准确的预测。接下来，我们将根据测试数据评估模型，并最终使用不同的计算目标将模型部署为webservice。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lz"><img src="../Images/c5673ea67bcdb9c5ccf603c74b6db3b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M_PedGm_212qG8JitGon8Q.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">General Pattern for Machine Learning</figcaption></figure><p id="d1f9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">Azure ML Studio分为3个部分，即作者、资产和管理。<em class="ju">作者— </em>部分为我们提供了使用Jupyter笔记本的代码优先方法。如果我们不确定哪种机器学习算法最适合我们，我们可以进行自动化的ML运行，Azure利用大规模并行计算，可以尝试一系列不同的算法，我们可以选择哪种算法最准确。此外，如果我们不舒服的代码，它为我们提供了使用图形设计器。</p><p id="169c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">资产——这里的概念是协作共享工作空间。我们可以注册数据集、实验、创建共享的管道、模型和端点。我们所做的所有更改都被版本化跟踪。我们将在创建管道时详细介绍。</p><p id="4380" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">管理—这一部分包含的是管理Azure机器学习基础设施，这是我们计算、数据存储和数据标记的地方。我们将在部署管道时进一步了解细节。</p><h2 id="6a04" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">构建Azure机器学习管道</h2><p id="7253" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">现在我们了解了Azure ML workspace和Azure ML Studio的基础知识，让我们使用Designer创建第一个ML管道。因此，单击Studio左侧导航中的设计器图标，它将向您显示以下屏幕，其中包含整批样本。在本次讨论中，我们还将使用一个预先构建的模块，即汽车价格预测。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ma"><img src="../Images/c36dfae321785f79721818896d96faff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZdD_cHVZp46m5H0s5UOehQ.png"/></div></div></figure><p id="2c5c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在新管道下，点击“<em class="ju">易于使用的预建模块</em>，这将创建一个全新的管道。这将打开一个新的屏幕，具有自动保存功能，这是很好的。我建议你继续戴着它。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mb"><img src="../Images/575740bc26f19738e7ad32522941015d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7odDV02IrR76iaIzsQCV2Q.png"/></div></div></figure><p id="91c9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，正如我们在“设置”中看到的，计算目标已选中，因此让我们通过单击“选择计算目标”链接来选择一个计算目标:</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mc"><img src="../Images/6cdc7e8a92c651392ac245dde7cef1a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0cr6S_rIC0YFTFUc9Z0BLA.png"/></div></div></figure><p id="f129" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，它将为我们提供两个选项，要么选择现有计算，要么创建新计算。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es md"><img src="../Images/9289c07ca900e0093ba6d50eb9735742.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ejUjLWHj1qygPohb35q6ZQ.png"/></div></div></figure><p id="12e7" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因为我们没有任何现有计算机，所以我们可以选择“<em class="ju">创建新的</em>”。Azure将向我们推荐一个预定义的配置，如果我们希望控制该集群的外观，就其CPU、RAM、存储和节点数的分配而言，我们可以先进行计算，然后训练集群。在这里，我们可以使用预定义的配置，因此我们为训练集群提供名称，并单击“<em class="ju">保存</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es me"><img src="../Images/33f5bb495b3cb579addf34d3e256550a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*_JsY9Sbwv-63aa0jaNCbuw.png"/></div></figure><p id="8171" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">保存新的训练集群后，我们必须等待一段时间，因为Azure将提供所需的资源。我们可以在设置计算目标中检查状态。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es mf"><img src="../Images/6bf18c811bc59895f1c76697de092a34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*y9G0MJG16_ZGx0Zzl-FElg.png"/></div></figure><p id="b5e8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一旦训练群集可用，我们将能够选择它作为计算目标。选择计算目标后，我们可以将管道的名称更新为“测试自动价格预测”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/26cad1896032d38645844a81823e9e9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-Wi1gndnyJeJ1XNg2GBAA.png"/></div></div></figure><p id="82e1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如前所述，我们需要做的第一步是引入数据。接下来，我们将扩展数据集类别和一系列用于示例数据的模块。为了获得自定义数据，我们可以将其存储在数据存储中，然后它们将作为数据集在这里可用，但我们在本文中使用的是示例数据集，因此我们将从示例数据集中选择汽车价格数据，并将其拖到designer中。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mh"><img src="../Images/c2140792642b46e4baded5d37314d724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tngBUulU1Jv8IxYiPtmHkA.png"/></div></div></figure><p id="c3d0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，我们将打开汽车价格数据的设置选项卡，当我们拖动它时，它会自动打开，如果我们需要再次打开它，我们可以选择任务，设置选项卡将重新打开。我们将转到“输出”选项卡，然后单击“可视化”按钮。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mi"><img src="../Images/33716e9b9f0c66bfaa3e6ac50a0bd0a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j68981eEHAe1qJpnrj63Aw.png"/></div></div></figure><p id="378a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">这向我们展示了这个数据集中的数据是什么样子的。它告诉我们，我们有26列和205行。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mj"><img src="../Images/8a1d5e0e12adb489dacbac11fc061508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dimLtMgYYBF50iqMCgCmqQ.png"/></div></div></figure><p id="4b13" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以滚动查看，可以看到我们在这个价格数据集中分析的不同类型的数据。基于这些不同的属性，当我们选择其中一个类别时，我们可以在右侧看到一些统计数据，重要的是，包括唯一值和缺失值。我们希望留意包含缺失数据的列，因为这可能会影响我们的模型准确性。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/ec2f16c6bd5e22bb0021f09a474cc736.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xyl8H69R-DhnEY2x-ZY1-Q.png"/></div></div></figure><p id="47ae" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">要清除数据，我们需要对现有列执行操作。为此，我们将从数据转换部分选择“<em class="ju">选择数据集</em>中的列”。还要注意，这些模块有一个或多个端口。这里汽车价格数据有输出端口，数据集中的选择列有输入端口，我们可以在两者之间拖放一个连接器。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ml"><img src="../Images/2de62495aa972e240d9f49e4e4553e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HHVn8b5gvYV1SmwkaX6W4A.png"/></div></div></figure><p id="f1b1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们将选择“<em class="ju">选择数据集</em>中的列”以打开设置，并单击“<em class="ju">编辑列</em>以包含特定的列名。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/2b36e01ea3e3135d4fec4140fb8fb4ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*gR0Qpvo1yDf3Ai5DKW7MXg.png"/></div></figure><p id="8a10" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，我们查看了数据集，发现有一个名为“<em class="ju">normalized-loss</em>的列，其中有许多缺失值，因此我们将排除该列。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/11d044aa02ed7d943ded2c1faa0c1e02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAPwLWyOC8GFyD-baRgaFg.png"/></div></div></figure><p id="5b35" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为此，我们将首先包含所有列。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/26f5859565dc198e72d337480c59e335.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OTGPBFFTHLZqihJmcSH13Q.png"/></div></div></figure><p id="5aaa" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">然后将添加一行并排除列名。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mp"><img src="../Images/57ccf01abdfe4a0b4ee07e7ee422d080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5gA3hL6ld-JgdqswolE9g.png"/></div></div></figure><p id="aea4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当我们选择“Exclude”时，它会弹出一个包含所有列名的窗口，我们将选择“<em class="ju"> normalized-losses </em>”列</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es et"><img src="../Images/1f681d0d90ccac511e44b5f420551059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-RiFi52wTNR8HoE6yiXABQ.png"/></div></div></figure><p id="522c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们点击<em class="ju">保存</em>来保存我们的更改。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mq"><img src="../Images/8205adecbf5047bc14f328949a551aea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRGN_f-Ut-nIbkOHGETI0Q.png"/></div></div></figure><p id="5849" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，我们的列已被选中，我们可以注意到，对于添加到管道中的所有这些元素，我们可以更改计算目标。当我们有资源密集型步骤，并希望在单独的集群上运行它时，这很有用。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es mr"><img src="../Images/33306f29db84542d57c478a8cd6dd444.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/1*lvjzpObTZ90ox07WnxnXdg.png"/></div></figure><p id="cf76" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，我们将通过删除丢失的值行来删除丢失的数据。我们将返回模块列表，并在其中“<em class="ju">清除丢失的数据</em>”。然后我们将拖拽一个连接器"<em class="ju">选择数据集</em>中的列"模块。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ms"><img src="../Images/c70cd3e29ba350b7a29016ee4b25d8cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-xgZM-fzSEkGyvt95yjSzw.png"/></div></div></figure><p id="80eb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">对于清洁行，我们将进入配置，在“<em class="ju">清洁模式</em>下，我们将选择“<em class="ju">移除整行</em>”。因此，只要有数据丢失，它就会删除整行。我们还需要选择要清理的列，因此我们将点击“<em class="ju">编辑列</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es mt"><img src="../Images/3129e18abb536e312985bfd249403348.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/1*4q7PIx1LXJXFPZepbl8dtQ.png"/></div></figure><p id="15a1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们将得到一个弹出窗口来选择要包含在清理活动中的列。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/e85d5222cf00e966f53719f700d96995.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1NUl1h84WnDd_bdUUlKMA.png"/></div></div></figure><p id="b603" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">正如我们之前所做的，我们将添加“<em class="ju">排除</em>规则，并选择“<em class="ju">归一化损失</em>”。现在将点击<em class="ju">保存</em>来保存修改。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/63acc1715f253a200aa50807f27cd916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n8YagvH0evSquhk_SAv5qQ.png"/></div></div></figure><p id="0de9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来为了训练，我们将把数据分成2个数据集，即一个用于训练，一个用于测试。为此，我们将拖放“<em class="ju">拆分数据</em>”模块。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mw"><img src="../Images/5d1b8690a9330ed904e555427a666379.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4azn0kr-dX-3S5hNXUl57A.png"/></div></div></figure><p id="d16c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们注意到“<em class="ju">清除缺失数据</em>模块有2个输出端口，所以我们将“<em class="ju">分割数据</em>模块与“清除缺失数据”的左侧端口连接。同样在配置“<em class="ju">第一个输出数据集</em>中的行的分数”中，我们将通过添加值“0.7”将数据集分割成70:30的比例。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/13ef35345f446422be5f2ed261fda66c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m4itoBVxHpmidKW3MpFpYg.png"/></div></div></figure><p id="c829" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们将训练模型，我们将在此处选择“<em class="ju">线性回归</em>”模块，该模块位于“<em class="ju">机器学习算法</em>”下。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/819ab35722c40b172b5fd81be30d77b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rno7MjOxlfTFb9UVhHmVVw.png"/></div></div></figure><p id="3b25" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们还将引入“<em class="ju">模型培训</em>”下的“培训模型”模块。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/3177f5994eba61084457526e2b455a20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*scnJEPP1hlbegtto5Yyoxw.png"/></div></div></figure><p id="c16d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来我们将把“<em class="ju">线性回归</em>与“<em class="ju">列车模型</em>模块的左侧输入端口连接起来。还将连接“<em class="ju">分割数据</em>模块左输出端口的左端口与“<em class="ju">列车模型</em>的右输入端口。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/5269d634d9ffaa122ba1a97380e84551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0pl-XUP5HS207noeGPoxw.png"/></div></div></figure><p id="2b8a" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以看到“<em class="ju">列车型号</em>模块上有一个错误图标。接下来我们需要告诉哪些列需要预测(这是错误的原因)。为此，我们将打开“<em class="ju">列车模型</em>模块的配置部分，然后打开“<em class="ju">编辑栏</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es nb"><img src="../Images/9ee916896e285a94da2977dbf339f916.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*QKrQxmM6Sv6BimzPIIxUtg.png"/></div></figure><p id="57e0" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">将弹出<em class="ju">标签栏</em>，在这里我们将选择名称为<em class="ju">价格</em>，它将预测并点击<em class="ju">保存</em></p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nc"><img src="../Images/2d8e27328b0d62a8d143b1d5c0b90eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nczS2tTykSnPu1fkZ6jHpg.png"/></div></div></figure><p id="cd8e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们可以看到错误已经消失，接下来我们将评估模型。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nd"><img src="../Images/98d3ba6c53ae6474e8ee363de1078836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CcRLyF1ZgGC6cuqGIjn1sA.png"/></div></div></figure><p id="f5b5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为此，我们将把“<em class="ju">模型评分和评估</em>”下的“<em class="ju">评分模型</em>模块拖放到画布上。我们将“训练模型”模块的输出端口与“<em class="ju">得分模型</em>的左侧输入端口相连。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ne"><img src="../Images/f4893a73e233c0590833819704658d90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rE8b9Qt9lQ7i55b2H93Rew.png"/></div></div></figure><p id="bc95" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来我们将引入“<em class="ju">评估模型</em>”，并将“<em class="ju">评分模型</em>”的输出端口与“<em class="ju">评估模型</em>”的左侧输入端口相连。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nf"><img src="../Images/70533c32e71d1544a2756480d6ab1599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7IR8ucjnSQo3oghDs1loAg.png"/></div></div></figure><p id="b3ba" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，我们不能忘记我们在这里的划分，我们将70%的数据放在培训过程中，但我们还需要将30%的数据放在测试过程中。因此，为了做到这一点，我们将把“<em class="ju">分割数据</em>模块的右输出端口连接到“<em class="ju">得分模型</em>模块的右输入端口。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ng"><img src="../Images/559b197b71fe56aca178c5a788b5823e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5a3T1AkzZCo8u_SY2fX-A.png"/></div></div></figure><h2 id="79f1" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">在测试群集上部署Azure ML管道</h2><p id="968f" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">现在我们的模型完成了，我们准备运行它。让我们点击“<em class="ju">提交</em>”按钮。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nh"><img src="../Images/ea8bc33d17eaf9e52ca0bd26c0d83f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mSAmV9f0hpKz2Ig5wVYWhA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">run pipeline</figcaption></figure><p id="6aec" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在将显示一个弹出窗口，选择“<em class="ju">实验</em>或创建一个新的实验。这个实验本质上是一个容器，类似的管道一起运行。此外，我们需要选择计算目标，如果我们还没有创建，那么我们必须先创建一个，然后才能提交实验。幸运是，我们已经创建了一个“<em class="ju">测试集群</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es ni"><img src="../Images/a48cc45dad716c7682881f0ec657993a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*YSdwrVplma7DzVRHq16C-Q.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">setup pipeline run</figcaption></figure><p id="ef13" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">因为我们没有，我们将创建一个新的。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es nj"><img src="../Images/35604c632e577462051c3a796ac1b541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1114/format:webp/1*eIa8KPMT5ZG5J5wiUAwe8g.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">create new experiment</figcaption></figure><p id="3b30" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们将其命名为“<em class="ju">测试-自动-价格-预测-Exp1 </em>”然后提交。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es nk"><img src="../Images/0247f98cd4b032e25f0820874fc51e21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/format:webp/1*fP2pmyv3h1pS8gKpTn8oGw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Run pipeline</figcaption></figure><p id="279f" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们等待，我们可以看到它处于运行状态。这将需要几分钟完成。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nl"><img src="../Images/7357f3ed75d8270789acb9e26e75309a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2U19f4Sa20Q3Fla0dUJzw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipeline running</figcaption></figure><p id="36fc" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以看到当前正在执行的模块的模式。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nm"><img src="../Images/dd501a87a9ad53517eb20faabcd0ab3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k-0y9bB5ibgUXc-cY_6W2g.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipeline running</figcaption></figure><p id="4755" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">同时，我们可以去查看计算选项卡。在这里，我们可以看到2个节点已经启动并运行。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nn"><img src="../Images/5d755560171ebd5d766113e0d1ea97ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w6V6pE5KlQvhrYBiz0SlrQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">test cluster created</figcaption></figure><p id="e6b9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以通过点击“<em class="ju">测试集群</em>”来查看详细信息</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es no"><img src="../Images/291a5902133330d3973e94a83b44c5bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M0b1gqOWrUDMOCiAOVFXbA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">test cluster details</figcaption></figure><p id="f351" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">好了，现在我们可以看到所有模块都成功执行了。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es np"><img src="../Images/e37b376e5759c851f6b890fffc0bce6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j53BqOyMLD4mlfo2VrNbAQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipeline executed</figcaption></figure><p id="d5ea" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们将首先检查分数模型。我们将转到“<em class="ju">输出+日志</em>”并点击“<em class="ju">可视化</em>”图标。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nq"><img src="../Images/c6524f1b69e6896571c6a3ae36808c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L4miPDJpk7GA4J08XHAKdw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Score Model</figcaption></figure><p id="e455" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">“<em class="ju">评分模型</em>”可视化弹出窗口将打开，然后我们将在其中查找“<em class="ju">价格</em>”字段。请记住，在配置“<em class="ju">列车模型</em>模块时，它是我们选择用于预测的同一列。“<em class="ju">价格</em>列包含原始汽车价格，我们也看到它旁边的得分价格。我们的目标是看看我们的线性回归机器学习模型对这些价格的预测有多接近。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nr"><img src="../Images/6f5f401e6cce3a75d73df704ecc23bbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jSbM87WLv19Fx8ErAJTaA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Visualize Score Model</figcaption></figure><p id="57a9" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们将查看评估数据，为此，我们将“<em class="ju">评估模型</em>”配置，并再次单击“T10可视化T11”图标。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ns"><img src="../Images/c4f6283dbe1c4182d0ca687300393a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-QLVp36ovHg8eoCybs18YQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Evaluate Model</figcaption></figure><p id="94ea" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">有各种错误统计数据可用。这些误差统计值越小越好。这里我们将寻找“决定系数”，它应该接近于1。正如我们在下面看到的，这是一个非常好的模型。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es nt"><img src="../Images/8b3a3954339e709d1b6f92b377107a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1228/format:webp/1*xjFaHGYlkovPDIpac0D_gw.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Visualize Evaluate Model</figcaption></figure><h2 id="6fa8" class="jy jz hh bd ka kb kc kd ke kf kg kh ki je kj kk kl ji km kn ko jm kp kq kr ks bi translated">推理管道</h2><p id="f4dc" class="pw-post-body-paragraph it iu hh iv b iw kt iy iz ja ku jc jd je kv jg jh ji kw jk jl jm kx jo jp jq ha bi translated">接下来，我们将创建推理管道。当我们点击"<em class="ju">提交</em>按钮旁边的下拉"<em class="ju">创建推理管道</em>"按钮时，我们会看到两个选项"<em class="ju">实时推理管道</em>"和"<em class="ju">批量推理管道</em>"。我们将选择“<em class="ju">实时推理管道</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nu"><img src="../Images/5fe5aa3f58fa68de9db3aecc9f38b0f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UGiaL8vP9CfbkWfqtssnjg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Select real-time inference pipeline</figcaption></figure><p id="9e30" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">当我们创建一个将被一般化的推理管道时，训练模块消失了，我们可以注意到Azure增加了一个“<em class="ju"> Web服务输入</em>和一个“<em class="ju"> Web服务输出</em>模块。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nv"><img src="../Images/e799a235801070a171c7061c09a9c1b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mn6oKX8-yIr6ewDbTL7hFQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Creating real-time inference pipeline</figcaption></figure><p id="36d6" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">大部分工作已经为我们完成，所以我们需要"<em class="ju">提交</em>"它，以确保模型仍然工作良好。我们可以重用以前创建并运行过实验。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nw"><img src="../Images/9975a5375d5123eb2d6cb41c5d8a182b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SNEUdcebNWyYty3eE8qOHA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Setup pipeline run</figcaption></figure><p id="85ff" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">为此，我们将使用相同的培训集群，即“<em class="ju">测试集群</em>”，然后单击“<em class="ju">提交</em></p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es nx"><img src="../Images/4a94e0fd3ea30206f60ac6735a9e6ba4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*BRh4FKY2TzwEUcCwPt3aZA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Submitting pipeline</figcaption></figure><p id="279c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们可以看到它处于运行状态。这样我们就有机会创建“<em class="ju">推理簇</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ny"><img src="../Images/b622cc25f035bdb2a12e725a07396c90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZoA6hXOhC5YQvyndPS2kvg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipeline Submitted</figcaption></figure><p id="81db" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">我们将转到“<em class="ju">计算</em>选项卡并打开“<em class="ju">推理集群</em>”。目前没有可用的群集。我们将创建一个活动的AKS集群，为终端本身运行。所以我们会点击<em class="ju">新建</em>。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nz"><img src="../Images/9b745f21fde510a4f6a723492826fb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fc0Z_zyUz4rI10PV4HiTOQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Inference Cluster tan</figcaption></figure><p id="b88d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在“<em class="ju"> Kubernetes Services </em>下，我们将选择“<em class="ju">创建新的</em>”单选按钮，并将位置选择为“<em class="ju">美国东部</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oa"><img src="../Images/2bc10440d1b711593af8ccbcd041f874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KwmXhRNpwaTox-pUcVX9wg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Select VM</figcaption></figure><p id="dcc4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在，它将为我们提供选择虚拟机系列作为计算的选项。我们将选择“<em class="ju">标准_D2_v2 </em>”。我们可以根据我们的计算要求选择任何其他虚拟机。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/467f46e8fac3b7b70cee88c34fe69d52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9gPBKscPoYjld3EXlkSQDA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">select VM family</figcaption></figure><p id="4bcd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">接下来，我们必须提供其他配置，如计算机名称、集群用途、网络和SSL配置。我们将选择“<em class="ju">开发测试</em>”作为具有2个节点的群集用途，“基本”作为网络配置，对于此演示，将保持SSL配置处于禁用状态。现在，我们将点击“创建”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ob"><img src="../Images/0a89309aa4c8f30f02a2d93d1e2549d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9NqAgIIu7gzjaFDsFmAgug.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Create AKS cluster</figcaption></figure><p id="287b" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">正如我们所看到的，它处于创建状态，创建大约需要15–20分钟。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oc"><img src="../Images/eb8aa5e232f079fe9b1559fe1dfe742f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mvMFV1KsG9W0ctZLbxYmEw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">AKS cluster creating</figcaption></figure><p id="cc1e" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">一旦群集准备就绪，状态将变为“成功”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nc"><img src="../Images/9b66c1d2f6be4988b9969d6e9e4a8736.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_QXym-sBNYvMZn0EkvGqaQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">AKS cluster created</figcaption></figure><p id="43fd" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在我们将回到已经成功运行的"<em class="ju">实时推理管道</em>。我们将点击<em class="ju">部署</em>。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lx"><img src="../Images/8dc3b1f919d12560c32ad085e94ea6d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urrsK6z-KQy3dLJumfxRpw.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Deploy</figcaption></figure><p id="a5c4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它将要求我们可以"<em class="ju">部署一个新的实时端点</em>"或者我们可以替换一个现有的。我们将保留名称为“<em class="ju"> testdeployment </em>”，并选择计算类型为“<em class="ju"> Azure Kubernetes Service </em>”。接下来，我们将从我们刚刚创建的下拉列表中选择我们的计算名称“<em class="ju"> Test-ML-Cluster </em>”。然后点击<em class="ju">部署</em>。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es od"><img src="../Images/5da02c25f4da093d9a6ab2c769d91690.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*1F2i9vyx6irdXWHqd4nfmA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Deploy to AKS</figcaption></figure><p id="36e4" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">正如我们在横幅上看到的，它正在创建端点。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oe"><img src="../Images/100fddf3e495b2f758a13b2eb155002e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SLxAWvBVCZhY5p02zZ5a-w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">pipeline deploying</figcaption></figure><p id="10ce" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">现在部署成功了，我们将点击链接“<em class="ju">查看实时端点</em>”。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nu"><img src="../Images/d1eabe0eeb90778e10d7051c139ca99c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tfs6YEmTTiAhWh7IbqV5sg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipeline deployed</figcaption></figure><p id="afdb" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它将在单独的选项卡中打开。在详细信息页面上，我们可以看到端点的实际URL。它还将提供我们是使用基于密钥还是基于令牌的身份验证的信息。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es of"><img src="../Images/50c705623820c09dc92c003b3ed05475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1192/format:webp/1*MX3xLLNFSGfyxZkiuiuTVA.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Details tab</figcaption></figure><p id="535d" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">它还为我们提供了swagger文档的URL和草案管道的直接链接。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es og"><img src="../Images/bf5f6837561d50188cce378924210141.png" data-original-src="https://miro.medium.com/v2/resize:fit:1208/format:webp/1*GpVXE5oBqAiUndrM5lHvfg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Details tab</figcaption></figure><p id="91a5" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在“消费”选项卡上，我们可以找到将与我们的开发人员和数据科学家共享的信息。我们还可以使用基于密钥或令牌的方式来配置身份验证。然后我们有C#，python和r的消费源代码。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oh"><img src="../Images/8d9cfd943d6f709b861df29c1a3d8dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aLBCRxTU8LaSJDVf8_2fFg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Consume Tab</figcaption></figure><p id="f4a8" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">在“<em class="ju"> Test </em>”选项卡Azure下，放入一些来自原始训练集的样本数据。目的是我们可以在这里提供实时数据，单击“<em class="ju"> Test </em>”并通过管道运行并获得结果。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div class="er es oi"><img src="../Images/d5106e32be54c79596c84978f2bf5742.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*YZGWoFndgW8tL3041gTFGg.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">Test tab</figcaption></figure><p id="4f81" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果我们回到我们的<em class="ju">管道</em>，看到我们的管道有3条</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oj"><img src="../Images/dc0b70342b860b03274c84b909e00441.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ts5pDrRrQR--IC500dAYWQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Pipelines runs</figcaption></figure><p id="18a1" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果我们转到“数据集”选项卡，我们可以看到我们的训练和测试数据集。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ok"><img src="../Images/0903acf54a20238fab89a3e77b03cf17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QNF0UDn5bFPHbYvo5YwyPA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Datasets</figcaption></figure><p id="ac5c" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">如果我们调查原始资源组。这些是将被创造的资源。</p><figure class="lo lp lq lr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mc"><img src="../Images/de0c42cd125abc90b6eec8f24da1a281.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eKaIexrVX1qXiVvmsTm7bA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Resources in resource group</figcaption></figure><p id="17c3" class="pw-post-body-paragraph it iu hh iv b iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq ha bi translated">下一个重要步骤是清理资源，这样我们就不会为消耗的资源付费…</p></div></div>    
</body>
</html>