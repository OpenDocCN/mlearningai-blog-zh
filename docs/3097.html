<html>
<head>
<title>Clustering in Power BI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">电力商业智能中的集群</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/clustering-in-power-bi-e1c7fd5700e?source=collection_archive---------0-----------------------#2022-07-20">https://medium.com/mlearning-ai/clustering-in-power-bi-e1c7fd5700e?source=collection_archive---------0-----------------------#2022-07-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5e6689397a0a623eb67032099e528cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XtrRuaW1iMXqo7mq5d9lCA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Clustering Example</figcaption></figure><h1 id="26ee" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">❓什么是集群？</h1><p id="2418" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">聚类分析是一种识别数据集中相似数据组的方法，这种方法使得同一组(称为聚类)中的对象具有相同的属性。</p><p id="54cc" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">聚类是无监督学习，因为不需要每个对象都有标签。</p><p id="0a62" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated"><strong class="jt hi">集群的用例</strong>包括:</p><ul class=""><li id="0a07" class="ku kv hh jt b ju kp jy kq kc kw kg kx kk ky ko kz la lb lc bi translated">异常检测，如欺诈检测、检测有缺陷的机械零件</li><li id="6975" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">出于营销目的的客户细分</li><li id="dcca" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">Rideshare数据分析</li></ul><h1 id="5eb9" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">🛣️聚类方法</h1><p id="c1b6" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">1.电力商业智能中的自动聚类</p><ul class=""><li id="6eba" class="ku kv hh jt b ju kp jy kq kc kw kg kx kk ky ko kz la lb lc bi translated">二维:散点图</li><li id="6c09" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">多维:表格</li></ul><p id="3581" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">2.Python/R</p><ul class=""><li id="c7a4" class="ku kv hh jt b ju kp jy kq kc kw kg kx kk ky ko kz la lb lc bi translated">形象化</li><li id="f11f" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">转换</li></ul></div><div class="ab cl li lj go lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ha hb hc hd he"><h1 id="8899" class="it iu hh bd iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq bi translated">📥检索数据</h1><p id="7e82" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">我将使用的数据集是商场客户细分数据。它包含关于商店顾客的基本数据，如顾客ID、年龄、性别、年收入和消费分数。</p><div class="lu lv ez fb lw lx"><a href="https://www.kaggle.com/datasets/vjchoudhary7/customer-segmentation-tutorial-in-python/download?datasetVersionNumber=1" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hi fi z dy mc ea eb md ed ef hg bi translated">你的数据科学之家</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">Kaggle是世界上最大的数据科学社区，拥有强大的工具和资源来帮助您实现您的数据…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">www.kaggle.com</p></div></div></div></a></div><p id="0af3" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">下载数据后，获取csv数据以启动BI。</p><p id="7b17" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">接下来，您将看到Power BI中的3种集群方法</p><h1 id="dc25" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">🧩方法power bi中的自动聚类</h1><p id="a9e3" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">这是最简单的方法，但是它有一些限制。</p><p id="4fbd" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">首先，让我们看看如何为2个参数/维度执行聚类</p><h2 id="285a" class="mg iu hh bd iv mh mi mj iz mk ml mm jd kc mn mo jh kg mp mq jl kk mr ms jp mt bi translated">二维:散点图</h2><p id="3213" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">在右侧的可视化平面中，单击散点图图标。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/3f58f726a1348b93f746512c3267dc16.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*TFAe6qfgEyQv_P6wt_4naA.png"/></div></figure><p id="5d35" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">如下所示，将3个参数拖到可视化字段中(这些值是聚类所必需的！！).在本例中，我将根据年龄和年收入对数据进行聚类。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es mz"><img src="../Images/e491e8e719f1bbb88ffa8d902264ea5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:350/format:webp/1*cVqh3BW0qViOmVdlN1RagQ.png"/></div></figure><p id="5f44" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">将生成一个散点图。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/8279e5f2027136ba7743fc51b14dcdab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7pqYZy5dC3Q8_G-4nwemjA.png"/></div></div></figure><p id="9d35" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">点击散点图角上的三点图标(通常在右上角)并选择<strong class="jt hi">自动查找集群</strong>。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nb"><img src="../Images/b66379d0ea59444a878fe9006c0a0fa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dIH7FnUd-InzheRSFOIPDA.png"/></div></div></figure><p id="daeb" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">在弹出框中，您可以命名您的集群并选择集群的数量。在这种情况下，我不会选择集群的数量，而是让Power BI来完成这项工作。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nc"><img src="../Images/4f719742e32797bf88654315b6796318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjkAJBvzNlnqCnDdchc32A.png"/></div></div></figure><p id="e6f6" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">数据被分成3个组，Power BI认为这是最佳组数。每个聚类都用它的颜色来表示。您可以看到，同一个群集中的客户彼此靠近。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/5e6689397a0a623eb67032099e528cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XtrRuaW1iMXqo7mq5d9lCA.png"/></div></div></figure><p id="4e86" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">新的聚类参数会在图例字段中自动创建。您还可以使用该参数进行进一步分析。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nd"><img src="../Images/3d1ff6854dea5d5295f49a7aa7e9a1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:546/format:webp/1*ZHTVkWNUP08cg8-m1xgnjA.png"/></div></div></figure><blockquote class="ne nf ng"><p id="809c" class="jr js nh jt b ju kp jw jx jy kq ka kb ni kr ke kf nj ks ki kj nk kt km kn ko ha bi translated">T <!-- -->那么，如果你想聚类超过2个参数/维度呢？您可能无法像散点图一样将其可视化，但您可以在表格中做到这一点。</p></blockquote><h2 id="5a18" class="mg iu hh bd iv mh mi mj iz mk ml mm jd kc mn mo jh kg mp mq jl kk mr ms jp mt bi translated">多维:表格</h2><p id="7087" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">首先，单击可视化效果平面中的表格图标。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es mu"><img src="../Images/1abefc53e7549128abd3bd6acfad2a3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*MIcClRqiSBVb-hIy7UFeDQ.png"/></div></figure><p id="b067" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">将要聚类的参数拖到值字段中。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nl"><img src="../Images/a44615773d693fbe91e9f82d09ad4de0.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*Z1VWsnB3yuEDc8xaM0xfuQ.png"/></div></div></figure><p id="9546" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">将创建一个表。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es nm"><img src="../Images/e94a3d27b36a6e06e7480b6ffc95cb7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*Bt86CGyX-HF5-bcdy0lqrQ.png"/></div></figure><p id="5777" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">重复与散点图相同的步骤(<strong class="jt hi">自动寻找集群)</strong>。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es nn"><img src="../Images/b567254efe5cfe30afb23e4798c46fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*_w_67DgkC-ZdkutZwlmazg.png"/></div></figure><p id="5fbd" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">搞定了。！聚类完成。</p><h2 id="a155" class="mg iu hh bd iv mh mi mj iz mk ml mm jd kc mn mo jh kg mp mq jl kk mr ms jp mt bi translated">限制</h2><ul class=""><li id="fe6a" class="ku kv hh jt b ju jv jy jz kc no kg np kk nq ko kz la lb lc bi translated">聚类不会在数据刷新时更新。新数据将进入空白簇。</li><li id="95ad" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">您必须处理丢失的值并缩放这些值，以便每个参数都具有相同的范围。</li><li id="4059" class="ku kv hh jt b ju ld jy le kc lf kg lg kk lh ko kz la lb lc bi translated">Power BI中使用的聚类算法是<a class="ae nr" href="https://docs.microsoft.com/en-us/analysis-services/data-mining/microsoft-clustering-algorithm-technical-reference?view=asallproducts-allversions" rel="noopener ugc nofollow" target="_blank">可伸缩EM算法</a>(感谢<a class="ns nt ge" href="https://medium.com/u/e1fa33879a95?source=post_page-----e1c7fd5700e--------------------------------" rel="noopener" target="_blank"> Calvin Nurge </a>提供参考)。它可能在某些类型的数据上表现不佳，并且您无法调整它。</li></ul></div><div class="ab cl li lj go lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ha hb hc hd he"><h1 id="925b" class="it iu hh bd iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm lt jo jp jq bi translated">🤖方法2: Python/R</h1><p id="fee5" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">这种方法可能更复杂，但更灵活。您可以编写Python或R以任何方式执行集群。</p><p id="3d3a" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">使用这种方法，可以在有新数据时刷新分类，并且可以调整分类算法。</p><p id="7ddd" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">在本文中，我将只向您展示Python方法。然而，R实现与Python并没有太大的不同。</p><blockquote class="ne nf ng"><p id="321c" class="jr js nh jt b ju kp jw jx jy kq ka kb ni kr ke kf nj ks ki kj nk kt km kn ko ha bi translated">你可以在下面阅读如何在Power BI中使用Python。</p></blockquote><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/python-in-power-bi-66a80590ecc0"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hi fi z dy mc ea eb md ed ef hg bi translated">Python在Power BI中的应用</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">通过集成Python增强Power BI仪表板的功能。一步一步地使用Python来获取、转换和…</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="nu l"><div class="nv l nw nx ny nu nz in lx"/></div></div></a></div><blockquote class="oa"><p id="ce00" class="ob oc hh bd od oe of og oh oi oj ko dx translated">如果你设置完Python，我们就开始集群吧。</p></blockquote><p id="56e2" class="pw-post-body-paragraph jr js hh jt b ju ok jw jx jy ol ka kb kc om ke kf kg on ki kj kk oo km kn ko ha bi translated">使用Python执行聚类有两种方式:可视化和转换。</p><h1 id="aa18" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">📊形象化</h1><blockquote class="ne nf ng"><p id="296d" class="jr js nh jt b ju kp jw jx jy kq ka kb ni kr ke kf nj ks ki kj nk kt km kn ko ha bi translated">使用Python可视化将在仪表盘中创建一个图表。用这种方法，你会有一个集群图，可以用Python代码调整这个图，但是你<strong class="jt hi">不能在其他地方使用集群</strong>。</p></blockquote><p id="2902" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">在可视化平面中，单击Py图标(Python的缩写)。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="ab fe cl op"><img src="../Images/3a34c0e7124238dbba064b30aa02f66c.png" data-original-src="https://miro.medium.com/v2/format:webp/1*8Zez8pt1qniWOh_SFeu7lA.png"/></div></figure><p id="a449" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">您将看到一个空的Python脚本编辑器区域。选择要可视化的列(本例中为年收入和支出分数)。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es nl"><img src="../Images/0cfd2659cd118c0045c57a0d21ce1545.png" data-original-src="https://miro.medium.com/v2/resize:fit:358/format:webp/1*8TLgMq34xslxY7RpLoUb4A.png"/></div></figure><p id="d059" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">你会看到一个空的编码区。写下面的代码。</p><p id="3c5a" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated"><strong class="jt hi"> 1。导入库</strong></p><pre class="mv mw mx my fd oq or os ot aw ou bi"><span id="90ce" class="mg iu hh or b fi ov ow l ox oy">from sklearn.cluster import KMeans</span><span id="c955" class="mg iu hh or b fi oz ow l ox oy">import matplotlib.pyplot as plt</span></pre><p id="6454" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated"><strong class="jt hi"> 2。执行K均值聚类</strong></p><p id="f4a1" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">对年收入和支出分数进行聚类。</p><p id="31c9" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">分成5组。</p><p id="e4aa" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">使用fit_predict执行聚类分析。</p><pre class="mv mw mx my fd oq or os ot aw ou bi"><span id="db2c" class="mg iu hh or b fi ov ow l ox oy">X = dataset[['Annual Income (k$)','Spending Score (1-100)']]</span><span id="bb9f" class="mg iu hh or b fi oz ow l ox oy">kmeansmodel = KMeans(n_clusters= 5, init='k-means++', random_state=0)</span><span id="45a4" class="mg iu hh or b fi oz ow l ox oy">y_kmeans = kmeansmodel.fit_predict(X)</span></pre><p id="a060" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated"><strong class="jt hi"> 3。可视化</strong></p><p id="679c" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">创建一个散点图和颜色的集群。</p><pre class="mv mw mx my fd oq or os ot aw ou bi"><span id="ec6a" class="mg iu hh or b fi ov ow l ox oy">plt.scatter(X.iloc[y_kmeans == 0, 0], X.iloc[y_kmeans == 0, 1], s = 100, c = 'tomato', label = 'Cluster 1')</span><span id="82c5" class="mg iu hh or b fi oz ow l ox oy">plt.scatter(X.iloc[y_kmeans == 1, 0], X.iloc[y_kmeans == 1, 1], s = 100, c = 'dodgerblue', label = 'Cluster 2')</span><span id="9514" class="mg iu hh or b fi oz ow l ox oy">plt.scatter(X.iloc[y_kmeans == 2, 0], X.iloc[y_kmeans == 2, 1], s = 100, c = 'palegreen', label = 'Cluster 3')</span><span id="5100" class="mg iu hh or b fi oz ow l ox oy">plt.scatter(X.iloc[y_kmeans == 3, 0], X.iloc[y_kmeans == 3, 1], s = 100, c = 'violet', label = 'Cluster 4')</span><span id="fc9a" class="mg iu hh or b fi oz ow l ox oy">plt.scatter(X.iloc[y_kmeans == 4, 0], X.iloc[y_kmeans == 4, 1], s = 100, c = 'sandybrown', label = 'Cluster 5')</span><span id="b501" class="mg iu hh or b fi oz ow l ox oy">plt.scatter(kmeansmodel.cluster_centers_[:, 0], kmeansmodel.cluster_centers_[:, 1], s = 300, c = 'yellow', label = 'Centroids')</span><span id="7f46" class="mg iu hh or b fi oz ow l ox oy">plt.title('Clusters of customers')</span><span id="d793" class="mg iu hh or b fi oz ow l ox oy">plt.xlabel('Annual Income (k$)')</span><span id="cb09" class="mg iu hh or b fi oz ow l ox oy">plt.ylabel('Spending Score (1-100)')</span><span id="4054" class="mg iu hh or b fi oz ow l ox oy">plt.legend()</span><span id="afb0" class="mg iu hh or b fi oz ow l ox oy">plt.show()</span></pre><p id="de1c" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">图表如下所示。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pa"><img src="../Images/40b64cd83182efa88f9203fcad48ba99.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*rMMnFljthoUM9h0B7vyX7g.png"/></div></figure><p id="aea1" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">一旦有了新的数据，这个图表就会更新。</p><h1 id="0743" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">🔄转换</h1><p id="7ba4" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">这种方法是最灵活的。您将在数据转换步骤中执行聚类，并且可以在仪表板中使用生成的聚类。</p><ol class=""><li id="d1da" class="ku kv hh jt b ju kp jy kq kc kw kg kx kk ky ko pb la lb lc bi translated">单击转换数据</li></ol><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pc"><img src="../Images/fcb4e17fa63f0341cd3437d059db0618.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*pqIBHqhq8D7-a8slrRCWHw.png"/></div></figure><p id="7448" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">2.选择要转换的查询</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pd"><img src="../Images/a6ff9ceac6f2f00bf6797b0f239f279d.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*uTuKcpyCVRWx2jNPPpNZlA.png"/></div></figure><p id="4bff" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">3.在变换选项卡中，单击运行Python脚本</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es pe"><img src="../Images/ee63bc9d0fd400372fd89bef059ece47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QjUQNCtrx65gpCVe55pcJA.png"/></div></div></figure><p id="953d" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">4.您将看到一个新的运行Python脚本窗口。复制下面的代码，然后单击“确定”。</p><pre class="mv mw mx my fd oq or os ot aw ou bi"><span id="b891" class="mg iu hh or b fi ov ow l ox oy">from sklearn.cluster import KMeans<br/>import matplotlib.pyplot as plt</span><span id="1bb1" class="mg iu hh or b fi oz ow l ox oy">X = dataset[['Annual Income (k$)','Spending Score (1-100)']]<br/>kmeansmodel = KMeans(n_clusters= 5, init='k-means++', random_state=0)<br/>dataset['Cluster'] = kmeansmodel.fit_predict(X)</span></pre><p id="f70d" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">这段代码将运行K-mean并创建5个聚类。将创建一个新列“Cluster”来存储生成的分类。</p><p id="f880" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">5.结果将是一个表格。单击以展开表格。确保未选中“使用原始列名作为前缀”。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pf"><img src="../Images/102578c23550c0cba87379191bf3252c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1178/format:webp/1*92u8FUBC8fB-Z51XSa_uKQ.png"/></div></figure><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pg"><img src="../Images/fb17549b76144d456b9969aba16cde46.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*GZP-Lg0TnHM4dM5GslNbnQ.png"/></div></figure><p id="7179" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">6.耶！！将创建分类列。该列的范围为0–4，即步骤4中指定的5个分类。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ph"><img src="../Images/1f6995f2fc61d173dff73c039ec66d1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kl0SR33AUJ2Io3mkd9wLhw.png"/></div></div></figure><p id="0bff" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">7.单击主页选项卡中的关闭并应用。</p><figure class="mv mw mx my fd ii er es paragraph-image"><div class="er es pi"><img src="../Images/39c31b6cdff3aa77d2b66db4c6fc7801.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*q6aGGc6UTzEF2M1WL-Twtw.png"/></div></figure><p id="cc15" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">⚠️确保在聚类之后，将列更改为适当的类型。</p><p id="fc01" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">当您刷新数据时,“分类”列将自动刷新。</p><p id="7c04" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">您可以在仪表板的任何地方使用该集群参数。大多数情况下，它将被用作图例或过滤器。</p></div><div class="ab cl li lj go lk" role="separator"><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln lo"/><span class="ll bw bk lm ln"/></div><div class="ha hb hc hd he"><p id="fe1d" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">这篇文章很长，因为我想涵盖Power BI中的所有集群方法。</p><p id="9302" class="pw-post-body-paragraph jr js hh jt b ju kp jw jx jy kq ka kb kc kr ke kf kg ks ki kj kk kt km kn ko ha bi translated">希望你喜欢阅读这篇文章。更多数据分析内容请鼓掌关注我。</p><div class="lu lv ez fb lw lx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ly ab dw"><div class="lz ab ma cl cj mb"><h2 class="bd hi fi z dy mc ea eb md ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="me l"><h3 class="bd b fi z dy mc ea eb md ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mf l"><p class="bd b fp z dy mc ea eb md ed ef dx translated">medium.com</p></div></div><div class="nu l"><div class="pj l nw nx ny nu nz in lx"/></div></div></a></div></div></div>    
</body>
</html>