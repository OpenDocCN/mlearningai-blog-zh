<html>
<head>
<title>A Beginner Guide to Data Analysis with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python数据分析入门指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/a-beginner-guide-to-data-analysis-with-python-825792b5eb38?source=collection_archive---------3-----------------------#2021-09-20">https://medium.com/mlearning-ai/a-beginner-guide-to-data-analysis-with-python-825792b5eb38?source=collection_archive---------3-----------------------#2021-09-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/3f2798d187ce8b1fa8eb6ddb5e313d11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*axrlkZBV1EiryzmB.jpg"/></div><figcaption class="il im et er es in io bd b be z dx">Photo by <a class="ae ip" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Luke Chesser</a> on <a class="ae ip" href="https://unsplash.com/@lukechesser?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="aad3" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">Python是一种非常通用的编程语言，也是初学者友好的。因此，如果您对使用python这样的编程语言进行数据分析或可视化感兴趣，这篇文章正好适合您。如果您是一名经验丰富的Python程序员，希望进入数据可视化领域，那么本文也适合您。本文包含如何使用python可视化和分析数据的分步指南，本文中使用的数据集是从<a class="ae ip" href="https://www.kaggle.com/shivamb/netflix-shows" rel="noopener ugc nofollow" target="_blank"> Kaggle获得的网飞数据集。</a>要理解本文，您需要熟悉python。使用的工具和库包括Google Colaboratory、Matplotlib、Plotly、Seaborn、Numpy和Pandas。</p><h1 id="f2c4" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">步骤1:导入库</h1><p id="7621" class="pw-post-body-paragraph iq ir hh is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn ha bi translated">在笔记本中开始数据可视化之前，您应该做的第一件事是导入您将需要的库。如果您的笔记本没有安装库，您将无法导入它们。如果你使用的是Jupyter笔记本，你可以查看这篇<a class="ae ip" href="https://www.geeksforgeeks.org/install-python-package-using-jupyter-notebook/" rel="noopener ugc nofollow" target="_blank">文章</a>，了解如何在Jupyter笔记本上安装模块。Google Colaboratory安装了以下库，因此您唯一需要做的就是导入它们。你可以通过输入密码来理解。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="1ff1" class="la jp hh kw b fi lb lc l ld le">import numpy as np<br/>import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns</span><span id="6295" class="la jp hh kw b fi lf lc l ld le">%matplotlib inline</span><span id="6f27" class="la jp hh kw b fi lf lc l ld le">import warnings<br/>warnings.filterwarnings("ignore")</span></pre><h1 id="6751" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">步骤2:获取数据</h1><p id="09e6" class="pw-post-body-paragraph iq ir hh is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn ha bi translated">我使用的数据存储在我的google drive中，所以我正在将我的google drive安装到Google Colaboratory中。然后我使用pandas库读取CSV文件格式的数据。如果你的数据存储在本地存储器、GitHub或其他地方，你也可以从那里上传。如果你没有使用谷歌协作，这些代码中的一些将抛出一个错误。要上传Jupyter笔记本中的数据，您可以遵循本<a class="ae ip" href="https://tljh.jupyter.org/en/latest/howto/content/add-data.html" rel="noopener ugc nofollow" target="_blank">文档</a>中的说明。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="ad78" class="la jp hh kw b fi lb lc l ld le">from google.colab import drive<br/>drive.mount('/content/drive')<br/>path =  '/content/drive/MyDrive/SCA Dataset/netflix_titles.csv'<br/>df = pd.read_csv(path)<br/>df</span></pre><p id="f534" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您应该会得到这样的输出，显示您的数据框。</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es lg"><img src="../Images/97fb4bf766fb0170695db79d229abb14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*UaljOveZZTsUFE-T.png"/></div></div></figure><p id="ec4c" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要从Github获取数据，点击GitHub存储库中的数据集，然后点击<strong class="is hi">查看原始数据</strong>。您可以使用下面的代码:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="53de" class="la jp hh kw b fi lb lc l ld le">url = 'copied_raw_Github_link'<br/>df1 = pd.read_csv(url)<br/># Dataset from Github is now stored in a Pandas Dataframe</span></pre><p id="dde5" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要获取存储在本地存储中的数据，请首先运行以下代码:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="0176" class="la jp hh kw b fi lb lc l ld le">from google.colab import files<br/>uploaded = files.upload()</span></pre><p id="b7e7" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您将看到一个提示，要求您选择一个文件。单击“选择文件”提示，从出现的文件浏览器窗口中选择文件并上传文件。等待你的上传达到100%。您将能够看到Colab用来存储文件的名称。使用以下代码将其导入dataframe。记住要仔细检查你上传的文件名是否与Colab存储你的文件的文件名相同。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b5b3" class="la jp hh kw b fi lb lc l ld le">import io<br/>df2 = pd.read_csv(io.BytesIO(uploaded['Dataset.csv']))<br/>#Or you can just read the csv directly like the code below<br/>df2 = pd.read_csv("copy and paste the name colab saved your file as in the output shown after you have uploaded your files")<br/># Dataset from local storage is now stored in a Pandas Dataframe<br/></span></pre><h1 id="5c66" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">第三步:了解你的数据</h1><p id="495a" class="pw-post-body-paragraph iq ir hh is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn ha bi translated">让我们获取数据的行数和列数以及每列的数据类型等信息。为此，您将对数据框运行信息函数。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="b4c2" class="la jp hh kw b fi lb lc l ld le">df.info()</span></pre><p id="7fbe" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/585e9e5ae401c261b355735ce6116440.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/0*VxDQ9py6-GT-up8Z.png"/></div></figure><p id="7831" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要查看数据框的前五行:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="8b68" class="la jp hh kw b fi lb lc l ld le">df.head()<br/>#default value for the head function is 5 and you can pass in any number you want into it, try it and see.</span></pre><p id="012b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您将得到如下输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es lm"><img src="../Images/b795568344e2fd3f6ce94d9d26946073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/0*LfwedfeVVRbuxoK7.PNG"/></div></figure><p id="0e09" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要查看数值列的统计数据:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="a19e" class="la jp hh kw b fi lb lc l ld le">df.describe()<br/>#to see the statistics for all your columns try the code below<br/>df.describe(include="all")</span></pre><p id="6703" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您将得到如下所示的输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es ln"><img src="../Images/b5e173d81290d214e114ca65ab2e5fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/0*2cI8qIvt2tjsjIWQ.PNG"/></div></figure><p id="3462" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要查看每列缺失值的总数:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="7d95" class="la jp hh kw b fi lb lc l ld le">df.isnull().sum()</span></pre><p id="040d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">您的输出将如下所示:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es lo"><img src="../Images/f5265c09731f6dde832f827b64d2edad.png" data-original-src="https://miro.medium.com/v2/resize:fit:380/0*L9Fz77ufOAAAcfUo.PNG"/></div></figure><p id="6f4c" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们在导演、演员、国家、添加日期和评级列中缺少值。Director的缺失值数量最多。因此，我们将从用单词“missing”替换director和cast列中缺少的值开始。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="819e" class="la jp hh kw b fi lb lc l ld le">#filling missing rows in director column with the keyword missing<br/>df.director.fillna('missing', inplace=True)</span><span id="c558" class="la jp hh kw b fi lf lc l ld le">#filling missing rows in cast column with the keyword missing<br/>df.cast.fillna('missing', inplace=True)</span></pre><p id="35f2" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">对于cast列，我们将创建一个字典，将惟一的cast值存储为一个键，将它在数据集中出现的次数存储为一个值。这将有助于执行数据分析。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="31fa" class="la jp hh kw b fi lb lc l ld le">data = []<br/>for i in range(len(df)):<br/>    data.extend(df.cast.iloc[i].split(','))<br/>element = {}<br/>for i in data:<br/>    element[i] = data.count(i)<br/>element = sorted(element.items(), key = lambda item: item[1], reverse=True)<br/>len(set(element))</span></pre><p id="7a9a" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">这将输出元素的长度，即35373。</p><p id="2977" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">接下来，我们将填充“国家和评级”列中缺少的值，并删除“添加日期”列中缺少的值。处理数据框中缺失值的方法有多种，这只是其中一种。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="8695" class="la jp hh kw b fi lb lc l ld le">#filling missing rows in country column with the keyword missing<br/>df.country.fillna('missing', inplace=True)</span><span id="64a5" class="la jp hh kw b fi lf lc l ld le">#filling missing rows in rating column with the keyword missing<br/>df.rating.fillna('missing', inplace=True)</span><span id="b0e7" class="la jp hh kw b fi lf lc l ld le">#Dropping missing values in date_added column<br/>df.dropna(subset=['date_added'], inplace=True)</span></pre><p id="32e9" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">运行上面的代码后，您可以再次运行下面的代码，您会注意到我们所有的列现在都有相同的行数。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="264c" class="la jp hh kw b fi lb lc l ld le">df.info()</span></pre><p id="d425" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es lp"><img src="../Images/9ebff3d91b4349faa3a7f4238c63955c.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/0*-sst3saOaA4FM4UE.PNG"/></div></figure><p id="659d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们已经完成了对数据集中缺失值的处理。现在，我们继续进一步清理数据集。我们可以从数据集中提取什么数据？我们将:</p><ul class=""><li id="a89b" class="lq lr hh is b it iu ix iy jb ls jf lt jj lu jn lv lw lx ly bi translated">将date_added列拆分为月、日和年。</li><li id="6bb2" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">将listed_in列拆分为不同的类别。</li></ul><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="bab3" class="la jp hh kw b fi lb lc l ld le">#new added month column<br/>df['added_month'] = np.nan<br/>for i in range(len(df)):<br/>    df['added_month'][i] = df.date_added.iloc[i].split(' ')[0]</span><span id="872f" class="la jp hh kw b fi lf lc l ld le">#new added date column<br/>df['added_date'] = np.nan<br/>for i in range(len(df)):<br/>    df['added_date'][i] = df.date_added.iloc[i].split(' ')[1][:-1]</span><span id="469c" class="la jp hh kw b fi lf lc l ld le">#new added year column<br/>df["date_added"] = pd.to_datetime(df['date_added'])</span><span id="f6d6" class="la jp hh kw b fi lf lc l ld le">df['added_year'] = df['date_added'].dt.year</span></pre><p id="9fc9" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">因为我们已经完成了对date_added列的提取，所以可以从数据集中删除该列。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="6d25" class="la jp hh kw b fi lb lc l ld le">df.drop('date_added', axis=1, inplace=True)</span></pre><p id="10eb" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">拆分listed_in列中的值。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="8131" class="la jp hh kw b fi lb lc l ld le">#Splitting values<br/>listed_in = []<br/>for i in range(len(df)):<br/>    listed_in.extend(df.listed_in.iloc[i].split(','))</span><span id="0a74" class="la jp hh kw b fi lf lc l ld le">#counting values in the newly created dictionary<br/>listed_dic = {}<br/>for i in listed_in:<br/>    listed_dic[i] = listed_in.count(i)</span><span id="beac" class="la jp hh kw b fi lf lc l ld le">listed_dic = dict(listed_dic)</span><span id="f148" class="la jp hh kw b fi lf lc l ld le">#dropping any null values<br/>df.dropna(inplace=True)</span></pre><p id="bb71" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">需要记住的一点是，当您处理数据时，大部分时间将用于准备和清理数据。既然我们已经完成了数据清理，我们可以进入下一步。</p><h1 id="d140" class="jo jp hh bd jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl bi translated">第四步:提问/数据分析</h1><p id="92e6" class="pw-post-body-paragraph iq ir hh is b it km iv iw ix kn iz ja jb ko jd je jf kp jh ji jj kq jl jm jn ha bi translated">我们将通过分析回答的问题</p><ul class=""><li id="dd6e" class="lq lr hh is b it iu ix iy jb ls jf lt jj lu jn lv lw lx ly bi translated">上传到网飞上的不同类型的内容是什么，它们所占的比例是多少？</li><li id="a910" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">哪位导演在网飞数据集中出现的次数最多？</li><li id="572d" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">哪位导演执导的电视剧数量最高？</li><li id="6d8f" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">哪位名人出演的角色最多？</li><li id="73ca" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">内容生产的前20个国家？</li><li id="d413" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">哪一年的参赛作品数量最多？</li><li id="f924" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">网飞有哪些不同类型的评级，哪一种最受欢迎？</li><li id="d387" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">在我们的数据集中，不同流派之间的相关关系是什么？</li></ul><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="dbc4" class="la jp hh kw b fi lb lc l ld le">#To check for number of tv shows and movies that we have in our dataset<br/>content_count = df['type'].value_counts().sort_values()<br/>print(content_count)</span></pre><p id="13a8" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es me"><img src="../Images/98cb78e70cae4172ba815d3c42f5eee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/0*4U64JeRkK7Kg9goi.PNG"/></div></figure><p id="907d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要以可视化方式查看上述输出，您可以运行以下代码:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="dae8" class="la jp hh kw b fi lb lc l ld le">#Matplotlib library is used here to visualize the data<br/>plt.figure(figsize=(10,5))<br/>plt.pie(df['type'].value_counts(),labels=df['type'].value_counts().index,explode=[0.05,0],<br/>        autopct='%1.2f%%',colors=['Blue','Green'])<br/>plt.show()</span></pre><p id="f03d" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mf"><img src="../Images/630b59ea49658a368557131d2bc4c412.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/0*yHX0aXIL8KbLRGqm.PNG"/></div></figure><p id="315e" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">上面的饼图显示，我们的网飞数据集中超过一半是电影。似乎人们更喜欢电影是因为:</p><ul class=""><li id="5f8e" class="lq lr hh is b it iu ix iy jb ls jf lt jj lu jn lv lw lx ly bi translated">电影更激烈:在电视节目中，一集可以很激烈，但不是全部。相比较而言，电影比节目更激烈。一部好电影会让你粘在座位上。</li><li id="ebd5" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">他们有特效:电影有更好的特效，他们可以从电影中删除任何不必要的镜头，因为他们知道他们只有有限的时间来吸引观众的注意力。而在电视节目中，一些镜头被保留下来以延长情节，这使人们失去了兴趣。</li><li id="172d" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated"><strong class="is hi">电影更容易访问:</strong>这意味着你可以随时随地观看电影。电视节目每集都有固定的时间和日期，而所有的在线平台都让你可以随时观看电影。无论是凌晨还是半夜，一旦电影上映，就不用等剧集掉了。</li><li id="b040" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated"><strong class="is hi">电影更容易理解:</strong>每当你比较电影和电视节目时，有一个巨大的差异，就像在电影中你可以假设接下来几分钟将发生什么，并在这段时间里让你呆在座位上。但在电视节目中，几集让你想知道正在发生什么，以及在接下来的几分钟或几集里会发生什么。当你看电视节目时，它会让你像坐过山车一样。</li><li id="3ab8" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated"><strong class="is hi">电影不需要提前可视化:</strong>你需要一口气坐2个小时，电影就完成了。而对于连续剧，你需要每天或每周坐在电视机前，在等待下一集的时候，思考并试图想象接下来会发生什么。电影有助于你更好地理解故事，而且一步到位。</li><li id="2ee3" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated">许多艺术形式都可以融入其中:在电影中，你可以包含许多艺术形式，而在电视节目中，你无法让他们看到，他们也没有多少机会接触到。</li><li id="2e03" class="lq lr hh is b it lz ix ma jb mb jf mc jj md jn lv lw lx ly bi translated"><strong class="is hi">社交方面:</strong>你可以抽出时间和你的朋友一起去看电影，因为他们花的时间更少，而在电视节目中，你的朋友可能不喜欢你看的节目。你可能会感兴趣，但你的朋友不会。当然，除非你计划和你的朋友一起狂欢，这可能不像去看电影那么频繁。</li></ul><p id="7b6a" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">让我们看看导演一栏:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="d26b" class="la jp hh kw b fi lb lc l ld le">director_count = df['director'].value_counts()<br/>print(director_count)<br/>#most of the director dataset is missing</span></pre><p id="543b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mg"><img src="../Images/b49c87102caad6b7bd33f01491db7c9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/0*MhvSgIEsKta4wsVR.PNG"/></div></figure><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="c61b" class="la jp hh kw b fi lb lc l ld le">#Our top 20 common directors in the dataset<br/>df.director.value_counts()[1:20].sort_values(ascending=False).plot(kind='bar', width=0.5, color='Blue')</span></pre><p id="e9ee" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/75b88e97466dc17cdb64e8a363ebe1db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/0*V4dQn6GRpc-P98ZC.PNG"/></div></figure><p id="bd7c" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">劳尔·坎波斯和扬·苏特是最常见的导演，他们导演网飞数据集上的内容。我们还可以检查内容的类型，即他们和其他导演执导的电视节目或电影。</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="1426" class="la jp hh kw b fi lb lc l ld le">fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(20, 8))<br/>data = df.groupby('type')['director'].value_counts()['Movie'][1: 20]<br/>data = pd.DataFrame(data)<br/>ax1.bar(data.index, data.director, color='red')<br/>ax1.tick_params(labelrotation=90)<br/>ax1.set_title('Movie', fontsize=24, fontweight='bold')<br/>data2 = df.groupby('type')['director'].value_counts()['TV Show'][1: 20]<br/>data2 = pd.DataFrame(data2)<br/>ax2.bar(data2.index, data2.director, color='green')<br/>ax2.tick_params(labelrotation=90)<br/>ax2.set_title('TV Show', fontsize=24, fontweight='bold')</span></pre><p id="7ae0" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es mi"><img src="../Images/7131485b0aa126accad3e7ff31bc4168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*T8plz2WZG6cNLS4d.png"/></div></div></figure><p id="b61c" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">我们可以看到，劳尔·坎波斯和扬·苏特主要执导上传到网飞的电影，艾雷斯泰·法瑟吉尔主要执导在网飞找到的电视节目。让我们看看我们之前创建的转换字典:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="a6fa" class="la jp hh kw b fi lb lc l ld le">#dictionary of actors and how many contents they appeared in<br/>dic_element = dict(element[1:])<br/>print(dic_element)</span></pre><p id="a934" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出如下所示</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es mj"><img src="../Images/9223db8cf9aad74ad6f7132cbff3a5c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qiUqeDfnr0MKktfH.PNG"/></div></div></figure><p id="1c18" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">现在让我们想象一下上面的输出:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="1ace" class="la jp hh kw b fi lb lc l ld le">dic_element = dict(element[1:])<br/>dic_element_key = list(dic_element.keys())<br/>dic_element_value = list(dic_element.values())<br/>plt.bar(dic_element_key[:20], dic_element_value[:20], color='red')<br/>plt.xticks(rotation='vertical')</span></pre><p id="f3ae" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mk"><img src="../Images/e0eb18fcfa7b0617990adc4338e1ed63.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/0*RAyhuX4yzC8tMY3t.png"/></div></figure><p id="8836" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">阿努潘·凯尔是在网飞数据集中出现次数最多的演员。他大多出现在网飞印度电影中。我们要做的下一件事是查看这些年来内容增加的速度。在笔记本中运行以下代码:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="a488" class="la jp hh kw b fi lb lc l ld le">import plotly.graph_objects as go<br/>df_tv = df[df["type"] == "TV Show"]<br/>df_movies = df[df["type"] == "Movie"]</span><span id="ea5e" class="la jp hh kw b fi lf lc l ld le">df_content = df['added_year'].value_counts().reset_index().rename(columns = {<br/>    'added_year' : 'count', 'index' : 'added_year'}).sort_values('added_year')<br/>df_content['percent'] = df_content['count'].apply(lambda x : 100*x/sum(df_content['count']))<br/></span><span id="ae55" class="la jp hh kw b fi lf lc l ld le">df_tv1 = df_tv['added_year'].value_counts().reset_index().rename(columns = {<br/>    'added_year' : 'count', 'index' : 'added_year'}).sort_values('added_year')<br/>df_tv1['percent'] = df_tv1['count'].apply(lambda x : 100*x/sum(df_tv1['count']))<br/></span><span id="0acb" class="la jp hh kw b fi lf lc l ld le">df_movies1 = df_movies['added_year'].value_counts().reset_index().rename(columns = {<br/>    'added_year' : 'count', 'index' : 'added_year'}).sort_values('added_year')<br/>df_movies1['percent'] = df_movies1['count'].apply(lambda x : 100*x/sum(df_movies1['count']))</span><span id="3b88" class="la jp hh kw b fi lf lc l ld le">t1 = go.Scatter(x=df_movies1['added_year'], y=df_movies1["count"], name="Movies", marker=dict(color="#a678de"))<br/>t2 = go.Scatter(x=df_tv1['added_year'], y=df_tv1["count"], name="TV Shows", marker=dict(color="#6ad49b"))<br/>t3 = go.Scatter(x=df_content['added_year'], y=df_content["count"], name="Total Contents", marker=dict(color="brown"))</span><span id="f12a" class="la jp hh kw b fi lf lc l ld le">data = [t1, t2, t3]</span><span id="dddb" class="la jp hh kw b fi lf lc l ld le">layout = go.Layout(title="Content added over the years", legend=dict(x=0.1, y=1.1, orientation="h"))<br/>fig = go.Figure(data, layout=layout)<br/>fig.show()</span></pre><p id="414b" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出将是这样的，这将是一个交互式的视觉效果:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="er es ml"><img src="../Images/8896aca7fab64dfea99f52fa83d2d267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*CXZ-nxNhaSleJ3Hc.png"/></div></div></figure><p id="7da0" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">网飞最初的商业模式包括DVD销售和邮寄租赁，但在公司成立约一年后，创始人放弃了销售，专注于最初的DVD租赁业务。2007年，网飞通过引入流媒体技术扩大了业务，同时保留了DVD和蓝光租赁业务。该公司在2010年进行了国际扩张，在加拿大推出了流媒体服务，随后是拉丁美洲和加勒比海地区。网飞在2013年进入内容制作行业，推出了第一部《纸牌屋》。这大概就是2013年开始内容增长的原因。</p><p id="55ad" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">网飞电影数量的增长远高于电视节目数量的增长</p><p id="7128" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">2018年和2019年都增加了约1200部新电影。2019新增内容数量最高。我预计2020年将会增加更多内容，因为我们已经看到在那之前我们的条目一直在稳定增长，我认为2020年增加的内容会减少，因为疫情，封锁，大多数系列和电影的制作都被停止。</p><p id="e069" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">让我们看看数据集中的不同评级:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="9544" class="la jp hh kw b fi lb lc l ld le">plt.figure(figsize=(8, 10))<br/>sns.countplot(y='rating', data=df, order=df.rating.value_counts().index.to_list(), palette='dark:salmon_r')<br/>plt.title('Different Ratings', fontsize=24, fontweight='bold');</span></pre><p id="81ce" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/f478b6a6642e394cc58ae9ed8a3bcd44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/0*CTs01a01gnf6jsGz.png"/></div></figure><p id="e137" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">所以，电视马是网飞最常见的评级。这个评级是成熟的成年人，它可能是最常见的评级，因为是成年人为订阅付费。网飞最大的观众群年龄在16-34岁之间。我们看到了饼图、散点图、折线图和条形图。现在，让我们看看如何做一个相关矩阵</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="be4e" class="la jp hh kw b fi lb lc l ld le">from sklearn.preprocessing import MultiLabelBinarizer <br/>#Multilabelbinarizer allows you to encode multiple labels per instance.<br/>def relation_heatmap(df, title):<br/>    df['genre'] = df['listed_in'].apply(lambda x :  x.replace(' ,',',').replace(', ',',').split(',')) <br/>    Types = []<br/>    for i in df['genre']: Types += i<br/>    Types = set(Types)<br/>    print("There are {} types in the Netflix {} Dataset".format(len(Types),title))    <br/>    test = df['genre']<br/>    mlb = MultiLabelBinarizer()<br/>    res = pd.DataFrame(mlb.fit_transform(test), columns=mlb.classes_, index=test.index)<br/>    corr = res.corr()<br/>    mask = np.zeros_like(corr, dtype=np.bool)<br/>    mask[np.triu_indices_from(mask)] = True<br/>    fig, ax = plt.subplots(figsize=(10, 7))<br/>    pl = sns.heatmap(corr, mask=mask, cmap= "coolwarm", vmax=.5, vmin=-.5, center=0, square=True, linewidths=.7,<br/>                     cbar_kws={"shrink": 0.6})<br/>    <br/>    plt.show()</span></pre><p id="edb7" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">在下一段代码中调用我们在上面创建的函数:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fea4" class="la jp hh kw b fi lb lc l ld le">relation_heatmap(df_movies, 'Movie')</span></pre><p id="c605" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mn"><img src="../Images/04b82d08ae40ca1284b96ec899e1f30b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/0*yXXoNWYD9cS2amRI.png"/></div></figure><p id="7c52" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">戏剧和纪录片的负面关系是显著的。对于独立电影和国际电影，我们看到的是一种中性的相关性。科幻与幻想和动作与冒险之间有很强的相关性。负关系意味着两种类型一起出现的概率很低，而正关系意味着两种类型一起出现的概率很高，即它们一起出现。</p><p id="48fb" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">要查看电视节目的关联热图:</p><pre class="kr ks kt ku fd kv kw kx ky aw kz bi"><span id="fde6" class="la jp hh kw b fi lb lc l ld le">relation_heatmap(dfs_tv, 'TV Show')</span></pre><p id="d045" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">输出:</p><figure class="kr ks kt ku fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/b5c4147edf23fb8b525b8dbbf06453cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/0*oQHnQK19kiWKHHSD.png"/></div></figure><p id="1b1e" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">儿童电视和国际电视节目之间的负面关系是显著的。这可能意味着这两种类型不在一起。自然科学和文学之间有很强的正相关性。这可能意味着大多数科学和自然题材也是文学作品。</p><p id="a807" class="pw-post-body-paragraph iq ir hh is b it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn ha bi translated">作为参考，这是一个<a class="ae ip" href="https://colab.research.google.com/drive/1vv0Xz_tHMD1eLO6h1zXndbjffE-uuMZp?usp=sharing" rel="noopener ugc nofollow" target="_blank">链接</a>到我的谷歌合作笔记本，你会发现我在里面做的完整分析。数据可视化是数据分析的一个非常重要的部分，它还可以帮助您直观地讲述数据的故事。感谢您的阅读，请在评论区留言。</p></div></div>    
</body>
</html>