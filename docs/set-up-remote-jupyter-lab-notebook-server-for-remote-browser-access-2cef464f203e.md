# è®¾ç½®ç”¨äºæµè§ˆå™¨è®¿é—®çš„è¿œç¨‹ Jupyter å®éªŒå®¤/ç¬”è®°æœ¬æœåŠ¡å™¨

> åŸæ–‡ï¼š<https://medium.com/mlearning-ai/set-up-remote-jupyter-lab-notebook-server-for-remote-browser-access-2cef464f203e?source=collection_archive---------0----------------------->

![](img/9bd6b1814a809a77d60624e671df8ea2.png)

Photo by [Erik Witsoe](https://unsplash.com/@ewitsoe?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

ä½œä¸ºä¸€åæœºå™¨å­¦ä¹ å‘çƒ§å‹ï¼Œæ‚¨å¾ˆå¯èƒ½ä¼šåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä½¿ç”¨ Jupyter Lab æˆ– Jupyter ç¬”è®°æœ¬ç”µè„‘æ¥å¤„ç†æ‚¨çš„æ•°æ®å¹¶åŸ¹è®­æ‚¨çš„æ¨¡å‹ã€‚ç„¶è€Œï¼Œé€šå¸¸æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„è®¡ç®—æœºä¸å¤Ÿå¼ºå¤§ï¼Œæ— æ³•å¤„ç†å¤§é‡çš„è®¡ç®—è´Ÿè½½ï¼Œå¦‚æ·±åº¦ç¥ç»ç½‘ç»œã€åºå¤§çš„æ•°æ®é›†ç­‰ã€‚å› æ­¤ï¼Œåœ¨è¿œç¨‹æœºå™¨ä¸Šè¿è¡Œä»£ç æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œç¬¬ä¸€æ­¥æ˜¯å»ºç«‹ Jupyter å®éªŒå®¤æˆ–ç¬”è®°æœ¬ç”µè„‘ã€‚

å·²ç»æœ‰è®¸å¤šåœ¨çº¿æ–¹æ³•æ¥è¿œç¨‹è®¾ç½®æ‚¨çš„ Jupyter Lab æˆ–ç¬”è®°æœ¬ç”µè„‘ï¼Œä½†å…¶ä¸­è®¸å¤šæ–¹æ³•éœ€è¦ä½¿ç”¨å¤æ‚çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·å¾ˆå¯èƒ½ä¸ä¼šåœ¨ä¸åŒå¹³å°ä¸Šé€šç”¨ï¼Œæˆ–è€…ä¼šå¯¼è‡´å…¶ä»–æœªçŸ¥é—®é¢˜ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºä¸€ç§ä¸å¤ªæµè¡Œçš„æ–¹æ³•ï¼Œå³ä»…ä½¿ç”¨å†…ç½®é…ç½®åœ¨ 20 åˆ†é’Ÿå†…è®¾ç½®æ‚¨çš„è¿œç¨‹ Jupyter Labã€‚

# ç›®å½•

[ğŸ”¥](#563b)
å®‰è£…[ğŸ”¥åˆ›å»ºé…ç½®æ–‡ä»¶](#a528)
[ğŸ”¥é…ç½®](#d9b8)
[ğŸ”¥å¯åŠ¨ jupyter lab/ç¬”è®°æœ¬](#2606)
âˆ˜ [æ„Ÿè°¢æ”¶çœ‹ï¼:)](#a9a6)
[é™„å½•](#16d4)

# ğŸ”¥è£…ç½®

é¦–å…ˆï¼Œæ‚¨éœ€è¦é€šè¿‡ SSH è¿æ¥æ‚¨çš„æœåŠ¡å™¨ã€‚æœ¬æ–‡ä¸ä¼šå¯¹æ­¤è¿›è¡Œæ‰©å±•ã€‚

è¿æ¥åï¼Œ**æ›´æ–°**ç³»ç»Ÿï¼Œç¡®è®¤ python å’Œ pip å®‰è£…æ­£ç¡®ã€‚æˆ‘ä½¿ç”¨çš„æ˜¯ Ubuntu 20.04ï¼Œæˆ‘çš„ python ç‰ˆæœ¬æ˜¯ **3.8.10** ã€‚è¦æ›´æ–° Ubuntuï¼Œæ‚¨å¯ä»¥

```
sudo apt update
sudo apt upgrade
sudo apt-get update
sudo apt-get upgrade
```

ç°åœ¨ï¼Œæ‚¨å·²ç»å‡†å¤‡å¥½å®‰è£… Jupyter å®éªŒå®¤æˆ–ç¬”è®°æœ¬ç”µè„‘äº†ã€‚ç”±äº Jupyter Lab æ—¥ç›Šæµè¡Œï¼Œæœ¬æ–‡å°†ä»¥ Jupyter Lab ä¸ºä¾‹ã€‚è¦å®‰è£…ç¬”è®°æœ¬ï¼Œåœ¨æœ¬æ–‡çš„æ‰€æœ‰å‘½ä»¤ä¸­ï¼Œæ‚¨é€šå¸¸åªéœ€è¦ç”¨ç¬”è®°æœ¬æ›¿æ¢ labã€‚è¦ä½¿ç”¨ pip3 å®‰è£…ä¸æ‚¨çš„ç³»ç»Ÿå…¼å®¹çš„æœ€æ–° Jupyter Lab ç‰ˆæœ¬ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œ

```
pip3 install jupyterlab
```

å¦‚æœä½ æ²¡æœ‰ç‚¹ 3ï¼Œé‚£å°±åšå§

```
sudo apt install python3-pip
```

ä½ ä»¬éƒ½ä¸ºä¸‹ä¸€æ­¥åšå¥½äº†å‡†å¤‡ï¼

# ğŸ”¥åˆ›å»ºé…ç½®æ–‡ä»¶

æ‚¨é¦–å…ˆéœ€è¦ç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬å°†æ¥ä¼šåœ¨é…ç½®æ–‡ä»¶ä¸­å†™å…¥æˆ‘ä»¬çš„é…ç½®ã€‚(åŒæ ·ï¼Œå¯¹äº Jupyter ç¬”è®°æœ¬ï¼Œè¯·åœ¨ä¸‹é¢ç”¨ç¬”è®°æœ¬æ›¿æ¢å®éªŒå®¤)

```
jupyter lab --generate-config
```

å¦‚æœæ‚¨æƒ³è®¾ç½®å¯†ç é€šè¿‡æµè§ˆå™¨è®¿é—®æ‚¨çš„å®éªŒå®¤ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ­¥éª¤(å¯é€‰ï¼Œä½†å»ºè®®)

```
jupyter lab password
```

é€šå¸¸-generate-config å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ª **jupyter_lab_config.py** æ–‡ä»¶åˆ°ä½ çš„ä¸»ç›®å½•çš„**ã€‚jupyter** æ–‡ä»¶å¤¹ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å°†åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ä½¿ç”¨ json æ–‡ä»¶ï¼Œè¿™æ›´å®¹æ˜“å¤„ç†ã€‚è¦è®¿é—®/åˆ›å»ºå®ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ nano(å¦‚æœæ‚¨çš„ç³»ç»Ÿæœ‰å®ƒçš„è¯)è¿™ä¸ªå‘½ä»¤å…¼å®¹äº Jupyter Lab å’Œ Jupyter ç¬”è®°æœ¬

```
nano /home/ubuntu/.jupyter/jupyter_server_config.json
```

å¦‚æœæ‚¨å·²ç»è®¾ç½®äº†å¯†ç ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€ä¸ª json æ ¼å¼çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æ‚¨çš„æ•£åˆ—å¯†ç ã€‚

# ğŸ”¥å®‰è£…ËŒä½¿æˆå½¢

åœ¨æ‚¨çš„ json æ–‡ä»¶ä¸­å¡«å†™ä»¥ä¸‹å†…å®¹ã€‚è®°ä½ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå¯†ç æ”¾åœ¨ä½ çš„å¯†ç ã€‚(*é…ç½®å…¼å®¹ jupyter lab å’Œ jupyter notebook*

```
{  
  "NotebookApp": {
    "password": "YOUR ENCRYPTED PASSWORD IS HERE",
    "allow_remote_access":true,
    "ip":"*",
    "port":80,
    "allow_root":true
  }
}
```

è¿™é‡Œï¼Œ **allow_remote_access** å’Œ **ip** å‚æ•°ä¼šç»™ä½ è¿œç¨‹è®¿é—®çš„æƒé™ã€‚è®¾ç½® ip=*æ˜¯è‡³å…³é‡è¦çš„ï¼Œè¿™æ„å‘³ç€å®éªŒå®¤å°†ç›‘å¬æ‰€æœ‰ ip åœ°å€å¹¶æ¬¢è¿å®ƒä»¬çš„è¿æ¥ã€‚å‚æ•° **allow_root** å°†å…è®¸æ‚¨ä»¥ root æƒé™è¿è¡Œæ‚¨çš„ç¬”è®°æœ¬ï¼Œå› æ­¤æ‚¨å¯ä»¥ç›‘å¬ç«¯å£ 80ã€‚

ä¹‹åï¼ŒæŒ‰ **control+xï¼Œyï¼Œ**å’Œ **Enter** é€€å‡ºå¹¶ä¿å­˜æ–‡ä»¶ã€‚ç°åœ¨ï¼Œjupyter ç«¯å·²ç»é…ç½®å¥½äº†ã€‚

å‡ ä¸ªå¿«é€Ÿæ³¨é‡Š:

*   å¯¹äºç«¯å£ï¼Œ80 åªèƒ½åœ¨ root æƒé™ä¸‹è®¿é—®ã€‚é»˜è®¤ç«¯å£æ˜¯ 8888ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨ã€‚
*   å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨äº‘æœåŠ¡ï¼Œè¯·è®°ä½è¿˜è¦é…ç½®å®‰å…¨ç»„ä»¥å…è®¸æ¥è‡ªæ‚¨çš„ IP åœ°å€çš„æ‰€æœ‰å…¥ç«™å’Œå‡ºç«™è¿æ¥ï¼Œè¿™æ ·æ‚¨å°±å¯ä»¥è¿œç¨‹è®¿é—®æœåŠ¡å™¨ã€‚å¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ **ufw** å‘½ä»¤æ¥é…ç½®å®‰å…¨ç­–ç•¥ã€‚

# ğŸ”¥å¯åŠ¨ Jupyter å®éªŒå®¤/ç¬”è®°æœ¬

ç°åœ¨ä½ ä¸€åˆ‡éƒ½å‡†å¤‡å¥½äº†ã€‚è¦ä½¿ç”¨ Jupyter Lab / Notebookï¼Œåªéœ€åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å³å¯ã€‚

```
jupyter lab
```

ä½†æ˜¯ï¼Œç”±äºåœ¨æ‚¨å…³é—­ SSH ä¼šè¯åï¼Œjupyter lab è¿›ç¨‹ä¹Ÿä¼šè‡ªåŠ¨æš‚åœï¼Œæ‚¨å¯ä»¥åœ¨ jupyter lab å‘½ä»¤å‰æ·»åŠ æ­¤å‘½ä»¤ï¼Œä½¿ jupyter lab åœ¨åå°è¿è¡Œï¼Œå› æ­¤åœ¨å…³é—­ç»ˆç«¯ä¼šè¯åï¼Œæ‚¨ä¸å¿…æ‹…å¿ƒè¿›ç¨‹ä¹Ÿä¼šç»ˆæ­¢ã€‚

```
nohup jupyter lab > output.txt
```

æˆ‘ä»¬é€šå¸¸ä¼šåšä»€ä¹ˆ:

```
sudo -E env "PATH=$PATH" jupyter lab --allow-root --collaborative
```

*   sudo å·²å¯ç”¨ï¼Œå› æ­¤ jupyter å¯ä»¥ç›‘å¬ç«¯å£ 80
*   **-E env "PATH=$PATH"** ç”¨äºé˜²æ­¢ç¯å¢ƒè¢« sudo å‘½ä»¤æä¹±
*   **â€”å¦‚æœæ‚¨æƒ³ä½¿ç”¨ sudoï¼Œallow-root** å‘½ä»¤æ˜¯å¿…ä¸å¯å°‘çš„
*   **â€”åä½œ**å‘½ä»¤æ”¯æŒä¸å…¶ä»–äººçš„å®æ—¶åä½œã€‚

è‡³æ­¤ï¼Œå¿«é€Ÿæ•™ç¨‹å®Œæˆï¼ä½ å¯ä»¥æ‰“å¼€ä½ çš„æµè§ˆå™¨ï¼Œè¾“å…¥æœåŠ¡å™¨çš„ ip åœ°å€(å¦‚æœä½ éœ€è¦çš„è¯ï¼Œå¸¦ç«¯å£)ï¼Œå®ƒåº”è¯¥ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚

## **æ„Ÿè°¢è§‚çœ‹ï¼:)**

# é™„å½•

è¿™é‡Œæœ‰ä¸€äº›å¿«é€Ÿç¬”è®°

è¦æŸ¥çœ‹ jupyter æœåŠ¡å™¨çš„è¿›ç¨‹ IDï¼Œå› ä¸ºæ‚¨ä¹‹å‰ä½¿ç”¨äº† **nohup** ï¼Œè¯·é”®å…¥

```
ps -ax|grep jupyter
```

è¦åœæ­¢å®ƒï¼Œåªéœ€ä½¿ç”¨**æ€æ­»**å‘½ä»¤

```
kill [jupyter ID]
```

å¯ç”¨æ‰©å±•åŠŸèƒ½(åœ¨æœ€æ–°ç‰ˆæœ¬ä¸­æ— éœ€æ‰‹åŠ¨æ“ä½œ)

```
sudo pip3 install -e jupyter_contrib_nbextensions
jupyter contrib nbextension install --user
```

[](/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb) [## Mlearning.ai æäº¤å»ºè®®

### å¦‚ä½•æˆä¸º Mlearning.ai ä¸Šçš„ä½œå®¶

medium.com](/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb)