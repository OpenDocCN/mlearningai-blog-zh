<html>
<head>
<title>Art of Choosing Metrics in Supervised Models Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">监督模型中选择度量标准的艺术第2部分</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/art-of-choosing-metrics-in-supervised-models-part-2-f0956576e0e3?source=collection_archive---------9-----------------------#2022-02-07">https://medium.com/mlearning-ai/art-of-choosing-metrics-in-supervised-models-part-2-f0956576e0e3?source=collection_archive---------9-----------------------#2022-02-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/ddcc1cbc45c62a7935ba8a1933f25080.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*csxJXcMgsrcOje8spIz1kA.jpeg"/></div></figure><p id="e7f4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">幸运的是，过了一段时间，我又在这里写作了。在之前的<a class="ae jj" href="https://towardsdatascience.com/art-of-choosing-metrics-in-supervised-models-part-1-f960ae46902e" rel="noopener" target="_blank">帖子</a>中，我描述了一些回归问题最常用的评估指标。现在是分类问题的时候了。大家可能都知道，分类问题是处理离散数据的问题。</p><p id="bc2b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">评估是在数据集上拟合模型的最后一部分。如果您处于这一步，这意味着您实际上已经完成了特征工程(选择或提取)、训练-测试分割、查找和拟合模型以及训练，做得很好。恭喜你。您处于最后一步，是时候根据测试数据评估您的模型的结果了。有多种评估指标可应用于分类算法，下面列出了最常用的评估指标:</p><p id="ccd4" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> <em class="jk">混淆矩阵<br/>精确回忆<br/> F1评分<br/>准确度<br/> AUC — ROC曲线</em> </strong></p><p id="be45" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这些是众所周知的评估机器学习算法性能的指标。让我们深入了解每一款产品的内幕。</p><h1 id="e12f" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">混淆矩阵</h1><p id="d178" class="pw-post-body-paragraph il im hh in b io kj iq ir is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ha bi translated">混淆矩阵是分析分类模型性能的最强大也是最容易的度量之一，该分类模型的输出可能是两个或多个类。混淆矩阵本身不是一个度量标准；但是，我们可以从中提取一些有价值的指标:精度、召回率等。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ko"><img src="../Images/169aac851d76143e48fffed5a8f93443.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*bIx39Qxf2uJuVF2iFnc8kw.jpeg"/></div></figure><p id="ef6b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">让我们通过一个众所周知的通常用于描述混淆矩阵的二进制分类示例来更好地认识它，我指的是妊娠测试示例:</p><p id="8d16" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><em class="jk"> 1:患者怀孕<br/> 0:患者未怀孕</em></p><p id="6d28" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">因此，现在我们有一个表格，其中包含实际值和预测值的四种组合，作为混淆矩阵:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es kt"><img src="../Images/15c445c30a65b332e83c9818a84ffbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxvHG4w_qMxXlxEnd0WJ2g.jpeg"/></div></div><figcaption class="ky kz et er es la lb bd b be z dx"><a class="ae jj" href="https://neeraj-kumar-vaid.medium.com/statistical-performance-measures-12bad66694b7" rel="noopener">Source</a></figcaption></figure><p id="6973" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">好了，是时候搞清楚术语TP，FP，TN，FN是什么意思了:</p><p id="ced8" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> TP(真阳性):</strong>表示<em class="jk">算法预测你怀孕了，你就是。</em>实际上，TP意味着你的分类模型确实预测为阳性。在这个例子中，当模型预测妇女怀孕时，TP发生。</p><p id="ed19" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> FP(假阳性):</strong>表示<em class="jk">算法预测你怀孕了，而你没有。</em>在示例中，当模型预测该男子怀孕时发生FP，这意味着模型错误地预测为阳性。</p><p id="80fb" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> TN(真阴性):</strong>表示<em class="jk">算法预测你没有怀孕，实际上你也没有。<br/> </em> TN表示分类模型预测的真实阴性。在这个例子中，当模型预测该男子没有怀孕时，TN发生。</p><p id="056a" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> FN(假阴性):</strong>表示<em class="jk">算法预测你没有怀孕，但实际上你怀孕了。<br/> </em> FN表示分类模型在预测负面时出错。在这个例子中，当模型预测妇女没有怀孕，但我们知道她怀孕了，FN就出现了。</p><h1 id="65eb" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">精确召回</h1><p id="2736" class="pw-post-body-paragraph il im hh in b io kj iq ir is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ha bi translated">精确度和召回率都是从混淆矩阵中建立的。通过考虑由混淆矩阵获得的真实肯定率，精确度和召回率的公式如下:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="er es lc"><img src="../Images/0bcda017c2f6c24483b2024acc157fd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*NbYXFM08X-lUpFScl3P_pw.png"/></div></div></figure><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/1af6a1ee28807f5ea41a16f861d7a345.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*G81rh4ZI7WxKDEa7yiIgzw.png"/></div></figure><p id="b02e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">显而易见，精度是正确预测的阳性数据与所有阳性数据的比率(在一个类别中)，而召回是正确预测的阳性数据与正确预测的阳性数据和错误预测的阴性数据之和的比率(在一个类别中)。为了更清楚起见，让我们考虑一下之前的怀孕例子:</p><p id="76d7" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">精度:</strong>这里的精度是指正确预测女方怀孕的数值与预测女方怀孕和男方怀孕的数值之和。</p><p id="170b" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi">回忆:</strong>在这个例子中，回忆将把正确预测的妇女怀孕的值表示为正确预测的妇女怀孕和错误预测的妇女没有怀孕的总和。</p><h1 id="fa13" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated"><strong class="ak">精度</strong></h1><p id="1b11" class="pw-post-body-paragraph il im hh in b io kj iq ir is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ha bi translated">根据经验，精确度可以立即告诉我们一个模型是否被正确地训练，以及它的一般表现如何，与应用于属于某个类的变量的精确度和召回相比，精确度告诉我们正确预测的变量与在两个类中完成的分类数量的比率。因此，我们可以通过这样说来理解这个例子中的意思:</p><p id="76fc" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">这里，准确度等于所有预测的正确率(无论算法预测男人生病<strong class="in hi">还是女人怀孕</strong>)。</p><p id="c35f" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">然而，它没有给出关于其在该问题上的应用的详细信息。使用准确性作为你的主要性能指标的问题是，当你有一个严重不平衡的类时，它不会做得很好。</p><h1 id="58de" class="jl jm hh bd jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki bi translated">AUC-ROC曲线</h1><p id="f34b" class="pw-post-body-paragraph il im hh in b io kj iq ir is kk iu iv iw kl iy iz ja km jc jd je kn jg jh ji ha bi translated">这种方法也被称为AUROC。当涉及到检查多类分类器的性能时，这种度量是一个明智的选择，因为它为您提供了模型性能的视觉感知。ROC ( <strong class="in hi">接收器操作特性</strong>)是概率曲线，AUC ( <strong class="in hi">曲线下面积)</strong>表示可分离性的程度或度量。AUC越高，模型识别类别的能力越强。</p><p id="1fd3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> ROC </strong></p><p id="f13e" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">ROC曲线表示相对于假阳性率的真阳性率，因此它突出了分类器模型的敏感性。一个完美的分类器有一个ROC，其中该图的真实阳性率为1，并且没有假阳性。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es le"><img src="../Images/3d6b9318e74ccf3d19107f0dab74710e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/0*3l5DkXUouaV_t7BH.png"/></div><figcaption class="ky kz et er es la lb bd b be z dx"><a class="ae jj" rel="noopener" href="/the-owl/evaluation-metrics-part-3-47c315e07222">Source</a></figcaption></figure><p id="2b81" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">因此，ROC曲线可用于确定分类器的阈值，最大化真阳性并进而最小化假阳性。ROC曲线帮助您找出使用不同阈值度量的模型的真阳性率和假阳性率之间的权衡。</p><p id="30a3" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated"><strong class="in hi"> AUC </strong></p><p id="63e2" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">AUC告诉我们，我们的分类器对随机选取的阳性样本的排序高于随机选取的阴性样本的排序的概率。曲线下的区域为分类器提供了区分类别的能力，并用作ROC曲线的汇总。AUC越高，假定模型在区分阳性和阴性类别方面的性能越好。</p><p id="5eed" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">在这篇文章中，我简要介绍了一些用于评估分类器(离散数据)的常用评估指标。还有许多其他指标(如对数损失等)，您可以根据您的模型和数据集的一些内在特征(分布、缺失值、有偏标签)来使用它们。</p><p id="4c98" class="pw-post-body-paragraph il im hh in b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ha bi translated">感谢您的阅读！</p><div class="lf lg ez fb lh li"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lj ab dw"><div class="lk ab ll cl cj lm"><h2 class="bd hi fi z dy ln ea eb lo ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lp l"><h3 class="bd b fi z dy ln ea eb lo ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lq l"><p class="bd b fp z dy ln ea eb lo ed ef dx translated">medium.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw ij li"/></div></div></a></div></div></div>    
</body>
</html>