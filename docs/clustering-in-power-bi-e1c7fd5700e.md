# ç”µåŠ›å•†ä¸šæ™ºèƒ½ä¸­çš„é›†ç¾¤

> åŸæ–‡ï¼š<https://medium.com/mlearning-ai/clustering-in-power-bi-e1c7fd5700e?source=collection_archive---------0----------------------->

![](img/5e6689397a0a623eb67032099e528cac.png)

Clustering Example

# â“ä»€ä¹ˆæ˜¯é›†ç¾¤ï¼Ÿ

èšç±»åˆ†ææ˜¯ä¸€ç§è¯†åˆ«æ•°æ®é›†ä¸­ç›¸ä¼¼æ•°æ®ç»„çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä½¿å¾—åŒä¸€ç»„(ç§°ä¸ºèšç±»)ä¸­çš„å¯¹è±¡å…·æœ‰ç›¸åŒçš„å±æ€§ã€‚

èšç±»æ˜¯æ— ç›‘ç£å­¦ä¹ ï¼Œå› ä¸ºä¸éœ€è¦æ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ ‡ç­¾ã€‚

**é›†ç¾¤çš„ç”¨ä¾‹**åŒ…æ‹¬:

*   å¼‚å¸¸æ£€æµ‹ï¼Œå¦‚æ¬ºè¯ˆæ£€æµ‹ã€æ£€æµ‹æœ‰ç¼ºé™·çš„æœºæ¢°é›¶ä»¶
*   å‡ºäºè¥é”€ç›®çš„çš„å®¢æˆ·ç»†åˆ†
*   Rideshare æ•°æ®åˆ†æ

# ğŸ›£ï¸èšç±»æ–¹æ³•

1.ç”µåŠ›å•†ä¸šæ™ºèƒ½ä¸­çš„è‡ªåŠ¨èšç±»

*   äºŒç»´:æ•£ç‚¹å›¾
*   å¤šç»´:è¡¨æ ¼

2.Python/R

*   å½¢è±¡åŒ–
*   è½¬æ¢

# ğŸ“¥æ£€ç´¢æ•°æ®

æˆ‘å°†ä½¿ç”¨çš„æ•°æ®é›†æ˜¯å•†åœºå®¢æˆ·ç»†åˆ†æ•°æ®ã€‚å®ƒåŒ…å«å…³äºå•†åº—é¡¾å®¢çš„åŸºæœ¬æ•°æ®ï¼Œå¦‚é¡¾å®¢ IDã€å¹´é¾„ã€æ€§åˆ«ã€å¹´æ”¶å…¥å’Œæ¶ˆè´¹åˆ†æ•°ã€‚

 [## ä½ çš„æ•°æ®ç§‘å­¦ä¹‹å®¶

### Kaggle æ˜¯ä¸–ç•Œä¸Šæœ€å¤§çš„æ•°æ®ç§‘å­¦ç¤¾åŒºï¼Œæ‹¥æœ‰å¼ºå¤§çš„å·¥å…·å’Œèµ„æºæ¥å¸®åŠ©æ‚¨å®ç°æ‚¨çš„æ•°æ®â€¦

www.kaggle.com](https://www.kaggle.com/datasets/vjchoudhary7/customer-segmentation-tutorial-in-python/download?datasetVersionNumber=1) 

ä¸‹è½½æ•°æ®åï¼Œè·å– csv æ•°æ®ä»¥å¯åŠ¨ BIã€‚

æ¥ä¸‹æ¥ï¼Œæ‚¨å°†çœ‹åˆ° Power BI ä¸­çš„ 3 ç§é›†ç¾¤æ–¹æ³•

# ğŸ§©æ–¹æ³• power bi ä¸­çš„è‡ªåŠ¨èšç±»

è¿™æ˜¯æœ€ç®€å•çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€äº›é™åˆ¶ã€‚

é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä¸º 2 ä¸ªå‚æ•°/ç»´åº¦æ‰§è¡Œèšç±»

## äºŒç»´:æ•£ç‚¹å›¾

åœ¨å³ä¾§çš„å¯è§†åŒ–å¹³é¢ä¸­ï¼Œå•å‡»æ•£ç‚¹å›¾å›¾æ ‡ã€‚

![](img/3f58f726a1348b93f746512c3267dc16.png)

å¦‚ä¸‹æ‰€ç¤ºï¼Œå°† 3 ä¸ªå‚æ•°æ‹–åˆ°å¯è§†åŒ–å­—æ®µä¸­(è¿™äº›å€¼æ˜¯èšç±»æ‰€å¿…éœ€çš„ï¼ï¼).åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘å°†æ ¹æ®å¹´é¾„å’Œå¹´æ”¶å…¥å¯¹æ•°æ®è¿›è¡Œèšç±»ã€‚

![](img/e491e8e719f1bbb88ffa8d902264ea5a.png)

å°†ç”Ÿæˆä¸€ä¸ªæ•£ç‚¹å›¾ã€‚

![](img/8279e5f2027136ba7743fc51b14dcdab.png)

ç‚¹å‡»æ•£ç‚¹å›¾è§’ä¸Šçš„ä¸‰ç‚¹å›¾æ ‡(é€šå¸¸åœ¨å³ä¸Šè§’)å¹¶é€‰æ‹©**è‡ªåŠ¨æŸ¥æ‰¾é›†ç¾¤**ã€‚

![](img/b66379d0ea59444a878fe9006c0a0fa6.png)

åœ¨å¼¹å‡ºæ¡†ä¸­ï¼Œæ‚¨å¯ä»¥å‘½åæ‚¨çš„é›†ç¾¤å¹¶é€‰æ‹©é›†ç¾¤çš„æ•°é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä¸ä¼šé€‰æ‹©é›†ç¾¤çš„æ•°é‡ï¼Œè€Œæ˜¯è®© Power BI æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚

![](img/4f719742e32797bf88654315b6796318.png)

æ•°æ®è¢«åˆ†æˆ 3 ä¸ªç»„ï¼ŒPower BI è®¤ä¸ºè¿™æ˜¯æœ€ä½³ç»„æ•°ã€‚æ¯ä¸ªèšç±»éƒ½ç”¨å®ƒçš„é¢œè‰²æ¥è¡¨ç¤ºã€‚æ‚¨å¯ä»¥çœ‹åˆ°ï¼ŒåŒä¸€ä¸ªç¾¤é›†ä¸­çš„å®¢æˆ·å½¼æ­¤é è¿‘ã€‚

![](img/5e6689397a0a623eb67032099e528cac.png)

æ–°çš„èšç±»å‚æ•°ä¼šåœ¨å›¾ä¾‹å­—æ®µä¸­è‡ªåŠ¨åˆ›å»ºã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨è¯¥å‚æ•°è¿›è¡Œè¿›ä¸€æ­¥åˆ†æã€‚

![](img/3d1ff6854dea5d5295f49a7aa7e9a1fe.png)

> T é‚£ä¹ˆï¼Œå¦‚æœä½ æƒ³èšç±»è¶…è¿‡ 2 ä¸ªå‚æ•°/ç»´åº¦å‘¢ï¼Ÿæ‚¨å¯èƒ½æ— æ³•åƒæ•£ç‚¹å›¾ä¸€æ ·å°†å…¶å¯è§†åŒ–ï¼Œä½†æ‚¨å¯ä»¥åœ¨è¡¨æ ¼ä¸­åšåˆ°è¿™ä¸€ç‚¹ã€‚

## å¤šç»´:è¡¨æ ¼

é¦–å…ˆï¼Œå•å‡»å¯è§†åŒ–æ•ˆæœå¹³é¢ä¸­çš„è¡¨æ ¼å›¾æ ‡ã€‚

![](img/1abefc53e7549128abd3bd6acfad2a3f.png)

å°†è¦èšç±»çš„å‚æ•°æ‹–åˆ°å€¼å­—æ®µä¸­ã€‚

![](img/a44615773d693fbe91e9f82d09ad4de0.png)

å°†åˆ›å»ºä¸€ä¸ªè¡¨ã€‚

![](img/e94a3d27b36a6e06e7480b6ffc95cb7b.png)

é‡å¤ä¸æ•£ç‚¹å›¾ç›¸åŒçš„æ­¥éª¤(**è‡ªåŠ¨å¯»æ‰¾é›†ç¾¤)**ã€‚

![](img/b567254efe5cfe30afb23e4798c46fe3.png)

æå®šäº†ã€‚ï¼èšç±»å®Œæˆã€‚

## é™åˆ¶

*   èšç±»ä¸ä¼šåœ¨æ•°æ®åˆ·æ–°æ—¶æ›´æ–°ã€‚æ–°æ•°æ®å°†è¿›å…¥ç©ºç™½ç°‡ã€‚
*   æ‚¨å¿…é¡»å¤„ç†ä¸¢å¤±çš„å€¼å¹¶ç¼©æ”¾è¿™äº›å€¼ï¼Œä»¥ä¾¿æ¯ä¸ªå‚æ•°éƒ½å…·æœ‰ç›¸åŒçš„èŒƒå›´ã€‚
*   Power BI ä¸­ä½¿ç”¨çš„èšç±»ç®—æ³•æ˜¯[å¯ä¼¸ç¼© EM ç®—æ³•](https://docs.microsoft.com/en-us/analysis-services/data-mining/microsoft-clustering-algorithm-technical-reference?view=asallproducts-allversions)(æ„Ÿè°¢ [Calvin Nurge](https://medium.com/u/e1fa33879a95?source=post_page-----e1c7fd5700e--------------------------------) æä¾›å‚è€ƒ)ã€‚å®ƒå¯èƒ½åœ¨æŸäº›ç±»å‹çš„æ•°æ®ä¸Šè¡¨ç°ä¸ä½³ï¼Œå¹¶ä¸”æ‚¨æ— æ³•è°ƒæ•´å®ƒã€‚

# ğŸ¤–æ–¹æ³• 2: Python/R

è¿™ç§æ–¹æ³•å¯èƒ½æ›´å¤æ‚ï¼Œä½†æ›´çµæ´»ã€‚æ‚¨å¯ä»¥ç¼–å†™ Python æˆ– R ä»¥ä»»ä½•æ–¹å¼æ‰§è¡Œé›†ç¾¤ã€‚

ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œå¯ä»¥åœ¨æœ‰æ–°æ•°æ®æ—¶åˆ·æ–°åˆ†ç±»ï¼Œå¹¶ä¸”å¯ä»¥è°ƒæ•´åˆ†ç±»ç®—æ³•ã€‚

åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åªå‘æ‚¨å±•ç¤º Python æ–¹æ³•ã€‚ç„¶è€Œï¼ŒR å®ç°ä¸ Python å¹¶æ²¡æœ‰å¤ªå¤§çš„ä¸åŒã€‚

> ä½ å¯ä»¥åœ¨ä¸‹é¢é˜…è¯»å¦‚ä½•åœ¨ Power BI ä¸­ä½¿ç”¨ Pythonã€‚

[](/mlearning-ai/python-in-power-bi-66a80590ecc0) [## Python åœ¨ Power BI ä¸­çš„åº”ç”¨

### é€šè¿‡é›†æˆ Python å¢å¼º Power BI ä»ªè¡¨æ¿çš„åŠŸèƒ½ã€‚ä¸€æ­¥ä¸€æ­¥åœ°ä½¿ç”¨ Python æ¥è·å–ã€è½¬æ¢å’Œâ€¦

medium.com](/mlearning-ai/python-in-power-bi-66a80590ecc0) 

> å¦‚æœä½ è®¾ç½®å®Œ Pythonï¼Œæˆ‘ä»¬å°±å¼€å§‹é›†ç¾¤å§ã€‚

ä½¿ç”¨ Python æ‰§è¡Œèšç±»æœ‰ä¸¤ç§æ–¹å¼:å¯è§†åŒ–å’Œè½¬æ¢ã€‚

# ğŸ“Šå½¢è±¡åŒ–

> ä½¿ç”¨ Python å¯è§†åŒ–å°†åœ¨ä»ªè¡¨ç›˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾è¡¨ã€‚ç”¨è¿™ç§æ–¹æ³•ï¼Œä½ ä¼šæœ‰ä¸€ä¸ªé›†ç¾¤å›¾ï¼Œå¯ä»¥ç”¨ Python ä»£ç è°ƒæ•´è¿™ä¸ªå›¾ï¼Œä½†æ˜¯ä½ **ä¸èƒ½åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨é›†ç¾¤**ã€‚

åœ¨å¯è§†åŒ–å¹³é¢ä¸­ï¼Œå•å‡» Py å›¾æ ‡(Python çš„ç¼©å†™)ã€‚

![](img/3a34c0e7124238dbba064b30aa02f66c.png)

æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªç©ºçš„ Python è„šæœ¬ç¼–è¾‘å™¨åŒºåŸŸã€‚é€‰æ‹©è¦å¯è§†åŒ–çš„åˆ—(æœ¬ä¾‹ä¸­ä¸ºå¹´æ”¶å…¥å’Œæ”¯å‡ºåˆ†æ•°)ã€‚

![](img/0cfd2659cd118c0045c57a0d21ce1545.png)

ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç©ºçš„ç¼–ç åŒºã€‚å†™ä¸‹é¢çš„ä»£ç ã€‚

**1ã€‚å¯¼å…¥åº“**

```
from sklearn.cluster import KMeansimport matplotlib.pyplot as plt
```

**2ã€‚æ‰§è¡Œ K å‡å€¼èšç±»**

å¯¹å¹´æ”¶å…¥å’Œæ”¯å‡ºåˆ†æ•°è¿›è¡Œèšç±»ã€‚

åˆ†æˆ 5 ç»„ã€‚

ä½¿ç”¨ fit_predict æ‰§è¡Œèšç±»åˆ†æã€‚

```
X = dataset[['Annual Income (k$)','Spending Score (1-100)']]kmeansmodel = KMeans(n_clusters= 5, init='k-means++', random_state=0)y_kmeans = kmeansmodel.fit_predict(X)
```

**3ã€‚å¯è§†åŒ–**

åˆ›å»ºä¸€ä¸ªæ•£ç‚¹å›¾å’Œé¢œè‰²çš„é›†ç¾¤ã€‚

```
plt.scatter(X.iloc[y_kmeans == 0, 0], X.iloc[y_kmeans == 0, 1], s = 100, c = 'tomato', label = 'Cluster 1')plt.scatter(X.iloc[y_kmeans == 1, 0], X.iloc[y_kmeans == 1, 1], s = 100, c = 'dodgerblue', label = 'Cluster 2')plt.scatter(X.iloc[y_kmeans == 2, 0], X.iloc[y_kmeans == 2, 1], s = 100, c = 'palegreen', label = 'Cluster 3')plt.scatter(X.iloc[y_kmeans == 3, 0], X.iloc[y_kmeans == 3, 1], s = 100, c = 'violet', label = 'Cluster 4')plt.scatter(X.iloc[y_kmeans == 4, 0], X.iloc[y_kmeans == 4, 1], s = 100, c = 'sandybrown', label = 'Cluster 5')plt.scatter(kmeansmodel.cluster_centers_[:, 0], kmeansmodel.cluster_centers_[:, 1], s = 300, c = 'yellow', label = 'Centroids')plt.title('Clusters of customers')plt.xlabel('Annual Income (k$)')plt.ylabel('Spending Score (1-100)')plt.legend()plt.show()
```

å›¾è¡¨å¦‚ä¸‹æ‰€ç¤ºã€‚

![](img/40b64cd83182efa88f9203fcad48ba99.png)

ä¸€æ—¦æœ‰äº†æ–°çš„æ•°æ®ï¼Œè¿™ä¸ªå›¾è¡¨å°±ä¼šæ›´æ–°ã€‚

# ğŸ”„è½¬æ¢

è¿™ç§æ–¹æ³•æ˜¯æœ€çµæ´»çš„ã€‚æ‚¨å°†åœ¨æ•°æ®è½¬æ¢æ­¥éª¤ä¸­æ‰§è¡Œèšç±»ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ä»ªè¡¨æ¿ä¸­ä½¿ç”¨ç”Ÿæˆçš„èšç±»ã€‚

1.  å•å‡»è½¬æ¢æ•°æ®

![](img/fcb4e17fa63f0341cd3437d059db0618.png)

2.é€‰æ‹©è¦è½¬æ¢çš„æŸ¥è¯¢

![](img/a6ff9ceac6f2f00bf6797b0f239f279d.png)

3.åœ¨å˜æ¢é€‰é¡¹å¡ä¸­ï¼Œå•å‡»è¿è¡Œ Python è„šæœ¬

![](img/ee63bc9d0fd400372fd89bef059ece47.png)

4.æ‚¨å°†çœ‹åˆ°ä¸€ä¸ªæ–°çš„è¿è¡Œ Python è„šæœ¬çª—å£ã€‚å¤åˆ¶ä¸‹é¢çš„ä»£ç ï¼Œç„¶åå•å‡»â€œç¡®å®šâ€ã€‚

```
from sklearn.cluster import KMeans
import matplotlib.pyplot as pltX = dataset[['Annual Income (k$)','Spending Score (1-100)']]
kmeansmodel = KMeans(n_clusters= 5, init='k-means++', random_state=0)
dataset['Cluster'] = kmeansmodel.fit_predict(X)
```

è¿™æ®µä»£ç å°†è¿è¡Œ K-mean å¹¶åˆ›å»º 5 ä¸ªèšç±»ã€‚å°†åˆ›å»ºä¸€ä¸ªæ–°åˆ—â€œClusterâ€æ¥å­˜å‚¨ç”Ÿæˆçš„åˆ†ç±»ã€‚

5.ç»“æœå°†æ˜¯ä¸€ä¸ªè¡¨æ ¼ã€‚å•å‡»ä»¥å±•å¼€è¡¨æ ¼ã€‚ç¡®ä¿æœªé€‰ä¸­â€œä½¿ç”¨åŸå§‹åˆ—åä½œä¸ºå‰ç¼€â€ã€‚

![](img/102578c23550c0cba87379191bf3252c.png)![](img/fb17549b76144d456b9969aba16cde46.png)

6.è€¶ï¼ï¼å°†åˆ›å»ºåˆ†ç±»åˆ—ã€‚è¯¥åˆ—çš„èŒƒå›´ä¸º 0â€“4ï¼Œå³æ­¥éª¤ 4 ä¸­æŒ‡å®šçš„ 5 ä¸ªåˆ†ç±»ã€‚

![](img/1f6995f2fc61d173dff73c039ec66d1f.png)

7.å•å‡»ä¸»é¡µé€‰é¡¹å¡ä¸­çš„å…³é—­å¹¶åº”ç”¨ã€‚

![](img/39c31b6cdff3aa77d2b66db4c6fc7801.png)

âš ï¸ç¡®ä¿åœ¨èšç±»ä¹‹åï¼Œå°†åˆ—æ›´æ”¹ä¸ºé€‚å½“çš„ç±»å‹ã€‚

å½“æ‚¨åˆ·æ–°æ•°æ®æ—¶,â€œåˆ†ç±»â€åˆ—å°†è‡ªåŠ¨åˆ·æ–°ã€‚

æ‚¨å¯ä»¥åœ¨ä»ªè¡¨æ¿çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨è¯¥é›†ç¾¤å‚æ•°ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå®ƒå°†è¢«ç”¨ä½œå›¾ä¾‹æˆ–è¿‡æ»¤å™¨ã€‚

è¿™ç¯‡æ–‡ç« å¾ˆé•¿ï¼Œå› ä¸ºæˆ‘æƒ³æ¶µç›– Power BI ä¸­çš„æ‰€æœ‰é›†ç¾¤æ–¹æ³•ã€‚

å¸Œæœ›ä½ å–œæ¬¢é˜…è¯»è¿™ç¯‡æ–‡ç« ã€‚æ›´å¤šæ•°æ®åˆ†æå†…å®¹è¯·é¼“æŒå…³æ³¨æˆ‘ã€‚

[](/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb) [## Mlearning.ai æäº¤å»ºè®®

### å¦‚ä½•æˆä¸º Mlearning.ai ä¸Šçš„ä½œå®¶

medium.com](/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb)