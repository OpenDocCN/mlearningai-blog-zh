<html>
<head>
<title>Earthquakes Data Visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">地震数据可视化</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/earthquakes-data-visualization-5da0d2abeea1?source=collection_archive---------0-----------------------#2021-09-30">https://medium.com/mlearning-ai/earthquakes-data-visualization-5da0d2abeea1?source=collection_archive---------0-----------------------#2021-09-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2020" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">用Python和Plotly制作动画</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/9fd37e90965d020026363b56fb80657b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uVA28fMDjUD6OMVF"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">Photo by <a class="ae js" href="https://unsplash.com/@cedric?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Cédric Dhaenens</a> on <a class="ae js" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="ad1b" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">介绍</h1><p id="81f1" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">地震是地壳中储存的能量突然释放产生地震波的结果。根据美国地质勘探局的说法，地震是当地球的两个板块突然滑过彼此时发生的。两个块体滑动的表面称为断层或断层面。美国地质勘探局跟踪危险数据，并每分钟更新一次。数据以<code class="du kw kx ky kz b">CSV</code>格式存储。</p><p id="ce8e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这个博客中，我们将学习如何在世界或特定区域的基础上可视化地震数据。我们还将学习基于<code class="du kw kx ky kz b">time</code>因素的可视化过程动画。</p><h1 id="91b2" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">数据源</h1><p id="95dd" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">美国地质调查局是数据的主要来源。它是众所周知的各种灾害管理系统，包括地震，洪水，火山爆发等。地震数据分为四类。</p><ul class=""><li id="0505" class="la lb hh ig b ih ii il im ip lc it ld ix le jb lf lg lh li bi translated"><a class="ae js" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_hour.csv" rel="noopener ugc nofollow" target="_blank">每小时</a> →每分钟更新一次</li><li id="b043" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><a class="ae js" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv" rel="noopener ugc nofollow" target="_blank">每日</a> →每分钟更新</li><li id="a832" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><a class="ae js" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_week.csv" rel="noopener ugc nofollow" target="_blank">每周</a> →每分钟更新一次</li><li id="2a29" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><a class="ae js" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_month.csv" rel="noopener ugc nofollow" target="_blank">每月</a> →每分钟更新一次</li></ul><blockquote class="lo lp lq"><p id="5b65" class="ie if lr ig b ih ii ij ik il im in io ls iq ir is lt iu iv iw lu iy iz ja jb ha bi translated">对于该项目，我们将只考虑每日、每周和每月的数据。</p></blockquote><p id="0197" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">来源— <a class="ae js" href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/csv.php" rel="noopener ugc nofollow" target="_blank"> USGS电子表格格式</a>。在这个链接中，您可以找到更多的详细信息，如列名和列描述。</p><p id="07f3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用这些实时流数据，我们可以开发一个实时更新的<a class="ae js" href="http://earthquake-tracking-system.herokuapp.com/" rel="noopener ugc nofollow" target="_blank">仪表盘</a>(也许我会在下一次讲述)。</p><h1 id="805e" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">履行</h1><p id="bab4" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">如果你想得到视频解释，你可以看下面的视频和一些额外的细节。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="lv lw l"/></div></figure><h2 id="f2d5" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated"><code class="du kw kx ky kz b">import</code>套餐</h2><p id="531a" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">像往常一样，我们从导入对这个项目至关重要的包开始。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="788e" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">数据操作</h2><p id="5ffc" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">在数据中，几乎有<code class="du kw kx ky kz b">22</code>列，其中大部分是<code class="du kw kx ky kz b">NaN</code>。只有地震研究者才知道它的重要性。为了可视化，我们将只考虑<code class="du kw kx ky kz b">5</code>列。</p><ol class=""><li id="cb57" class="la lb hh ig b ih ii il im ip lc it ld ix le jb mm lg lh li bi translated"><strong class="ig hi">时间</strong> →用于显示可视化过程的动画。</li></ol><ul class=""><li id="e06e" class="la lb hh ig b ih ii il im ip lc it ld ix le jb lf lg lh li bi translated"><strong class="ig hi"> <em class="lr">月度</em> </strong> →如果提取月度数据，我们将从<code class="du kw kx ky kz b">time</code>列提取日期。</li><li id="669f" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><strong class="ig hi"> <em class="lr">每周</em> </strong> →如果提取每周数据，我们将从<code class="du kw kx ky kz b">time</code>列提取工作日。</li><li id="db50" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><strong class="ig hi"> <em class="lr">每日</em> </strong> →如果提取每日数据，我们将从<code class="du kw kx ky kz b">time</code>列提取小时(数字)。</li></ul><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><p id="f6f1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">2.<strong class="ig hi">纬度</strong> →用于在地图上绘制地震位置。</p><p id="2a26" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">3.<strong class="ig hi">经度</strong> →用于在地图上绘制地震位置。</p><p id="a50b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">4.<strong class="ig hi"> mag </strong> →用于根据地震的震级表示标记的大小。</p><p id="3e29" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">5.<strong class="ig hi">放置</strong> →有助于可视化全球或特定区域的数据。</p><ul class=""><li id="88d5" class="la lb hh ig b ih ii il im ip lc it ld ix le jb lf lg lh li bi translated"><code class="du kw kx ky kz b">place</code>栏由<code class="du kw kx ky kz b">sub area</code>和<code class="du kw kx ky kz b">main area</code>组成。必须对其进行分割，以便可视化与特定区域(主要区域)相关的数据。</li></ul><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="3a0e" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">数据获取和预处理</h2><p id="c2a3" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">下面是执行上述操作后获取预处理数据的函数。默认情况下，它获取全球范围内的数据。</p><p id="d019" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该函数采用<code class="du kw kx ky kz b">3</code>参数，例如-</p><ul class=""><li id="8510" class="la lb hh ig b ih ii il im ip lc it ld ix le jb lf lg lh li bi translated"><strong class="ig hi">方式</strong> →参数值应为<code class="du kw kx ky kz b">daily</code>、<code class="du kw kx ky kz b">weekly</code>和<code class="du kw kx ky kz b">monthly</code>中的一个。默认情况下，该值为<code class="du kw kx ky kz b">daily</code>。</li><li id="c863" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><strong class="ig hi"> bbox </strong> →实际上是一个边界框参数，根据传递的值过滤数据。默认情况下，该值为<code class="du kw kx ky kz b">Worldwide</code>。</li><li id="68b2" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><strong class="ig hi"> mag_thresh </strong> →该值是一个幅度阈值，采用整数值或浮点值。基于此，对数据进行过滤。默认为<code class="du kw kx ky kz b">2</code>。</li></ul><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="51ce" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">数据可视化</h2><p id="4152" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">一旦获取了数据，我们将可视化观察数据模式。数据应绘制在地图上(<strong class="ig hi">雄蕊-地形</strong>)。我们将使用Plotly来简化可视化过程。</p><p id="58a0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此有了下面的函数。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure></div><div class="ab cl mn mo go mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ha hb hc hd he"><h1 id="6341" class="jt ju hh bd jv jw mu jy jz ka mv kc kd ke mw kg kh ki mx kk kl km my ko kp kq bi translated">全世界的</h1><p id="ee63" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">让我们看看<code class="du kw kx ky kz b">Worldwide</code>数据的动画。</p><h2 id="3bdc" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每天</h2><p id="ae7a" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是根据<strong class="ig hi">小时</strong>(数字)创建的。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="a74c" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每周一次</h2><p id="d952" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是在<strong class="ig hi">工作日</strong>的基础上创作的。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="8e54" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每月一次</h2><p id="4a60" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是根据<strong class="ig hi">日期</strong>制作的。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h1 id="54a3" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq bi translated">特定区域</h1><p id="0946" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">让我们看看基于<code class="du kw kx ky kz b">Area</code>的数据的动画。</p><h2 id="31bb" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每天</h2><p id="5b10" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是根据<strong class="ig hi">小时</strong>创建的(仅与传递的<code class="du kw kx ky kz b">bbox</code>值相关)。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="0735" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每周一次</h2><p id="22c5" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是根据<strong class="ig hi">工作日</strong>创建的(仅与传递的<code class="du kw kx ky kz b">bbox</code>值相关)。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure><h2 id="7701" class="lx ju hh bd jv ly lz ma jz mb mc md kd ip me mf kh it mg mh kl ix mi mj kp mk bi translated">每月一次</h2><p id="da7e" class="pw-post-body-paragraph ie if hh ig b ih kr ij ik il ks in io ip kt ir is it ku iv iw ix kv iz ja jb ha bi translated">动画是基于<strong class="ig hi">日期</strong>创建的(仅与传递的<code class="du kw kx ky kz b">bbox</code>值相关)。随意放大和缩小地图。</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ml lw l"/></div></figure></div><div class="ab cl mn mo go mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="ha hb hc hd he"><p id="54a9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">好了，这篇文章就到这里。你可以在下面的链接中找到我的作品。</p><ul class=""><li id="f750" class="la lb hh ig b ih ii il im ip lc it ld ix le jb lf lg lh li bi translated"><a class="ae js" href="https://jovian.ai/msameeruddin/earthquakes-animations" rel="noopener ugc nofollow" target="_blank">笔记本</a></li><li id="d861" class="la lb hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated"><a class="ae js" href="https://www.kaggle.com/mohammedsameeruddin/earthquake-animations" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li></ul><p id="1f67" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你也可以订阅我的时事通讯来获取这些独家内容。谢谢大家。</p><p id="3248" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结束</strong></p></div></div>    
</body>
</html>