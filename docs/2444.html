<html>
<head>
<title>Realtime Data Availability By Kafka</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Kafka的实时数据可用性</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/realtime-data-ingestion-with-kafka-b2deb6d0fb57?source=collection_archive---------2-----------------------#2022-05-03">https://medium.com/mlearning-ai/realtime-data-ingestion-with-kafka-b2deb6d0fb57?source=collection_archive---------2-----------------------#2022-05-03</a></blockquote><div><div class="dt gw gx gy gz ha"/><div class="hb hc hd he hf"><h2 id="8e4b" class="hg hh hi bd b fq hj hk hl hm hn ho dy hp translated" aria-label="kicker paragraph">数据工程</h2><div class=""/><div class=""><h2 id="62fc" class="pw-subtitle-paragraph io hr hi bd b ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf dy translated">用Kafka引擎分离OLTP和OLAP层</h2></div><p id="40f8" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><a class="ae kc" href="https://kafka.apache.org/" rel="noopener ugc nofollow" target="_blank"> Apache Kafka </a>是一个用于构建实时流数据管道和应用程序的开源平台。许多<a class="ae kc" href="https://kafka.apache.org/powered-by#:~:text=Today%2C%20Kafka%20is%20used%20by,strategies%20with%20event%20streaming%20architecture." rel="noopener ugc nofollow" target="_blank">公司</a>在其数据流和分析产品中使用它。Kafka是LinkedIn为他们的活动流和新闻源开发的，但他们后来开源供公众使用。这个博客提供了Kafka实时数据处理的概要。</p><p id="a2d6" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">首先，Kafka是一个事件流平台。</p><blockquote class="kd ke kf"><p id="1947" class="jg jh kg ji b jj jk is jl jm jn iv jo kh jq jr js ki ju jv jw kj jy jz ka kb hb bi translated">什么是事件流？</p></blockquote><p id="33a3" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这是一种通过众多物联网设备和应用程序实时捕获/处理数据的能力。</p><p id="7f5c" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">Kafka结合了事件流的三个关键功能:</p><ol class=""><li id="7649" class="kk kl hi ji b jj jk jm jn jp km jt kn jx ko kb kp kq kr ks bi translated">为了<strong class="ji hs">发布</strong>(写)和<strong class="ji hs">订阅</strong>(读)事件流，包括从其他系统持续导入/导出您的数据。</li><li id="9fdd" class="kk kl hi ji b jj kt jm ku jp kv jt kw jx kx kb kp kq kr ks bi translated"><strong class="ji hs">持久可靠地存储</strong>事件流，时间不限。</li><li id="2a97" class="kk kl hi ji b jj kt jm ku jp kv jt kw jx kx kb kp kq kr ks bi translated"><strong class="ji hs">在事件发生时或事后处理</strong>系列事件。</li></ol><p id="6c18" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了简化卡夫卡做的事情，我们假设你正在Hotstar这样的体育流媒体平台上观看板球比赛。作为一名观众，在比赛过程中，你会看到直播视频、直播统计数据和其他信息图表，如社交媒体聊天、游戏、广告和重要集锦。</p><figure class="kz la lb lc fe ld es et paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="es et ky"><img src="../Images/f9f77ac0ec15ed0f090569d13ab5e3fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pxkzv-vPLovDKLMY_T5jVA.png"/></div></div><figcaption class="lk ll eu es et lm ln bd b be z dy">Hotstar Streaming</figcaption></figure><p id="e481" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">你从Hotstar那里得到了所有的信息。它做所有的中间工作。从A到Z，你对信息的接收方式感到满意。这一切都因卡夫卡而成为可能。Hotstar通过向您提供直播视频、存储数据和同时处理直播数据来提供统计数据和其他精彩内容，即使在比赛结束后也可以访问，从而对上述所有要点进行检查。</p><blockquote class="kd ke kf"><p id="2dd7" class="jg jh kg ji b jj jk is jl jm jn iv jo kh jq jr js ki ju jv jw kj jy jz ka kb hb bi translated">这一切是怎么发生的？</p></blockquote><p id="dac2" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">为了理解这一点，让我们放大到Hotstar。但在此之前，我们先来看一下这个视频，了解一下OLTP和OLAP系统及其区别</p><figure class="kz la lb lc fe ld"><div class="bz dz l di"><div class="lo lp l"/></div></figure><p id="86c9" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">现在让我们看看下面简化的流程</p><figure class="kz la lb lc fe ld es et paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="es et lq"><img src="../Images/b13cf00f53c34907de73d3ceb900a020.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GsIqMc1KrnoGthaOVpSAGw.png"/></div></div><figcaption class="lk ll eu es et lm ln bd b be z dy">Inside Hotstar</figcaption></figure><p id="289d" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">OLTP层为您提供实时提要，OLAP层为您提供统计数据和其他数据。需要注意的一点是，所有这些都是实时发生的。喂视频直播是一回事，喂数据直播是另一回事。处理庞大的数据非常耗时，所有这一切不可能在几秒钟内完成。那么会发生什么呢？我们正在研究一个涉及将算法应用于大量数据的问题。这些数据可以是平面文件、聊天消息或视频文件。</p><blockquote class="kd ke kf"><p id="ce77" class="jg jh kg ji b jj jk is jl jm jn iv jo kh jq jr js ki ju jv jw kj jy jz ka kb hb bi translated">那么这是如何实时发生的呢？</p></blockquote><figure class="kz la lb lc fe ld es et paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="es et lr"><img src="../Images/0d1b96ed7912fde2b730b54a32b35a2a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WXh1WKMZZtSGquIilrO9IQ.png"/></div></div><figcaption class="lk ll eu es et lm ln bd b be z dy">Kafka for separating OLTP and OLAP</figcaption></figure><p id="cd05" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">当数据进入仓库时，Kafka将像一辆公共汽车一样向不同的系统传递消息。部署了一个名为Kafka Connect的进程，将数据复制到Kafka集群，并将其发送到其他源。每当新数据到达Kafka集群时，Kafka Connect Producer作业将发送数据(以KB大小的小数据包形式)。当数据到达Kafka集群时，类似的Kafka连接接收器作业会将数据发送到OLTP和OLAP系统。</p><p id="1aba" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">接收进程仅将数据分别发送到OLTP和OLAP层。现在剩下的问题是在这个平台上看到的统计数据？</p><p id="6bb8" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">这通过两种方式实现:实时和历史</p><blockquote class="kd ke kf"><p id="c6c6" class="jg jh kg ji b jj jk is jl jm jn iv jo kh jq jr js ki ju jv jw kj jy jz ka kb hb bi translated">实时</p></blockquote><p id="fd93" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">实时数据处理可以使用一种叫做Kafka Stream的服务来完成。并非所有数据都是实时处理所必需的。Kafka stream可以设置为提取重要数据，并运行推荐的算法和查询。流将直接从集群中提取数据。</p><blockquote class="kd ke kf"><p id="9317" class="jg jh kg ji b jj jk is jl jm jn iv jo kh jq jr js ki ju jv jw kj jy jz ka kb hb bi translated">（有关）历史的</p></blockquote><p id="bcc7" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">所有数据也可以被发送到一个单独的数据库，用于运行一组复杂的人工智能、人工智能作业和分析查询。然后，这可以以仪表板和指标的形式进行处理和可视化。请注意，这里只有数据复制是实时的；处理需要时间来确定结果、因素和预测。实时数据只是处理这些数据的一个子集。</p><p id="daa9" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">上面的Kafka引擎可以通过在任何系统上部署Kafka来复制。无论系统是内部部署还是云部署，Kafka都可以在所有系统上使用。它的开源和它的一种形式存在于像AWS，Azure和Google云平台这样的主要云上。</p><p id="1e87" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated">页（page的缩写）s:以上流程是Kafka引擎和实时数据流平台的极度简化版本。并不是所有的都是实时的，使用卡夫卡。阅读更多关于Hotstar如何做到这一点的信息</p><p id="ae0d" class="pw-post-body-paragraph jg jh hi ji b jj jk is jl jm jn iv jo jp jq jr js jt ju jv jw jx jy jz ka kb hb bi translated"><a class="ae kc" rel="noopener" href="/hotstar/ingesting-data-at-bharat-scale-36615cbb4294">摄取“Bharat”等级的数据。我们写了一个摄取API，可以摄取… |作者Bhavesh Raheja |迪士尼+Hotstar(medium.com)</a></p><div class="ls lt fa fc lu lv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lw ab dx"><div class="lx ab ly cl cj lz"><h2 class="bd hs fj z dz ma eb ec mb ee eg hr bi translated">Mlearning.ai提交建议</h2><div class="mc l"><h3 class="bd b fj z dz ma eb ec mb ee eg dy translated">如何成为Mlearning.ai上的作家</h3></div><div class="md l"><p class="bd b fq z dz ma eb ec mb ee eg dy translated">medium.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj li lv"/></div></div></a></div></div></div>    
</body>
</html>