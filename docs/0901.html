<html>
<head>
<title>Install Multiple Tensorflow Versions in One Machine with Conda</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Conda在一台机器上安装多个Tensorflow版本</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/install-multiple-tensorflow-versions-in-one-machine-with-conda-ee4bee19844c?source=collection_archive---------3-----------------------#2021-08-17">https://medium.com/mlearning-ai/install-multiple-tensorflow-versions-in-one-machine-with-conda-ee4bee19844c?source=collection_archive---------3-----------------------#2021-08-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="b2df" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">更加专业地管理您的项目。</h2></div><p id="e353" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当然，所有的程序员都是从非常基本的代码行和简单的项目开始学习编程的，我相信我们大多数人过去都忽略或不理解虚拟环境的重要性。由于我们应该每天提高我们的编程技能，我们的项目确实在扩展。然后，我们可以感受到使用虚拟环境进行管理的必要性。您在自己的机器上使用Tensorflow 1.x顺利完成项目，但您的老板只是希望您在同一台愚蠢的机器上实施另一个需要Tensorflow 2.x支持的项目，这种情况解释了为什么我们需要使用虚拟环境管理我们的项目。为此，Conda作为开源环境管理系统推出，可以帮助您安装多个版本的软件包及其依赖项，并且可以轻松地在它们之间进行切换。在这篇文章中，我将帮助你使用Conda安装多个运行不同版本CUDA和cuDNN的环境。</p><figure class="jt ju jv jw fd jx er es paragraph-image"><div role="button" tabindex="0" class="jy jz di ka bf kb"><div class="er es js"><img src="../Images/f92c54656689d5abe801c251fdc5e4d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iuLfhfLsp2el9hvt"/></div></div><figcaption class="ke kf et er es kg kh bd b be z dx">Photo by <a class="ae ki" href="https://unsplash.com/@soubhagya23?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Soubhagya Ranjan Maharana</a> on <a class="ae ki" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="6e4c" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">安装康达</h1><h2 id="bd65" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第一步:</h2><p id="5c65" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">我假设您的机器上没有下载conda bash脚本，那么登录到您的服务器并导航到/tmp目录，然后执行:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="d067" class="lb kk hh lv b fi lz ma l mb mc">cd /tmp<br/>curl -O <a class="ae ki" href="https://repo.anaconda.com/archive/Anaconda3-2019.03-Linux-x86_64.sh" rel="noopener ugc nofollow" target="_blank">https://repo.anaconda.com/archive/Anaconda3-2019.03-Linux-x86_64.sh</a></span></pre><h2 id="bfbf" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第二步:</h2><p id="257b" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">使用SHA-256校验和验证安装程序:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="44e0" class="lb kk hh lv b fi lz ma l mb mc">$ sha256sum Anaconda3-2019.03-Linux-x86_64.sh</span></pre><p id="e832" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">输出应该类似于:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="3b25" class="lb kk hh lv b fi lz ma l mb mc">45c851b7497cc14d5ca060064394569f724b67d9b5f98a926ed49b834a6bb73a  Anaconda3-2019.03-Linux-x86_64.sh</span></pre><h2 id="b6f1" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第三步:</h2><p id="17e0" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">运行conda bash脚本:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="5799" class="lb kk hh lv b fi lz ma l mb mc">$ bash Anaconda3–2019.03-Linux-x86_64.sh</span></pre><p id="8352" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当您收到(1)许可协议条款，(2)默认安装位置的建议(如果需要，您可以指定另一个位置)，以及(3)使用<em class="md"> conda </em>命令的建议时，请按回车键。</p><p id="9a99" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我希望您会收到一条消息，通知安装至此已完成。</p><h2 id="2c7c" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第四步:</h2><p id="ea70" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">激活安装:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="6c6d" class="lb kk hh lv b fi lz ma l mb mc">$ source ~/.bashrc</span></pre><h2 id="cd07" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第五步:</h2><p id="d915" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">测试安装:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="11b1" class="lb kk hh lv b fi lz ma l mb mc">$ conda list</span></pre><h1 id="9ee4" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">创建环境和安装包</h1><p id="803a" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">假设您想要安装Tensorflow-GPU 1.14、CUDA 10.0和cuDNN 7.6.5的组合(请参考此<a class="ae ki" href="https://www.tensorflow.org/install/source#gpu" rel="noopener ugc nofollow" target="_blank">兼容性表</a>以了解正确的安装，注意我们不必完全遵循该表，您可以有不同的组合，只要您知道它可以在没有任何暂停的情况下工作)。</p><h2 id="04b9" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第一步:</h2><p id="64e8" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">用一个特定的python版本创建一个新环境<em class="md">iamsamed</em>(在这个例子中假设是<em class="md"> python3.6 </em>)，然后激活它:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="0be0" class="lb kk hh lv b fi lz ma l mb mc">$ conda create -n iamhandsome python=3.6<br/>$ conda activate iamhandsome</span></pre><h2 id="1126" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">第二步:</h2><p id="fca9" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">安装Tensorflow-GPU 1.14、CUDA 10.0和cuDNN 7.6.5:</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="2988" class="lb kk hh lv b fi lz ma l mb mc">(iamhandsome)$ conda install cudatoolkit=10.0<br/>(iamhandsome)$ conda install cudnn=7.6.5<br/>(iamhandsome)$ pip install tensorflow-gpu==1.14</span></pre><p id="4e01" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在让你的项目完成！如果你顺利到达这里，你可能会明白为什么我把这个环境命名为“我帅”。</p><h1 id="f3a0" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">别的东西</h1><ol class=""><li id="5798" class="me mf hh iy b iz lp jc lq jf mg jj mh jn mi jr mj mk ml mm bi translated">获取康达版本</li></ol><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="faf0" class="lb kk hh lv b fi lz ma l mb mc">$ conda -V</span></pre><p id="a4e1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.列出您已经安装的所有环境</p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="7a8f" class="lb kk hh lv b fi lz ma l mb mc">$ conda info --envs</span></pre><p id="125f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.移除一个环境<em class="md">一个</em></p><pre class="jt ju jv jw fd lu lv lw lx aw ly bi"><span id="6bcc" class="lb kk hh lv b fi lz ma l mb mc">$ conda env remove --name A</span></pre><h1 id="aa30" class="kj kk hh bd kl km kn ko kp kq kr ks kt in ku io kv iq kw ir kx it ky iu kz la bi translated">结论</h1><p id="e3de" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">在这篇文章中，我已经向大家介绍了使用Conda安装不同版本CUDA和cuDNN的虚拟环境的步骤。</p><p id="27f7" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">欢迎读者访问我的脸书粉丝页，这是一个分享关于机器学习的东西的页面:<a class="ae ki" href="https://www.facebook.com/diveintomachinelearning" rel="noopener ugc nofollow" target="_blank">深入机器学习</a>。</p><p id="2079" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">感谢您抽出时间！</p><h2 id="7613" class="lb kk hh bd kl lc ld le kp lf lg lh kt jf li lj kv jj lk ll kx jn lm ln kz lo bi translated">参考</h2><p id="7802" class="pw-post-body-paragraph iw ix hh iy b iz lp ii jb jc lq il je jf lr jh ji jj ls jl jm jn lt jp jq jr ha bi translated">[1]<a class="ae ki" href="https://www.digitalocean.com/community/tutorials/how-to-install-anaconda-on-ubuntu-18-04-quickstart" rel="noopener ugc nofollow" target="_blank">https://www . digital ocean . com/community/tutorials/how-to-install-anaconda-on-Ubuntu-18-04-quick start</a></p><p id="b443" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">[2]<a class="ae ki" href="https://stackoverflow.com/questions/64811841/tensorflow-1-15-cuda-cudnn-installation-using-conda" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/64811841/tensor flow-1-15-cuda-cud nn-installation-using-conda</a></p></div></div>    
</body>
</html>