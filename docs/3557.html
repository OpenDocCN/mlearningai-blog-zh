<html>
<head>
<title>Using saved XGBoost models in Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Java中使用保存的XGBoost模型</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/using-saved-xgboost-models-in-java-6bd8632d3fa1?source=collection_archive---------8-----------------------#2022-09-19">https://medium.com/mlearning-ai/using-saved-xgboost-models-in-java-6bd8632d3fa1?source=collection_archive---------8-----------------------#2022-09-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="2765" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">几周前，我在<a class="ae jc" rel="noopener" href="/@anantsinha9811/saving-xgboost-models-as-files-using-python-e06514308ef">上发布了一篇文章</a>，描述了如何将Python中创建的XGBoost模型保存为文件。</p><p id="2ef7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Python非常适合构建ML模型，但是在资源有限的系统上安装大型ML库可能不可行。您可能还必须处理现有的栈和环境，其中模型可能必须以不同的语言加载。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es jd"><img src="../Images/e33a2bc5ee1897647b7b4e59eda4faa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZwvIVDgrwDf3lhPof7vbZQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Schematic diagram of a boosted ensemble of decision trees. Credit: <a class="ae jc" href="https://www.researchgate.net/publication/325632132_Energy-Efficient_Classification_for_Resource-Constrained_Biomedical_Applications" rel="noopener ugc nofollow" target="_blank">Energy-Efficient Classification for Resource-Constrained Biomedical Applications</a></figcaption></figure><p id="1ec7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">XGBoost在线文档提供了使用Maven安装必要库的步骤，但是在这里使用Gradle要简单得多。请遵循以下步骤:</p><h2 id="728f" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">步骤1:基本安装</h2><p id="4321" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">确保您安装了Java和IntelliJ。我们用的是亚马逊Corretto 17版本。</p><h2 id="a9c8" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">步骤2:使用以下项目配置创建一个新项目</h2><ol class=""><li id="977c" class="kt ku hh ig b ih ko il kp ip kv it kw ix kx jb ky kz la lb bi translated">语言:“Java”(废话)</li><li id="48d9" class="kt ku hh ig b ih lc il ld ip le it lf ix lg jb ky kz la lb bi translated">生成系统:“IntelliJ”</li><li id="cbc3" class="kt ku hh ig b ih lc il ld ip le it lf ix lg jb ky kz la lb bi translated">JDK:“亚马逊科雷托17”</li><li id="382c" class="kt ku hh ig b ih lc il ld ip le it lf ix lg jb ky kz la lb bi translated">格雷迪DSL:“科特林”</li></ol><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lh"><img src="../Images/8c81535be187fff068163537a7a06475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8W6PB9xsn-LG-lbnKySvQ.png"/></div></div></figure><h2 id="5644" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">第三步:修改<em class="li"> gradle.properties </em></h2><p id="7971" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">你的项目根目录应该有一个<em class="lj"> gradle.properties </em>文件。如果它还不存在，请创建它。我们将使用这个文件来指定我们库的所需版本。截至2022年9月，以下版本有效:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h2 id="f708" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">第四步:修改<em class="li"> build.gradle.kts </em></h2><p id="ae9a" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">在文件中声明变量<em class="lj"> scalarBinaryVersion </em>和<em class="lj"> xgboostVersion </em>，并将它们添加到dependencies部分。该文件应该如下所示:</p><figure class="je jf jg jh fd ji"><div class="bz dy l di"><div class="lk ll l"/></div></figure><h2 id="c68c" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">步骤5a:如果需要，下载Gradle</h2><p id="dc6e" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">您可能会在项目的右下角看到一个弹出窗口，要求您下载Gradle。点击它让IntelliJ下载并安装Gradle。如果弹出窗口不可见，请单击右上角的通知选项卡来查找它。</p><h2 id="a5d6" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">第五步:刷新梯度</h2><p id="4b79" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">从IntelliJ窗口的右上方打开Gradle窗格，然后“重新加载所有Gradle项目”</p><p id="4227" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">理想情况下，在这一步结束时，应该在IntelliJ控制台上打印出“构建成功”消息。这可能需要几分钟时间。</p><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/ea806a5e28a88cdd7d02f81ee99859fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RL7ukdsrl-481Td2EuVtsg.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Gradle Pane on the top right</figcaption></figure><figure class="je jf jg jh fd ji er es paragraph-image"><div role="button" tabindex="0" class="jj jk di jl bf jm"><div class="er es lm"><img src="../Images/efcac1f4b069ae9df7a2e83cd1f1041e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rOXXg9opZK8OaNfX4DxhiQ.png"/></div></div><figcaption class="jp jq et er es jr js bd b be z dx">Reload Gradle button</figcaption></figure><h2 id="629e" class="jt ju hh bd jv jw jx jy jz ka kb kc kd ip ke kf kg it kh ki kj ix kk kl km kn bi translated">步骤7:在Java中加载XGBoost模型</h2><p id="f9e8" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">调用XGBoost loadModel方法<a class="ae jc" rel="noopener" href="/@anantsinha9811/saving-xgboost-models-as-files-using-python-e06514308ef">将预先保存的模型</a>加载到Java中，并存储在Booster类型的对象中。</p><p id="e9c1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">创建一个新的DMAtrix对象，并将之前保存的libsvm文件的路径传递给它的构造函数。</p><p id="137e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">模型预测将以2D矩阵的形式返回。第N个值存储在矩阵的[N][0]单元中。</p><p id="a7db" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">参考<a class="ae jc" href="https://github.com/anantsinha/XGBoost-Java-Setup" rel="noopener ugc nofollow" target="_blank">本报告</a>中的代码。</p><div class="ln lo ez fb lp lq"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lr ab dw"><div class="ls ab lt cl cj lu"><h2 class="bd hi fi z dy lv ea eb lw ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lx l"><h3 class="bd b fi z dy lv ea eb lw ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ly l"><p class="bd b fp z dy lv ea eb lw ed ef dx translated">medium.com</p></div></div><div class="lz l"><div class="ma l mb mc md lz me jn lq"/></div></div></a></div></div></div>    
</body>
</html>