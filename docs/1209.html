<html>
<head>
<title>Use Ggplot2 Package To Analyze Real Estate Data in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Ggplot2软件包分析R中的房地产数据</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/use-ggplot2-package-to-analyze-real-estate-data-in-r-f688d06404c9?source=collection_archive---------1-----------------------#2021-10-27">https://medium.com/mlearning-ai/use-ggplot2-package-to-analyze-real-estate-data-in-r-f688d06404c9?source=collection_archive---------1-----------------------#2021-10-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="affb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将使用Tidyverse中的ggplot2包在r中进行探索性数据分析。我们将分析佛罗里达州奥兰治县的住房数据:信息是从FRED(美联储经济数据)收集的。</p><p id="549c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的数据框架名为Orange_County，有6个变量:年、月、日期、价格(中间价格)、天数(上市天数)、库存和SqrFt(每平方英尺的价格)。日期范围为:2017年8月1日至2021年9月1日。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/dea173ac5ea02e96b9432742b0b715b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*WyYIW5Kh-SRLQpsmI5x7Hw.png"/></div></figure><p id="765d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们只想查看2020年的数据，我们使用下面的代码进行过滤。我们将新的数据帧命名为:“Trimmed_2020”</p><p id="21c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">Trimmed _ 2020&lt;-filter(Orange _ County，Year == 2020) </em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jl"><img src="../Images/4b629712cb1f31d91ae58e7533403fe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*ET4T3KMWoqVUx-JWFQzwxw.png"/></div></figure><p id="3dcf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们绘制新的数据框架。对于2020年，我们将把ggplot()基础保存到变量g中。</p><p id="03fa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">#为情节和美学奠定基础将数据分成不同的组</p><p id="d722" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> g &lt; - ggplot(Trimmed_2020，aes(x =月，y =价格，组= 1)) </em></p><p id="b3d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"># geom_line()和geom()告诉R我们希望我们的数据如何分层；“大小=1.2”分别给我们一条更粗的线和点</p><p id="ab01" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> g &lt; - g +几何线(size = 1.2) +几何点()</em></p><p id="dce4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">#然后，我们使用labs()将描述添加到图表中。</p><p id="6082" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> g &lt; - g + labs(title = "2020价格数据"，y = "价格($)"，x = "日期")</em></p><p id="9a81" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> g </em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jm"><img src="../Images/511c003487499c8a0e61889e7d9fcc0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GTmb-F_RISzCgZ-0yPoX1Q.png"/></div></div></figure><p id="f3f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如果我们想绘制2020年和2021年的价格数据，会怎么样？</strong>首先，我们创建一个向量，并将其赋给一个变量；然后使用该变量筛选出我们希望新数据框架使用的年份。(我将在下图中解释额外的代码。)</p><p id="a5f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Year</p><p id="e840" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Data_Graph </p><p id="a83f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s <br/>s&lt;-s+geom _ line(AES(color = factor(Year))，size = 1.5) + geom_point()</p><p id="4eb0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s</p><p id="7664" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s </p><p id="97d1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s </p><p id="7200" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jr"><img src="../Images/19fb6d8c611630ff63e7ed92440d2125.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GkYhin0yi0ld86EucOfF6w.png"/></div></div></figure><p id="e35f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Now what if we wanted to see if there is a correlation between Price and Inventory ? We’ll use our original DataFrame: Orange_County</p><p id="9803" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">x&lt;-gg plot(data = Orange _ County，aes(x =库存，y =价格))</em></p><p id="8deb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"># <em class="jk"> (aes(color=factor(Year))，size = 2) </em>告诉R按年份给我们的点上色。我们还将Year转换为一个因子，这样它就可以得到一个离散的色标。</p><p id="3d2f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">x&lt;-x+geom _ point(AES(color = factor(Year))，size = 2) </em></p><p id="2648" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">#我们将刻度重命名为“年”</p><p id="58f6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">x&lt;-x+scale _ color _ discrete(name = " Year ")</em></p><p id="454c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> x &lt; - x + labs(title = "橙县房价历史中值"，y = "月房价中值($)"，x = "库存(房屋列表)")</em></p><p id="78a3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> x </em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es js"><img src="../Images/d798e6889de0905b4613301b78432803.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMLwklY7VXAxnlbwEGH42g.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx"><strong class="bd jx">We see that in 2021, Orange County experienced its lowest inventory numbers in the past 4 years; median home prices are inversely related to same; cementing the common phrase “Supply and Demand”.</strong></figcaption></figure><p id="9994" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了继续“供给和需求”的主题，让我们比较一下一处房产在市场上挂牌的平均天数和每平方英尺的价格。我们可以假设价格和库存之间存在反比关系，Days和SqrFt也有类似的关系，但是让我们用图表来更好地了解历史。</p><p id="857a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用下面的语法，我们将增加图表的格式。</p><p id="5802" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">z&lt;-gg plot(data = Orange _ County，aes(x = Days，y =SqrFt )) </em></p><p id="cc05" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">z&lt;-z+geom _ point(AES(color = factor(Year))，size = 2) </em></p><p id="ed62" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">z&lt;-z+scale _ color _ discrete(name = " Year ")</em></p><p id="6507" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">#我们现在使用scale_y_continuous()在y轴上添加一个美元符号，此外，我们还创建了断点，以便更好地展开SqrFt。</p><p id="ffb4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk">z&lt;-z+scale _ y _ continuous(labels = dollar，break = seq(150，210，10)) </em></p><p id="ea6e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> z &lt; - z + labs(title = "奥兰治县上市天数与每平方英尺价格"，<br/> x = "上市天数"，y = "每平方英尺价格")</em></p><p id="1336" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><em class="jk"> z </em></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jy"><img src="../Images/fd10a138084d958f59f38a6525e57964.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1eaBEkCa3upb-n-lyG6E0g.png"/></div></div></figure><p id="89b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">我们看到，特别是在2021年，随着天数的减少，房屋每平方英尺的价格大幅上涨。市场上较少的一天相当于库存短缺，这反过来又导致价格上涨。随着供应减少，需求增加，买家理应支付更高的房价。</strong></p><p id="1353" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了总结和巩固我们对库存和价格的图形化理解，让我们创建一个比较两个变量的快速图表:库存和SqrFt。</p><p id="f27d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s<br/>s&lt;-s+geom _ point(size = 2，AES(color = factor(Year)))<br/><br/>s&lt;-s+scale _ color _ discrete(name = " Year ")</p><p id="989b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s </p><p id="93c7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s </p><p id="4cbc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s </p><p id="30d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">s</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jn jo di jp bf jq"><div class="er es jz"><img src="../Images/b2e9dc5db58221460662533bb9cba812.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SzOKnvyVcBXFhLHmNgfTag.png"/></div></div></figure></div></div>    
</body>
</html>