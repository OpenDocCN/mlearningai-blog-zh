<html>
<head>
<title>An Alliance: Python and R (The ABCs of Web scraping)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个联盟:Python和R(网络抓取的基础知识)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/an-alliance-python-and-r-the-abcs-of-web-scraping-3a6a4aef8e0e?source=collection_archive---------3-----------------------#2022-04-18">https://medium.com/mlearning-ai/an-alliance-python-and-r-the-abcs-of-web-scraping-3a6a4aef8e0e?source=collection_archive---------3-----------------------#2022-04-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/715233211403a66cfbd56290aa360541.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0tfnp6UNxpr030fHYoPbA.png"/></div></div></figure><p id="9af3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为数据分析师、数据工程师和数据科学家，您总是需要数据来解决问题和提供解决方案。现在，作为一个初学者，当你需要来自一个还没有被管理的网站的数据时，你会怎么做呢？例如，您需要来自流媒体网络的数据来分析最受欢迎的电影，您需要来自评论的数据，您需要来自电子商务网站的数据，等等。，以表格形式进行数据分析。</p><p id="a284" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本质上，获取这些数据的过程被称为网络抓取。网络抓取是使用命令从网站提取数据和信息的方法。它提取底层HTML代码和数据库中的数据。</p><p id="d765" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意:HTML和CSS的额外知识将是网页抓取的额外优势，因为它将帮助你在检查网站内容时识别元素。</p><p id="9a5e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为此，我将简单地从烂番茄网站提取<a class="ae jo" href="https://editorial.rottentomatoes.com/guide/2021-best-movies/" rel="noopener ugc nofollow" target="_blank"> 2021 </a>电影分级数据，使用网络抓取的基础知识，这是我创造的一个术语，代表:</p><p id="94d8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">A-采集<br/> B-分解<br/> C-编译</p><p id="87d3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">获取</strong> <br/>在这一阶段，你心中有一个网站，你需要从其中收集数据。要获得这些数据，你需要借助一些工具来获取。以下是您需要的一些工具的示例:</p><p id="4013" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Python </strong></p><p id="6a60" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 1。请求:</strong>这个库用于获取网站的URL</p><p id="9731" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 2。Selenium: </strong>这个库也用于获取网站URL。如果您使用chrome，selenium的工作方式是启动chrome web驱动程序并在chrome浏览器上运行URL。</p><p id="19c1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 3。漂亮的汤:</strong>这个库用来解析站点的HTML内容。</p><p id="5547" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于本教程，我们将使用请求和美丽的汤</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jp"><img src="../Images/f2879acb9a5face7b678ff33ebd1b7e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TWiYe1885rLzAAtc0px8Fg.png"/></div></div></figure><p id="7b1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><ol class=""><li id="ebfd" class="ju jv hh ir b is it iw ix ja jw je jx ji jy jm jz ka kb kc bi translated"><strong class="ir hi"> Rvest: </strong>这个库用于r。</li></ol><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kd"><img src="../Images/e3efb6ec9f098c316e60a3f2fef861a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LX5gcRUjiMn0_SaLcj_aMQ.png"/></div></div></figure><p id="ea13" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">哗</strong></p><p id="089e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在此阶段，您需要从网页中找到所需的元素，并指定数据集所需的必要参数。在某些情况下，find.all元素可能无法获得网站上显示的所有数据，这是因为其中一些数据可能是使用不同的HTML元素保存的。要做到这一点，只需右键单击网页上的数据并检查该数据的元素。确保找到包含内容的独特标签(例如<div>标签)。</div></p><p id="4777" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Python </strong></p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ke"><img src="../Images/9a9ae0dffedbe1ac20562af49d5f4278.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ehRzgBc-ZzQIaFEQHp2A1w.png"/></div></div></figure><p id="d359" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">输出返回241，查看该站点，我们看到分级的电影数量为241。</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kf"><img src="../Images/df788a0f8dd7ae38b40e9e875c57cdf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Uk55RvEizH2ukFxde9CFw.png"/></div></div></figure><p id="dd18" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们进一步创建了一个函数，只需右键单击内容并检查HTML元素来识别它，就可以保存变量电影标题和等级。</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kg"><img src="../Images/742d82fea604630b3f0a9465d5459af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SV9IFc50H8kQgrNjHhtvUA.png"/></div></div></figure><p id="6fa4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些代码行作为提取所有记录的原型，首先提取第一个记录。我们可以用它为所有记录创建一个函数。</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/914df932d80c53741764706ff411c3e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S6-wEza6gINb32aqUfoL2Q.png"/></div></div></figure><p id="3473" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><p id="b96c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在R中，您提取不同列所需的信息，而不需要创建函数。</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ki"><img src="../Images/4794f715e8c2221a19cb8341248848dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cSLZy7dDH-NXZtm4tBSmxQ.png"/></div></div></figure><p id="eb6c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因为电影有两个不需要的文本，我们将把它转换成dataframe并删除它们。</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kj"><img src="../Images/875e77ce76b44872737ff6899dc20285.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wVKwtTZtMszH6cuNd5wm6g.png"/></div></div></figure><p id="bafd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">创建第二列</p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kk"><img src="../Images/c48f260290e30b7817a6b63bb6071a59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c96pECHCWdGGxKwA97ZtJA.png"/></div></div></figure><p id="1337" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">编译</strong></p><p id="85ae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了进行编译，我们只需保存所有记录并将它们导出为CSV文件。</p><p id="6ab7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">巨蟒</strong></p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kl"><img src="../Images/87bfe9879e55bb0450dba56fb4463455.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ACzyyOUX835RvekAUhg8fA.png"/></div></div></figure><p id="48c3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es km"><img src="../Images/f567c8b4d7cc242e43ced42a78d08448.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IcC4ksRsyR67iDY1p-c8Q.png"/></div></div></figure><p id="f2f9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们查看保存的数据帧。</p><p id="d5e1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Python </strong></p><figure class="jq jr js jt fd ii er es paragraph-image"><div class="er es kn"><img src="../Images/ae23c4646579ab6470dd9f5cfc347948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*c-QGMQC_OCxHzXw36JeneQ.png"/></div></figure><p id="d1bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><figure class="jq jr js jt fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ko"><img src="../Images/4b77590f7926f6dfa9a7736a3f678e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_OmHArLMMMNRD_Ae2yR7Qg.png"/></div></div></figure><p id="6dd8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">重要的是要注意，当网页抓取时，你应该确保你没有违反任何法律，因为数据可用并不意味着你应该抓取它。当web报废时，始终应用数据伦理。</p><p id="4679" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">参考文献</strong></p><ol class=""><li id="8646" class="ju jv hh ir b is it iw ix ja jw je jx ji jy jm jz ka kb kc bi translated"><a class="ae jo" href="https://careerfoundry.com/en/blog/data-analytics/web-scraping-guide/" rel="noopener ugc nofollow" target="_blank">https://career foundry . com/en/blog/data-analytics/web-scraping-guide/</a></li><li id="5902" class="ju jv hh ir b is kp iw kq ja kr je ks ji kt jm jz ka kb kc bi translated"><a class="ae jo" href="https://www.analyticsvidhya.com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2017/03/beginners-guide-on-web-scraping-in-r-using-rvest-with-hands-on-knowledge/</a></li><li id="f780" class="ju jv hh ir b is kp iw kq ja kr je ks ji kt jm jz ka kb kc bi translated"><a class="ae jo" href="https://www.youtube.com/watch?v=_AeudsbKYG8" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=_AeudsbKYG8</a></li></ol><div class="ku kv ez fb kw kx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ky ab dw"><div class="kz ab la cl cj lb"><h2 class="bd hi fi z dy lc ea eb ld ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="le l"><h3 class="bd b fi z dy lc ea eb ld ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lf l"><p class="bd b fp z dy lc ea eb ld ed ef dx translated">medium.com</p></div></div><div class="lg l"><div class="lh l li lj lk lg ll in kx"/></div></div></a></div></div></div>    
</body>
</html>