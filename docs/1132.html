<html>
<head>
<title>Augmented Reality Sudoku Solver: Solving Puzzle using Algorithm X</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">增强现实数独解算器:使用X算法解谜</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/augmented-reality-sudoku-solver-part-i-8e29e59cecab?source=collection_archive---------2-----------------------#2021-10-08">https://medium.com/mlearning-ai/augmented-reality-sudoku-solver-part-i-8e29e59cecab?source=collection_archive---------2-----------------------#2021-10-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/46d50cba14f20bf2caa98067bfd807e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OCG_768PPODknapRO024XQ.png"/></div></div></figure><p id="7ee2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi jn translated">在本文中，我们将构建一个基于GUI的AR数独解算器，它可以用来解决增强现实中的数独问题。我们还将围绕它开发一个游戏，使我们能够扫描数独的图像并玩它。</p><p id="5292" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的目标是解决任何N维的数独，其中N是一个非素数。该项目将以两种形式实施-</p><ul class=""><li id="253a" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">一个选项来加载保存在系统上的图像或使用网络摄像头将图像馈送到程序，然后在系统上玩游戏。</li><li id="c069" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">一个选项，使用增强现实和解决数独显示的网络摄像头的难题。</li></ul><p id="c37c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">项目以<a class="ae kk" href="https://en.wikipedia.org/wiki/Knuth%27s_Algorithm_X" rel="noopener ugc nofollow" target="_blank"> <em class="kl">算法X </em> </a>的形式使用<a class="ae kk" href="https://en.wikipedia.org/wiki/Dancing_Links" rel="noopener ugc nofollow" target="_blank"> <em class="kl">跳舞环节</em> </a>寻找数独难题的解。数独是一个众所周知的NP完全问题，算法X是实现一种贪婪的深度优先搜索来找到合适的解决方案的一种手段。该项目将分为4个部分</p><ul class=""><li id="5ab4" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第一部分——理解数独解算器，即用于解数独的算法。</li><li id="8318" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第二部分— <a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-ii-cdfc035a415c" rel="noopener">处理来自相机的图像，以便能够提取数独的网格。</a></li><li id="8627" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第三部分— <a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-iii-d2370a9cbace" rel="noopener">处理图像和相应的模型，以检测每个单元中的数值</a>。</li><li id="6c97" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">第四部分— <a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-iv-65afe2231e46" rel="noopener">使用PyGame构建GUI。</a></li></ul><h2 id="4be0" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">第一部分:解决数独—</h2><p id="2ccf" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">为了在尽可能短的时间内解决数独游戏并找到所有可能的解决方案，我们使用算法X。算法X是一种用于解决精确覆盖问题的算法。这是一个简单的递归、不确定、深度优先的回溯算法，Donald Knuth使用它来演示一个称为DLX的高效实现，它使用了跳舞链接技术。</p><blockquote class="lm ln lo"><p id="4fcd" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">有趣的事实:<em class="hh">由于缺乏更好的名字，算法X被如此命名。</em></p></blockquote><p id="c98c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">让我们先来看看<strong class="ir hi">确切的封面问题</strong>—</p><p id="1e8d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">给定集合X的子集的集合S，X的精确覆盖是满足两个条件的S的子集S*</p><ul class=""><li id="15e8" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">S*中任意两个不同子集的交集都是空的。</li><li id="a60b" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">S*中的子集的并集是X，即S*中的子集覆盖X</li></ul><p id="c693" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">例子——</strong></p><p id="cf7e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">考虑由论域U = {1，2，3，4，5，6，7}和集合S = {A，B，C，D，E，F}指定的精确覆盖问题</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="d220" class="km kn hh lx b fi mb mc l md me">A = {1, 4, 7};<br/>B = {1, 4};<br/>C = {4, 5, 7};<br/>D = {3, 5, 6};<br/>E = {2, 3, 6, 7};<br/>F = {2, 7};</span></pre><p id="7fae" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，行对应于集合的集合，列对应于宇宙的元素。<br/> <strong class="ir hi">行表示法- </strong></p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="e03c" class="km kn hh lx b fi mb mc l md me">+-----+--------------+<br/>| ROW |   ELEMENTS   |<br/>+-----+--------------+<br/>| A   | {1, 4, 7}    |<br/>| B   | {1, 4}       |<br/>| C   | {4, 5, 7}    |<br/>| D   | {3, 5, 6}    |<br/>| E   | {2, 3, 6, 7} |<br/>| F   | {2, 7}       |<br/>+-----+--------------+</span></pre><p id="6e5e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">列表示- </strong></p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="1448" class="km kn hh lx b fi mb mc l md me">+--------+----------------------+<br/>| COLUMN |       ELEMENTS       |<br/>+--------+----------------------+<br/>|      1 | {'A', 'B'},          |<br/>|      2 | {'E', 'F'},          |<br/>|      3 | {'D', 'E'},          |<br/>|      4 | {'A', 'B', 'C'},     |<br/>|      5 | {'C', 'D'},          |<br/>|      6 | {'D', 'E'},          |<br/>|      7 | {'A', 'C', 'E', 'F'} |<br/>+--------+----------------------+</span></pre><h2 id="10b8" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">矩阵表示-</h2><p id="7ba3" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">上述行和列可以用6×7关联矩阵表示。</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="d084" class="km kn hh lx b fi mb mc l md me">+-----+---+---+---+---+---+---+---+<br/>|     | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+-----+---+---+---+---+---+---+---+<br/>| A   | 1 | 0 | 0 | 1 | 0 | 0 | 1 |<br/>+-----+---+---+---+---+---+---+---+<br/>| B   | 1 | 0 | 0 | 1 | 0 | 0 | 0 |<br/>+-----+---+---+---+---+---+---+---+<br/>| C   | 0 | 0 | 0 | 1 | 1 | 0 | 1 |<br/>+-----+---+---+---+---+---+---+---+<br/>| D   | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+-----+---+---+---+---+---+---+---+<br/>| E   | 0 | 1 | 1 | 0 | 0 | 1 | 1 |<br/>+-----+---+---+---+---+---+---+---+<br/>| F   | 0 | 1 | 0 | 0 | 0 | 0 | 1 |<br/>+-----+---+---+---+---+---+---+---+</span></pre><h2 id="e5aa" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">解决方法-</h2><ul class=""><li id="f774" class="jw jx hh ir b is lh iw li ja mf je mg ji mh jm kb kc kd ke bi translated">第一步:(0级)</li></ul><ol class=""><li id="6a43" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">找出数字最少的一栏。</li><li id="8b14" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">在这种情况下，列<code class="du mj mk ml lx b">1</code>有两个1。[即具有最小值的最小索引。1的数量]</li><li id="9f34" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">将行<code class="du mj mk ml lx b">A</code>添加到解决方案中。</li></ol><blockquote class="lm ln lo"><p id="f317" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">部分解决= [ <code class="du mj mk ml lx b">A</code> ]</p></blockquote><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="50ae" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+---+---+<br/>|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+---+---+<br/>| A | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 1 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| B | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 1 | 0 | 0 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| C | 0 | 0 | 0 | 1 | 1 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| D | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| E | 0 | 1 | 1 | 0 | 0 | 1 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| F | 0 | 1 | 0 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+</span></pre><ul class=""><li id="e24b" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第二步:(第一级)</li></ul><ol class=""><li id="07ac" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">在第<code class="du mj mk ml lx b">A</code>行中，用1标记所有列。</li></ol><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="41dd" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+---+---+<br/>|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+---+---+<br/>| A | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> |<br/>+---+---+---+---+---+---+---+---+<br/>| B | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| C | 0 | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 1 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> |<br/>+---+---+---+---+---+---+---+---+<br/>| D | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| E | 0 | 1 | 1 | 0 | 0 | 1 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> |<br/>+---+---+---+---+---+---+---+---+<br/>| F | 0 | 1 | 0 | 0 | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> |<br/>+---+---+---+---+---+---+---+---+</span></pre><p id="ece6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.删除包含标记行和列的所有行和列。</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="b30c" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+<br/>|   | 2 | 3 | 5 | 6 |<br/>+---+---+---+---+---+<br/>| D | 0 | 1 | 1 | 1 |<br/>+---+---+---+---+---+</span></pre><ul class=""><li id="584a" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第三步:(第二级)</li></ul><ol class=""><li id="f97f" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">重复步骤1。</li><li id="e2e8" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">从步骤3–1开始。，我们将行<code class="du mj mk ml lx b">D</code>添加到解决方案中。</li></ol><blockquote class="lm ln lo"><p id="dcc0" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">部分解决= [ <code class="du mj mk ml lx b"><em class="hh">A, D</em></code> ]</p></blockquote><p id="627d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.但是，现在表是空的，并且解决方案没有生成cover，这意味着我们需要返回到0级。</p><ul class=""><li id="f668" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第四步:(0级)</li></ul><ol class=""><li id="4043" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">从溶液中取出<code class="du mj mk ml lx b">D</code>和<code class="du mj mk ml lx b">A</code>。</li><li id="fe07" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">从13继续。，将<code class="du mj mk ml lx b">B</code>添加到溶液中。</li></ol><blockquote class="lm ln lo"><p id="1162" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">部分解决方案= [ <code class="du mj mk ml lx b"><em class="hh">B</em></code> ]</p></blockquote><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="a74d" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+---+---+<br/>|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+---+---+<br/>| A | 1 | 0 | 0 | 1 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| B | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| C | 0 | 0 | 0 | 1 | 1 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| D | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| E | 0 | 1 | 1 | 0 | 0 | 1 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| F | 0 | 1 | 0 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+</span></pre><ul class=""><li id="24ef" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第五步:(第一级)</li></ul><ol class=""><li id="3bed" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">在第<code class="du mj mk ml lx b">B</code>行中，用1标记所有列。</li></ol><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="e803" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+---+---+<br/>|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+---+---+<br/>| A | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| B | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | 0 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| C | 0 | 0 | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 1 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| D | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| E | 0 | 1 | 1 | 0 | 0 | 1 | 1 |<br/>+---+---+---+---+---+---+---+---+<br/>| F | 0 | 1 | 0 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+</span></pre><p id="2c79" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.删除包含标记行和列的所有行和列。</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="2977" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+<br/>|   | 2 | 3 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+<br/>| D | 0 | 1 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+<br/>| E | 1 | 1 | 0 | 1 | 1 |<br/>+---+---+---+---+---+---+<br/>| F | 1 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+</span></pre><ul class=""><li id="f331" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第六步:(第一级)</li></ul><ol class=""><li id="49b3" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">重复步骤1。</li><li id="22b0" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">在这种情况下，列<code class="du mj mk ml lx b">5</code>只有一个。</li><li id="ac22" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">因此，我们现在将<code class="du mj mk ml lx b">D</code>添加到解决方案中。</li></ol><blockquote class="lm ln lo"><p id="5c93" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">部分解决方案=[<code class="du mj mk ml lx b"><em class="hh">B, D</em></code>]</p></blockquote><ul class=""><li id="d28d" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第七步:(第二级)</li></ul><ol class=""><li id="a136" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">在行<code class="du mj mk ml lx b">D</code>中，用1标记所有列。</li></ol><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="516e" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+<br/>|   | 2 | 3 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+<br/>| D | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 |<br/>+---+---+---+---+---+---+<br/>| E | 1 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 0 | <a class="ae kk" href="http://." rel="noopener ugc nofollow" target="_blank"><strong class="lx hi"><em class="kl">1</em></strong></a> | 1 |<br/>+---+---+---+---+---+---+<br/>| F | 1 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+</span></pre><p id="c14a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.删除包含标记行和列的所有行和列。</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="eda3" class="km kn hh lx b fi mb mc l md me">+---+---+---+<br/>|   | 2 | 7 |<br/>+---+---+---+<br/>| F | 1 | 1 |<br/>+---+---+---+</span></pre><ul class=""><li id="b085" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">第八步:(第三级)</li></ul><ol class=""><li id="b89e" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm mi kc kd ke bi translated">重复步骤1。</li><li id="7a29" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm mi kc kd ke bi translated">从步骤8–1开始。，我们将行<code class="du mj mk ml lx b">F</code>添加到解决方案中。</li></ol><blockquote class="lm ln lo"><p id="509d" class="ip iq kl ir b is it iu iv iw ix iy iz lp jb jc jd lq jf jg jh lr jj jk jl jm ha bi translated">部分解决方案= [ <code class="du mj mk ml lx b"><em class="hh">B, D, F</em></code> ]</p></blockquote><p id="7608" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">3.同样，表是空的，但是现在解决方案生成了一个封面。所以我们以这个解决方案结束。</p><p id="5e64" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，解决方案是-</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="8029" class="km kn hh lx b fi mb mc l md me">+---+---+---+---+---+---+---+---+<br/>|   | 1 | 2 | 3 | 4 | 5 | 6 | 7 |<br/>+---+---+---+---+---+---+---+---+<br/>| B | 1 | 0 | 0 | 1 | 0 | 0 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| D | 0 | 0 | 1 | 0 | 1 | 1 | 0 |<br/>+---+---+---+---+---+---+---+---+<br/>| F | 0 | 1 | 0 | 0 | 0 | 0 | 1 |<br/>+---+---+---+---+---+---+---+---+</span></pre><h1 id="700c" class="mm kn hh bd ko mn mo mp ks mq mr ms kw mt mu mv kz mw mx my lc mz na nb lf nc bi translated">跳舞链接-</h1><p id="22f8" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">跳舞链接是一种恢复从循环双向链表中删除节点的操作的技术。这对于有效地实现回溯算法特别有用。</p><h2 id="bbaf" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">删除节点-</h2><p id="b241" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">考虑删除节点<code class="du mj mk ml lx b">x</code>的情况，右指针指向<code class="du mj mk ml lx b">x</code>右边的节点，类似地，左指针指向左节点。删除可通过以下方式进行-</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="0635" class="km kn hh lx b fi mb mc l md me">x.left.right ← x.right;<br/>x.right.left ← x.left;</span></pre><h2 id="d7ae" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">正在添加节点-</h2><p id="d7d0" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">节点<code class="du mj mk ml lx b">x</code>可以通过实现这个来添加回去</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="7e5e" class="km kn hh lx b fi mb mc l md me">x.left.right ← x;<br/>x.right.left ← x;</span></pre><h2 id="d283" class="km kn hh bd ko kp kq kr ks kt ku kv kw ja kx ky kz je la lb lc ji ld le lf lg bi translated">舞步-</h2><p id="619a" class="pw-post-body-paragraph ip iq hh ir b is lh iu iv iw li iy iz ja lj jc jd je lk jg jh ji ll jk jl jm ha bi translated">实现算法X的一个好方法是将矩阵A中的每个1表示为一个数据对象X，它有五个字段L[x]，R[x]，U [x]，D[x]，C[x]。矩阵的行通过L和R字段(“左”和“右”)被双重链接为循环列表；列通过U和D字段(“向上”和“向下”)被双重链接为循环列表。每个列列表还包括一个称为列表头的特殊数据对象。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es nd"><img src="../Images/37a922a4f698dd3a7a49934c0e0431ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/0*lBSsdt5qr_ev6Wb8.png"/></div></figure><p id="5961" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要阅读更多关于舞蹈链接的内容，请查看此<a class="ae kk" href="https://github.com/shashank3199/VisioNxN-Sudoku/blob/master/Sudoku/DancingLinks.pdf" rel="noopener ugc nofollow" target="_blank"> PDF </a>。<br/>那么，我们就从代码开始吧。</p><p id="46b2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">数独班- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="7103" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在这里，我们首先用以下变量初始化这个类-</p><ul class=""><li id="58e3" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl">矩阵:</em> </strong> NxN矩阵，用数独值“0”代替空格。</li><li id="5e3f" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> Init_Matrix: </em> </strong>由于解决方案修改发生在适当的位置，因此它用作备份副本。</li><li id="1848" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> Box_Row: </em> </strong>这是数独一个盒子里的行数。</li><li id="e7b7" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> Box_Col: </em> </strong>这是数独一个盒子里的列数。</li><li id="6eee" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><strong class="ir hi"> <em class="kl"> N: </em> </strong>这是数独中一行或一列的细胞总数。</li></ul><p id="c6f3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要了解Box_Row和Box_Col，请参见下图-</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/6148be55c99ff68d3a2d171b395edd63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*6z9OxSuTV_J_R2NH-nxT5g.png"/></div><figcaption class="nh ni et er es nj nk bd b be z dx">Here, the Box_Row = 2 and Box_Col = 3</figcaption></figure><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es ng"><img src="../Images/a62b062f3ca32df32ffdc1bd0bd45917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*VW3Qv2nzgckQFl8JzqFGqg.png"/></div><figcaption class="nh ni et er es nj nk bd b be z dx">Here, the Box_Row = 2 and Box_Col = 4</figcaption></figure><p id="b921" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">初始化行和列指针- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="024a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这里的行和列就像双重链表，这一点我们在上面已经了解了。<br/>行由每个可能的单元格位置值-列表对组成，即</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="4f8c" class="km kn hh lx b fi mb mc l md me">rows =&gt; {<br/>    (0,0,1) : [<br/>        ("row-col", (0, 0)), ("row-num", (0, 1)), <br/>        ("col-num", (0, 1)), ("box-num", (0, 1))],<br/>    (0,0,2) : [<br/>        ("row-col", (0, 0)), ("row-num", (0, 2)), <br/>        ("col-num", (0, 2)), ("box-num", (0, 2))], <br/>                          .<br/>                          .<br/>                          .<br/>    (4,6,3) : [<br/>        ("row-col", (4, 6)), ("row-num", (4, 3)), <br/>        ("col-num", (6, 3)), ("box-num", (6, 3))],<br/>                          .<br/>                          .<br/>                          .    <br/>    (8,8,8) : [<br/>        ("row-col", (8, 8)), ("row-num", (8, 8)), <br/>        ("col-num", (8, 8)), ("box-num", (9, 8))]<br/>    (8,8,9) : [<br/>        ("row-col", (8, 8)), ("row-num", (8, 9)), <br/>        ("col-num", (8, 9)), ("box-num", (9, 9))]<br/>}</span></pre><p id="9a11" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">同样，列字典是-</p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="9270" class="km kn hh lx b fi mb mc l md me">columns = {<br/>    ("row-col", (0, 0)): {(0,0,0), (0,0,1), ..... (0,0,9)},<br/>    ("row-num", (0, 1)): {(0,0,1), (0,1,1), ..... (0,8,1)},<br/>    ("col-num", (0, 1)): {(0,0,1), (1,0,1), ..... (8,0,1)},<br/>    ("box-num", (0, 1)): {(0,0,1), (0,1,1), ..... (2,2,1)},<br/>                                .<br/>                                .<br/>                                .<br/>    ("row-col", (8, 8)): {(8,8,0), (8,8,1), ..... (8,8,9)},<br/>    ("row-num", (8, 9)): {(8,0,9), (8,1,9), ..... (8,8,9)},<br/>    ("col-num", (8, 9)): {(0,8,9), (1,8,9), ..... (8,8,9)},<br/>    ("box-num", (8, 9)): {(6,6,9), (6,7,9), ..... (8,8,9)}<br/>}</span></pre><p id="722a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">求解- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="c486" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">所以，就像上面的封面例子一样，首先，我们找到链接数量最少的列。然后，我们遍历该列的单元格值，并将其包含在解决方案中(“partial_solution.append(values)”)。然后，我们“覆盖”该列中的值(覆盖将在下一步中解释)。然后，我们用现有的部分解再次递归调用相同的函数，以进一步前进。这种递归调用一直继续，直到列字典为空，这就是问题所在。然后，我们将“揭开”该专栏，并进入另一个专栏，寻找更多解决方案。</p><p id="94f5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">盖柱- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="d23e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">覆盖一列的基本思想是用当前列值迭代所有行，然后用当前行迭代所有有值的列，最后用最新的列迭代所有有共同值的行。这与上面的步骤5、6和7相同。这比蛮力更快，因为它遵循与删除舞蹈链接中的节点相同的原则，即操作是恒定时间的。</p><p id="2427" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">揭开柱- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="576b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这与cover column操作完全相反，其工作原理是从跳舞链接添加一个节点。</p><p id="4a0d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">获取解决方案- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="237e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是类的驱动程序方法。它首先覆盖了sudoku中已经存在值的所有列。然后，它遍历来自“self.solve”方法的解。然后，它将解决方案值复制到矩阵中，并将它们附加到解决方案列表中。</p><p id="1995" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">元素可能- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="5434" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是一个辅助方法，在寻找数独的解时没有用处。但是它用于检查一个值对于数独中的某个位置是否有效。</p><p id="c9e4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">主- </strong></p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="ne nf l"/></div></figure><p id="4c3b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这是我们调用数独类并找到解决方案的主要函数。总的来说，这个解决方案一开始看起来有点复杂，但是它比回溯方法要好，原因有二</p><ul class=""><li id="55bb" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated">由于恒定的时间包含和排除操作，它更快。</li><li id="f6c8" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated">与回溯不同，它给出了所有可能的解决方案。</li></ul><p id="a5df" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">输出- </strong></p><pre class="ls lt lu lv fd lw lx ly lz aw ma bi"><span id="9a30" class="km kn hh lx b fi mb mc l md me">Solution Number 1 -</span><span id="1ddf" class="km kn hh lx b fi nl mc l md me">9 8 7 | 6 5 4 | 3 2 1<br/>2 4 6 | 1 7 3 | 9 8 5<br/>3 5 1 | 9 2 8 | 7 4 6<br/>----------------------<br/>1 2 8 | 5 3 7 | 6 9 4<br/>6 3 4 | 8 9 2 | 1 5 7<br/>7 9 5 | 4 6 1 | 8 3 2<br/>----------------------<br/>5 1 9 | 2 8 6 | 4 7 3<br/>4 7 2 | 3 1 9 | 5 6 8<br/>8 6 3 | 7 4 5 | 2 1 9</span><span id="0040" class="km kn hh lx b fi nl mc l md me">Solved in 0.0046 s</span></pre><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nm"><img src="../Images/2f1eeaf0b12309bae9a7051701b961e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D6UcmIQ2kmvVnUGVmxgZvw.png"/></div></div></figure></div><div class="ab cl nn no go np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ha hb hc hd he"><p id="4746" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><em class="kl">你可以在这里</em>  <em class="kl">找到完整的python实现</em> <a class="ae kk" href="https://github.com/shashank3199/VisioNxN-Sudoku/blob/master/Sudoku/sudoku.py" rel="noopener ugc nofollow" target="_blank"> <em class="kl">。如果你觉得这篇文章很有帮助，请跟我上</em> </a><a class="ae kk" href="https://shashank-goyal-blogs.medium.com/" rel="noopener"> <em class="kl">中</em> </a> <em class="kl">和</em><a class="ae kk" href="https://github.com/shashank3199/" rel="noopener ugc nofollow" target="_blank"><em class="kl">GitHub</em></a><em class="kl">和star</em><a class="ae kk" href="https://github.com/shashank3199/VisioNxN-Sudoku" rel="noopener ugc nofollow" target="_blank"><em class="kl">项目库</em> </a> <em class="kl">。</em></p></div><div class="ab cl nn no go np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ha hb hc hd he"><p id="a1bc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请查看本系列文章的其他部分</p><ul class=""><li id="31f9" class="jw jx hh ir b is it iw ix ja jy je jz ji ka jm kb kc kd ke bi translated"><a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-ii-cdfc035a415c" rel="noopener">增强现实数独解算器——第二部分</a>。</li><li id="ea88" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-iii-d2370a9cbace" rel="noopener">增强现实数独解算器——第三部分</a>。</li><li id="cfc0" class="jw jx hh ir b is kf iw kg ja kh je ki ji kj jm kb kc kd ke bi translated"><a class="ae kk" href="https://shashank-goyal-blogs.medium.com/augmented-reality-sudoku-solver-part-iv-65afe2231e46" rel="noopener">增强现实数独解算器——第四部分</a>。</li></ul></div></div>    
</body>
</html>