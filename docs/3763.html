<html>
<head>
<title>Build an air quality web application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建空气质量web应用程序</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/build-an-air-quality-web-application-bbe12fb82a50?source=collection_archive---------3-----------------------#2022-10-18">https://medium.com/mlearning-ai/build-an-air-quality-web-application-bbe12fb82a50?source=collection_archive---------3-----------------------#2022-10-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="c411" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated"><strong class="ak">提取、变换&amp;可视化</strong></h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/07c256b0cfc0d8762034b4b156a066c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3a77TtmFZv0f1hQp7_PyjA.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@sadswim?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">ian dooley</a> on <a class="ae jm" href="https://unsplash.com/collections/448571/you-can%27t-take-the-sky-from-me?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="0dfd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi kj translated"><span class="l kk kl km bm kn ko kp kq kr di">答</span>你是否对你居住的地方或你计划去的地方的空气质量感兴趣，或者对地球上其他地方的空气质量感兴趣，你想知道这些地方的主要污染气体目前和未来的浓度水平(单位为g/m3)？</p><p id="c541" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">基于<strong class="jp hi">纬度</strong>和<strong class="jp hi">经度</strong>我用python构建并部署在streamlit cloud中的这个web应用程序使用<a class="ae jm" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">OpenWeather API</strong></a>提供了世界上任何地方当前和未来的空气污染数据。</p><p id="74fc" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">默认坐标是伦敦市的坐标，但您也可以通过勾选“<strong class="jp hi">检查您的位置”</strong>框来提供您自己的位置，并允许应用程序使用您的坐标，实际上，您只需在弹出窗口出现时选择<strong class="jp hi">“允许”</strong>，如下图所示。还可以输入地球上的任意坐标，得到你感兴趣的地方的空气质量，以及主要污染物的浓度，单位为g/m3。<br/>设置好坐标后，只需点击<strong class="jp hi">“空气质量分析”</strong>按钮，即可获得感兴趣位置的当前和预测空气质量及主要污染物浓度。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ks"><img src="../Images/84de67729a8a130d781e21c247225b08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRWTt9EKIxMP4wBG7k2cVw.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx"><strong class="bd kt">Select your current location</strong></figcaption></figure><p id="8988" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">除了基本的空气质量指数，应用程序还提供了气体污染物的当前和预测浓度，单位为g/m3，如一氧化碳(CO)、一氧化氮(NO)、二氧化氮(NO2)、臭氧(O3)、二氧化硫(SO2)、氨(NH3)和颗粒物(PM2.5和PM10)。</p><p id="163e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在本文中，我将一步一步地向您展示如何用<a class="ae jm" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">【Python】</strong></a><strong class="jp hi"/><a class="ae jm" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">OpenWeather API</strong></a><strong class="jp hi"/><a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Streamlit</strong></a><strong class="jp hi"/><a class="ae jm" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Plotly</strong></a><strong class="jp hi"/><a class="ae jm" href="https://www.mapbox.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Mapbox</strong></a>(图)</p><p id="0d6a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">正如我在以前的一篇文章中所写的，<a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit </strong> </a>是一个非常棒的开源框架，它可以轻松地为机器学习和数据科学创建和共享漂亮的定制web应用程序。</p><p id="14dd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我的方法的目的一方面是通过将我的空气质量Web应用程序部署在<a class="ae jm" href="https://streamlit.io/cloud" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit Cloud </strong> </a>上，与尽可能多的人分享它，另一方面是为了展示以一种对大多数人都有用、愉快和有意义的方式构建空气污染数据应用程序是多么容易。</p><p id="fb75" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">那些想了解更多关于允许部署应用程序的代码、工具和文件的人可以通过<a class="ae jm" href="https://www.linkedin.com/in/redamerzouki/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">mylinkedin</strong></a><strong class="jp hi">直接联系我。</strong></p></div><div class="ab cl ku kv go kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ha hb hc hd he"><p id="3cfe" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> I -创建您的食谱所需的工具:</strong></p><p id="b76d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个Github账号:<a class="ae jm" href="https://github.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> GitHub </strong> </a></p><p id="0fe7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个IDE : <a class="ae jm" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Visual Studio代码</strong> </a> <strong class="jp hi">，</strong><a class="ae jm" href="https://www.jetbrains.com/pycharm/download/#section=mac" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">py charm</strong></a><strong class="jp hi">，</strong> <a class="ae jm" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Jupyter笔记本</strong> </a> <strong class="jp hi">，</strong><a class="ae jm" href="https://www.spyder-ide.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Spyder</strong></a><strong class="jp hi">…</strong></p><p id="2ed9" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个<a class="ae jm" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">OpenWeather API</strong></a><strong class="jp hi"/>账号:有免费计划。</p><p id="c4cd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个<a class="ae jm" href="https://streamlit.io/cloud" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">细流云</strong> </a> <strong class="jp hi"> </strong>账号:免费计划可用。</p><p id="2236" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一个<a class="ae jm" href="https://www.mapbox.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">地图框</strong> </a> <strong class="jp hi"> </strong>账号:有免费计划。避免创建Mapbox帐户的另一种方法是将mapbox_style设置为“open-street-map ”,而不是需要mapbox_accesstoken的mapbox_style。</p><p id="8060" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">二-程序步骤:</strong></p><p id="0a5d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">代码非常简单，但是在我文章的下一部分，我将与您分享步骤而不是代码本身。基本上，它是关于提取、转换和可视化的。</p><p id="1a18" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">第一步，提取:</strong></p><ul class=""><li id="4294" class="lb lc hh jp b jq jr jt ju jw ld ka le ke lf ki lg lh li lj bi translated">使用<code class="du lk ll lm ln b">http://api.openweathermap.org/data/2.5/air_pollution?lat={lat}&amp;lon={lon}&amp;appid=<a class="ae jm" href="https://home.openweathermap.org/api_keys" rel="noopener ugc nofollow" target="_blank">{API key}</a></code>提取当前空气污染数据</li><li id="4c54" class="lb lc hh jp b jq lo jt lp jw lq ka lr ke ls ki lg lh li lj bi translated">使用<code class="du lk ll lm ln b">http://api.openweathermap.org/data/2.5/air_pollution/forecast?lat={lat}&amp;lon={lon}&amp;appid=<a class="ae jm" href="https://home.openweathermap.org/api_keys" rel="noopener ugc nofollow" target="_blank">{API key}</a></code>提取预测空气污染数据</li></ul><p id="21fa" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">第二步，变换:</strong></p><ul class=""><li id="f27a" class="lb lc hh jp b jq jr jt ju jw ld ka le ke lf ki lg lh li lj bi translated">利用<a class="ae jm" href="https://pandas.pydata.org" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Pandas </strong> </a>将json响应转换成Pandas数据帧。</li></ul><p id="08d4" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">第三步，观想:</strong></p><ul class=""><li id="9c20" class="lb lc hh jp b jq jr jt ju jw ld ka le ke lf ki lg lh li lj bi translated">利用<a class="ae jm" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi"/></a><strong class="jp hi"/>和<strong class="jp hi"/><a class="ae jm" href="https://www.mapbox.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Mapbox</strong></a><strong class="jp hi"/>以一种高效且有吸引力的方式可视化当前和预测污染数据。</li></ul><p id="b28c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> III - A代码草图:</strong></p><p id="4040" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">同样，在接下来的内容中，我不会分享我的代码，但会给你一个大纲，这样你就可以继续前进，创建一个让你的创造力发挥作用的程序。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lt lu l"/></div></figure><p id="e465" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> IV -在本地测试你的代码:</strong></p><p id="7b5c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">要执行这一步，请参考我之前的文章<a class="ae jm" rel="noopener" href="/mlearning-ai/build-a-transcription-application-23d4ef3f2e3a#:~:text=3%2D%20Testing%20our%20code%20locally%20%3A"> <strong class="jp hi">这里的</strong> </a> <strong class="jp hi">。</strong></p><p id="e82d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">在Github上V - Push你的代码变更:</strong></p><p id="40e7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">要执行这一步，请参考我以前的文章<a class="ae jm" rel="noopener" href="/mlearning-ai/build-a-transcription-application-23d4ef3f2e3a#:~:text=4%2D%20Pushing%20our%20code%20changes%20on%20Github%20%3A"> <strong class="jp hi">这里的</strong> </a> <strong class="jp hi">。</strong></p><p id="e92e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> VI -在Streamlit云上部署应用:</strong></p><p id="d7ea" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">要执行这一步，请参考我之前的文章<a class="ae jm" rel="noopener" href="/mlearning-ai/build-a-transcription-application-23d4ef3f2e3a#:~:text=5%2D%20Deploying%20the%20application%20on%20Streamlit%20%3A"> <strong class="jp hi">这里的</strong> </a>。</p><p id="5dfd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> VII -空气质量应用的简短演示:</strong></p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lv lu l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx"><strong class="ak">Air quality web application demo</strong></figcaption></figure><p id="a2ea" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该应用程序可从以下网址在线获得:</p><p id="ce6e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><a class="ae jm" href="https://rmerzouki-air-quality-app-p-air-quality-y5h0pf.streamlitapp.com/" rel="noopener ugc nofollow" target="_blank">https://rmerzouki-air-quality-app-p-air-quality-y 5h 0 pf . streamlitapp . com/</a></p><p id="03de" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> <em class="lw">注1:该应用程序在2002年12月20日之前可在线访问。</em> </strong></p><p id="9e3d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> <em class="lw">注2:2022年11月15日增加了获取你当前所在位置空气质量的选项。</em>T9】</strong></p><p id="60ff" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">八-结论:</strong></p><p id="a0c0" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我希望您喜欢阅读这篇文章，在这篇文章中，我描述了一种相当简单的方法来构建一个空气污染数据应用程序，它使用了<a class="ae jm" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Python </strong> </a> <strong class="jp hi">，</strong><a class="ae jm" href="https://openweathermap.org/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">OpenWeather API</strong></a><strong class="jp hi">，</strong><a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Streamlit</strong></a><strong class="jp hi">，</strong><a class="ae jm" href="https://plotly.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Plotly</strong></a><strong class="jp hi"/>和<strong class="jp hi"> </strong> <a class="ae jm" href="https://www.mapbox.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">我也希望这篇文章能激发你在污染或其他对你意义重大的主题上创造新应用的欲望。当然，请随意提出新的修改来丰富这项工作。</strong></a></p></div><div class="ab cl ku kv go kw" role="separator"><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz la"/><span class="kx bw bk ky kz"/></div><div class="ha hb hc hd he"><p id="3363" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><em class="lw">如果你有任何问题或者想保持联系，请随时在LinkedIn上联系我:</em><a class="ae jm" href="https://www.linkedin.com/in/redamerzouki/" rel="noopener ugc nofollow" target="_blank"><em class="lw">Reda Merzouki</em></a></p><div class="lx ly ez fb lz ma"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mb ab dw"><div class="mc ab md cl cj me"><h2 class="bd hi fi z dy mf ea eb mg ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mh l"><h3 class="bd b fi z dy mf ea eb mg ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mi l"><p class="bd b fp z dy mf ea eb mg ed ef dx translated">medium.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo jg ma"/></div></div></a></div></div></div>    
</body>
</html>