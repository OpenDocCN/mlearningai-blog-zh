<html>
<head>
<title>Step-By-Step Guide to Build and Deploy Container for your DL Model for FREE (using Heroku)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">免费为您的DL模型构建和部署容器的分步指南(使用Heroku)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/step-by-step-guide-to-build-and-deploy-container-for-your-dl-model-for-free-using-heroku-68fd74de8ff4?source=collection_archive---------4-----------------------#2022-07-08">https://medium.com/mlearning-ai/step-by-step-guide-to-build-and-deploy-container-for-your-dl-model-for-free-using-heroku-68fd74de8ff4?source=collection_archive---------4-----------------------#2022-07-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><h2 id="6cdc" class="hf hg hh bd b fp hi hj hk hl hm hn dx ho translated" aria-label="kicker paragraph">数据科学/部署</h2><div class=""/><div class=""><h2 id="7dc5" class="pw-subtitle-paragraph in hq hh bd b io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je dx translated">容器尺寸:4.46GB</h2></div><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es jf"><img src="../Images/9c5d2309d9a67fd74cefeff1c6efd233.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jij9ORDAGOBq2NrS1fuYCQ.png"/></div></div></figure><p id="7d29" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">在上一篇文章中，我们部署了一个容器化的ML模型。现在让我们向前迈进一步，部署一个DL模型。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div class="er es kn"><img src="../Images/72f714deb990cf01567c53750ffe03fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*9Wgn9H7dRWFNWJcjAN0Ovg.png"/></div><figcaption class="ko kp et er es kq kr bd b be z dx"><strong class="bd ks">Deploy Fail due to Large Slug size</strong></figcaption></figure><p id="e7ed" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">我们将会解决这个弹头大小的问题。它是一个使用Streamlit制作的垃圾分类web app。所涉及的步骤与部署ML模型相同，唯一的区别是Dockerfile和requirements.txt文件。</p><blockquote class="kt ku kv"><p id="02bb" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated">提示:对于每个新的基于Python的项目，有一个新的虚拟环境通常是好的。所以每个项目的依赖关系都是相互隔离的。</p></blockquote><p id="976c" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">由于步骤1、3、4、5、6是相同的，可以参考我以前的文章。</p><blockquote class="kt ku kv"><p id="5961" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated"><strong class="jt hr">垃圾分类Github链接:</strong><br/>T3】https://Github . com/MSufiyanAG/contained-Garbage-classifier</p><p id="66f9" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated"><strong class="jt hr">往期文章</strong>:<a class="ae la" rel="noopener" href="/@MSufiyanGhori/a-beginners-guide-to-building-and-deploying-a-container-for-your-ml-model-3cbc45d16e9f">https://medium . com/@ MSufiyanGhori/a-初学者指南-构建和部署-a-container-for-your-ml-model-3c BC 45d 16 e 9 f</a></p></blockquote><h1 id="5f2a" class="lb lc hh bd ks ld le lf lg lh li lj lk iw ll ix lm iz ln ja lo jc lp jd lq lr bi translated">Dockerfile:</h1><pre class="jg jh ji jj fd ls lt lu lv aw lw bi"><span id="09f1" class="lx lc hh lt b fi ly lz l ma mb">FROM python:3.8   </span><span id="970b" class="lx lc hh lt b fi mc lz l ma mb">COPY . /usr/app/                                                           </span><span id="7184" class="lx lc hh lt b fi mc lz l ma mb">WORKDIR /usr/app/                                                                                         </span><span id="3208" class="lx lc hh lt b fi mc lz l ma mb">RUN pip install -r requirements.txt \                                 &amp;&amp;  apt-get update &amp;&amp; apt-get install libsm6 libxrender1 libfontconfig1 libice6 ffmpeg libxext6 -y                                                                                         </span><span id="fad7" class="lx lc hh lt b fi mc lz l ma mb">CMD sh setup.sh \                              <br/>    &amp;&amp; streamlit run app.py</span></pre><p id="baae" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">RUN命令中包含的附加库是OpenCV库所需的依赖项。</p><p id="d43e" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">requirement.txt会有额外的需求，像TensorFlow，OpenCV等。，可以在Github链接中参考。</p><blockquote class="kt ku kv"><p id="ca8e" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated"><em class="hh">进一步参考:</em><a class="ae la" href="https://docs.docker.com/engine/reference/builder/" rel="noopener ugc nofollow" target="_blank"><em class="hh">https://docs.docker.com/engine/reference/builder/</em></a></p></blockquote><p id="88a0" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">剩余的过程将是相同的</p><p id="01c0" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">1.<strong class="jt hr">建筑形象</strong></p><pre class="jg jh ji jj fd ls lt lu lv aw lw bi"><span id="2680" class="lx lc hh lt b fi ly lz l ma mb">$ docker build -t garbageclass .</span></pre><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es md"><img src="../Images/e4602f234ec49f737cf669ae8b7c1e7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eY2ll9c9x8PD31pKvblDcw.png"/></div></div></figure><blockquote class="kt ku kv"><p id="a299" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated">要了解更多命令，如运行、标记，..<br/><a class="ae la" href="https://docs.docker.com/engine/reference/commandline/docker/" rel="noopener ugc nofollow" target="_blank">https://docs . docker . com/engine/reference/command line/docker/</a></p></blockquote><p id="a773" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated"><strong class="jt hr"> 2。创建Heroku网络应用</strong></p><pre class="jg jh ji jj fd ls lt lu lv aw lw bi"><span id="2522" class="lx lc hh lt b fi ly lz l ma mb">$ heroku login<br/>$ heroku container:login<br/>$ heroku create app-name</span></pre><blockquote class="kt ku kv"><p id="9017" class="jr js kw jt b ju jv ir jw jx jy iu jz kx kb kc kd ky kf kg kh kz kj kk kl km ha bi translated">有关命令的详细信息:<br/><a class="ae la" href="https://devcenter.heroku.com/articles/container-registry-and-runtime" rel="noopener ugc nofollow" target="_blank">https://dev center . heroku . com/articles/container-registry-and-runtime</a></p></blockquote><p id="18a1" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated"><strong class="jt hr"> 3。将图像推送到Heroku上的容器注册表</strong></p><pre class="jg jh ji jj fd ls lt lu lv aw lw bi"><span id="4ff3" class="lx lc hh lt b fi ly lz l ma mb">$ docker tag garbageclass:latest registry.heroku.com/&lt;app-name&gt;/web:latest</span><span id="17c9" class="lx lc hh lt b fi mc lz l ma mb">$ docker push registry.heroku.com/&lt;app-name&gt;/web:latest</span></pre><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es me"><img src="../Images/37538f75758c1035b2fa51ed1df280c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zV8oetT-RWa6aAlnVx550Q.png"/></div></div></figure><p id="87b9" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated"><strong class="jt hr"> 4。展开集装箱</strong></p><pre class="jg jh ji jj fd ls lt lu lv aw lw bi"><span id="88ad" class="lx lc hh lt b fi ly lz l ma mb">$ heroku container:release web --app app-name</span></pre><p id="bfea" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">然后打开Heroku，打开app。</p><figure class="jg jh ji jj fd jk er es paragraph-image"><div role="button" tabindex="0" class="jl jm di jn bf jo"><div class="er es mf"><img src="../Images/2b51efcf53504fedbf8ce30d17b17c61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jtzMC5bP9993XE6bueLO6g.png"/></div></div><figcaption class="ko kp et er es kq kr bd b be z dx">Web App</figcaption></figure><p id="05ee" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">利用Heroku日志找出错误(如果有的话)。</p><p id="2c9e" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">我们成功地在Heroku上免费部署了一个DL模型。我们将在结论文章中讨论弃用如何影响web应用的部署。</p><p id="db83" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated">在接下来的文章中，我们将尝试在一个web应用程序中部署<strong class="jt hr"> 6个深度学习模型</strong>。</p><p id="557e" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated"><strong class="jt hr">敬请期待。</strong></p><p id="2fca" class="pw-post-body-paragraph jr js hh jt b ju jv ir jw jx jy iu jz ka kb kc kd ke kf kg kh ki kj kk kl km ha bi translated"><strong class="jt hr">快乐学习</strong></p><div class="mg mh ez fb mi mj"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mk ab dw"><div class="ml ab mm cl cj mn"><h2 class="bd hr fi z dy mo ea eb mp ed ef hq bi translated">Mlearning.ai提交建议</h2><div class="mq l"><h3 class="bd b fi z dy mo ea eb mp ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mr l"><p class="bd b fp z dy mo ea eb mp ed ef dx translated">medium.com</p></div></div><div class="ms l"><div class="mt l mu mv mw ms mx jp mj"/></div></div></a></div></div></div>    
</body>
</html>