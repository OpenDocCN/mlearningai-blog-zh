<html>
<head>
<title>Central Limit Theorem: Let’s learn with an example using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中心极限定理:让我们通过一个使用Python的例子来学习</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/central-limit-theorem-lets-learn-with-an-example-using-python-4801b8d1c6b5?source=collection_archive---------1-----------------------#2022-02-02">https://medium.com/mlearning-ai/central-limit-theorem-lets-learn-with-an-example-using-python-4801b8d1c6b5?source=collection_archive---------1-----------------------#2022-02-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="7560" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">概率理论</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/7769ee1e001e03f07d18cd52d2402a62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*fA9j-SNLn-zMJc4l_ocpkQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">A small piece of information can tell the whole story</figcaption></figure><p id="bd2c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">中心极限定理(CLT) </strong>指出，如果我们有一个大的<strong class="ig hi"> <em class="jo">人口</em> </strong>，它可能或可能不遵循高斯(正态)分布；当我们从中抽取<strong class="ig hi"> <em class="jo">个随机样本</em> </strong>时，<strong class="ig hi"> <em class="jo">个样本意味着</em> </strong>将始终遵循高斯(正态)分布。我们将借助一个例子来理解这种说法。</p><p id="70de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在此之前，让我们先回答以下3个问题。</p><ol class=""><li id="732c" class="jp jq hh ig b ih ii il im ip jr it js ix jt jb ju jv jw jx bi translated"><strong class="ig hi"> <em class="jo">什么是高斯/正态分布？</em> </strong></li></ol><p id="5e13" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">它是从数据集形成的<strong class="ig hi"> <em class="jo">对称钟形</em> </strong>曲线，其中数据点出现的概率是<strong class="ig hi"> <em class="jo">靠近平均值</em> </strong>(以灰色突出显示)较频繁，远离平均值 【以蓝色突出显示】较不频繁。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es jy"><img src="../Images/e85bcb609ef22325f558488610cdde1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MX_4W0BnyXGR9utQD0_lLw.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Gaussian/Normal Distribution</figcaption></figure><p id="e438" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo"> 2。人口和人口是什么意思？</em> </strong></p><p id="03a4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“<strong class="ig hi">群体</strong>”是基于可用于统计目的的共同特征收集的整个数据集。</p><p id="48c4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，海洋中所有鱼的重量的数据集。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es kd"><img src="../Images/9c23f0e6ec44dc1563cd0816345e9573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*DEyYZrSbMiNnnTVcbHLdmw.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Population Depiction</figcaption></figure><p id="4476" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo">人口平均值</em> </strong>是对整个人口计算的平均值。</p><p id="a2d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，种群中所有鱼的平均重量。</p><p id="fd94" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo"> 3。样本和样本是什么意思？</em> </strong></p><p id="9bc7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo">样本</em> </strong>是数据点较少的总体的子集，即从总体中随机选取的数据。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ke"><img src="../Images/163e59a50d4a3c306058eae973815877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*iAmeNwhjuKf6J-jblZinag.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Sample Depiction</figcaption></figure><p id="7135" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo">样本平均值</em> </strong>是对样本数据集计算的平均值。</p><p id="2869" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">例如，样本中所有鱼的平均重量。</p></div><div class="ab cl kf kg go kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="ha hb hc hd he"><p id="e13b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们现在知道，什么是<strong class="ig hi">总体</strong>、<strong class="ig hi">样本、</strong>和<strong class="ig hi">高斯分布</strong>；<strong class="ig hi"> </strong>让我们借助一个例题数据集来理解<strong class="ig hi">中心极限定理</strong>。</p><p id="5f49" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本例中使用的这个<a class="ae km" href="https://data.world/montgomery-county-of-maryland/da04581d-180f-4008-bb0d-70d830f9e673" rel="noopener ugc nofollow" target="_blank">数据集</a>由2019年的员工工资组成。该数据集中的基本工资数据将是我们的总体，我们将从该总体中选择随机样本来计算样本均值。</p><p id="f4b8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将使用python中的<em class="jo"> pandas、matplotlib和sns </em>模块来加载和分析数据。</p><p id="ddda" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用pandas导入库模块并加载数据集</p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="003c" class="ks kt hh ko b fi ku kv l kw kx">import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>%matplotlib inline<br/>import warnings<br/>warnings.filterwarnings("ignore")<br/>population= pd.read_csv('employee_salary.csv')<br/>population</span></pre><p id="9d30" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是数据集的快照，它有10105行和8列。</p><p id="77b2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了理解CLT，我们只关注“基本工资”一栏，称之为全体人口的工资。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es ky"><img src="../Images/1e670152e359f02282123b0c53259d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*momC5QmOvKv4ae5nJyYjLg.png"/></div></div></figure><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="433e" class="ks kt hh ko b fi ku kv l kw kx">population_base_salary = population['Base Salary']</span></pre><p id="5d1e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们计算基本工资的总体平均值，并绘制直方图来检查分布情况</p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="c0d3" class="ks kt hh ko b fi ku kv l kw kx">print("Population Mean")<br/>print("---------------")<br/>print(population_base_salary.mean())<br/>sns.distplot(population_base_salary, color='grey')<br/>plt.xlabel('Population Base Salary')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kz"><img src="../Images/896f25b03535b4eaceb285e69d97f19e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*O0vRfxx0UCELZENQmRTJgg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Population Distribution of Base Salary</figcaption></figure><p id="70ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo">上图显示分布略有不对称，即不完全符合高斯分布。</em>T3】</strong></p><p id="537b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们将随机选择具有恒定数量样本的样本数据集，并计算平均值。我们重复这个过程500次，以获得500个样本平均值，然后绘制分布图。</p><p id="a248" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了更简单，我们可以使用下面的函数<strong class="ig hi"> calc_sample_mean </strong>，它将输入作为“样本大小”和“样本均值数量”，即要计算的“样本均值”的数量。这个函数在每次随机选择样本时计算样本的平均值，并以数组的形式返回。</p><p id="6531" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我们传递<em class="jo"> sample_size =2 </em>和<em class="jo"> no_of_sample_means=500 </em>，该函数将从数据集中随机选取2个“Base_Salary”样本，计算样本平均值并将其存储到一个数组中。它将重复这个过程来存储500个这样的样本平均值，并返回500个存储的样本平均值数组。</p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="8627" class="ks kt hh ko b fi ku kv l kw kx">mean = []<br/>def calc_sample_mean(sample_size, no_of_sample_means):<br/>    for i in range(no_of_sample_means):        <br/>        sample_base_salary = population_base_salary.sample(n=sample_size)<br/>        sample_mean=sample_base_salary.mean()<br/>        mean.append(sample_mean)<br/>    return mean</span></pre><p id="0b2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们使用该函数计算平均值，并绘制出<strong class="ig hi"> sample_size=2 </strong>的分布</p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="b0eb" class="ks kt hh ko b fi ku kv l kw kx">mean_2=calc_sample_mean(sample_size=2, no_of_sample_means=500)<br/>sns.distplot(mean_2, color='b')<br/>plt.xlabel('Sample Base Salary (Sample size =2)')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es la"><img src="../Images/1e48c2d54b372e3f36746a9dbb9a17cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1302/format:webp/1*oIgquwOEDAQs_KTvf4rBsg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 2</figcaption></figure><p id="1a4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在那里！！</p><p id="eec0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="jo">我们得到了一个高斯/正态分布曲线，有轻微的偏斜。</em>T15】</strong></p><p id="d1ba" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这证明了一个定理——如果我们有一个大的<strong class="ig hi"><em class="jo"/></strong>群体，它可能遵循也可能不遵循高斯(正态)分布，当我们从中抽取<strong class="ig hi"><em class="jo"/></strong>随机样本时，<strong class="ig hi"> <em class="jo">样本意味着</em> </strong>将总是遵循高斯(正态)分布。</p><p id="c425" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们按照相同的过程进行检查，但要增加sample_size。</p><p id="1ec0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> sample_size=3 </strong></p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="3c24" class="ks kt hh ko b fi ku kv l kw kx">mean_3=calc_sample_mean(sample_size=3, no_of_sample_means=500)<br/>sns.distplot(mean_3, color='r')<br/>plt.xlabel('Sample Base Salary Mean(Sample size =3)')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lb"><img src="../Images/e56f2a066235173f64d4fe538032ed00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*Q9MlbjWJ1DY1aHstTUS4mQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 3</figcaption></figure><p id="6056" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> sample_size=10 </strong></p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="80ee" class="ks kt hh ko b fi ku kv l kw kx">mean_10=calc_sample_mean(sample_size=10, no_of_sample_means=500)<br/>sns.distplot(mean_10, color='y')<br/>plt.xlabel('Sample Base Salary Mean(Sample size =10)')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lc"><img src="../Images/7c6bd627a55cb7142582b25b72b6274e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*-OEXaf4xpTmb6YCF3LU8Vg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 10</figcaption></figure><p id="0f11" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> sample_size=20 </strong></p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="8c93" class="ks kt hh ko b fi ku kv l kw kx">mean_20=calc_sample_mean(sample_size=20, no_of_sample_means=500)<br/>sns.distplot(mean_20, color='g')<br/>plt.xlabel('Sample Base Salary Mean(Sample size =20)')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ld"><img src="../Images/352fbbf1e7cd46cb96ac01228edcdc74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*BG5I4biUZd7j3hqEEzdiZg.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 20</figcaption></figure><p id="136c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi"> sample_size=30 </strong></p><pre class="jd je jf jg fd kn ko kp kq aw kr bi"><span id="09c7" class="ks kt hh ko b fi ku kv l kw kx">mean_30=calc_sample_mean(sample_size=30, no_of_sample_means=500)<br/>sns.distplot(mean_30, color='maroon')<br/>plt.xlabel('Sample Base Salary Mean(Sample size =30)')<br/>plt.ylabel('Probability Density')</span></pre><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es le"><img src="../Images/4c5e83545e97d56ddc771724888c3b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1204/format:webp/1*BUX_9Ch9QSVbbwPJAvnXMw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 30</figcaption></figure><p id="79af" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">样本_大小&gt; 30 </strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lf"><img src="../Images/c8dfe9350e1a8d1d1a35dedb2b1db09d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*3YIoZNu6e3fAuijt70UXxA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 40</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lg"><img src="../Images/25c5b70f71f9d9be50966d7141c51d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*SAxceeGZgRv8jYAOOmTQUw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Distribution Curve from Sample Mean with Sample Size 100</figcaption></figure><p id="56f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">随着样本量的增加，偏斜度降低，曲线变得更加尖锐。查看<a class="ae km" href="https://github.com/gayathrig21/Medium_Examples/tree/main/Central_Limit_Theorem" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中的代码。</p><p id="f8e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这说明无论我们的<strong class="ig hi"><em class="jo"/></strong>人口分布曲线是什么，其<strong class="ig hi"> <em class="jo">样本均值都将始终遵循高斯(正态)分布。</em>T47】</strong></p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="er es lh"><img src="../Images/2a9ac03a2dc45a1022f04cc3cf9f0d1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C99s62nT-TXbnwayFegruA.png"/></div></div></figure><blockquote class="li lj lk"><p id="5344" class="ie if jo ig b ih ii ij ik il im in io ll iq ir is lm iu iv iw ln iy iz ja jb ha bi translated">等于或大于30 的样本量<strong class="ig hi">被认为足以使定理成立，但这并不总是必要的。在我们的例子中，我们可以观察到，我们得到一个样本大小为10或20的高斯分布。</strong></p></blockquote><p id="8d02" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">所以有人会问，中心极限定理的实际含义是什么？</p><p id="ce89" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在几乎所有情况下，收集和统计分析整个人口的数据几乎是不可能的。任何群体的样本数据都可以用于使用CTL得出关于总体的结论，因为我们知道样本均值总是正态分布的！！！！</p><p id="8005" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">快乐学习！！！！</p><div class="lo lp ez fb lq lr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hi fi z dy lw ea eb lx ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">medium.com</p></div></div><div class="ma l"><div class="mb l mc md me ma mf ji lr"/></div></div></a></div></div></div>    
</body>
</html>