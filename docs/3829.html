<html>
<head>
<title>GPT3 does Dishes? No, use it to Query your Dishwasher Repair Manual</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GPT3洗碗？不，用它来查询你的洗碗机维修手册</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/gpt3-does-dishes-no-use-it-to-query-your-dishwasher-repair-manual-39af99e017a0?source=collection_archive---------4-----------------------#2022-10-27">https://medium.com/mlearning-ai/gpt3-does-dishes-no-use-it-to-query-your-dishwasher-repair-manual-39af99e017a0?source=collection_archive---------4-----------------------#2022-10-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/88a1f5ab564035b23313f0b622bc6dd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*1q7_B21f046aJNPhDK5HWg.png"/></div><figcaption class="il im et er es in io bd b be z dx">StableDiffusion prompt: elegant robot near a dishwasher washes dishes with dextrous arms very watchful of carrying dishes not breaking anything</figcaption></figure><p id="083e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">哦，我现在引起你的注意了吗？我们的任务是淘汰短语<a class="ae jn" href="https://en.wikipedia.org/wiki/RTFM" rel="noopener ugc nofollow" target="_blank"> RTFM </a>，创造新的东西；QTM(查询手册)。</p><h2 id="68b5" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">对于不耐烦的人…</h2><p id="634d" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">用OpenAP钥匙武装自己，然后去我的<a class="ae jn" href="https://github.com/aurotripathy/query-your-dish-washer-repair-man" rel="noopener ugc nofollow" target="_blank"> GitHub repo </a>玩笔记本。你应该可以复制我的结果。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es ko"><img src="../Images/6d56e16d622e4770c87feaa20b95375c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9VUJ9h-xjwwDaKeOxLdO1w.png"/></div></div><figcaption class="il im et er es in io bd b be z dx">(1) Scrape the documents you want to query, (2) Build embeddings for each chunk of text, (3) Retrieve relevant text with a nearest-neighbor search, (4) Hand it to GPT’s prompt-completion engine to generate an answer.</figcaption></figure><h2 id="dfea" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">对病人来说…</h2><p id="8e62" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">通过四个简单的步骤(如上所示)，你可以用GPT3建立一个可查询的洗碗机维修手册。这些步骤适用于查询任何文本。</p><h2 id="7566" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">1.刮掉一本洗碗机维修手册，然后创建一大段文字。</h2><p id="9c6d" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">我给你一个<a class="ae jn" href="https://github.com/aurotripathy/query-your-dish-washer-repair-man/blob/main/scraper.py" rel="noopener ugc nofollow" target="_blank">先手</a>通过刮这个洗碗机修理<a class="ae jn" href="https://www.appliancerepair.net/dishwasher-repair-1.html" rel="noopener ugc nofollow" target="_blank">手册</a>；如果你从一个网站开始，你必须理解文档的布局，并使用像<a class="ae jn" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> Beautiful Soup </a>这样的<a class="ae jn" href="https://www.w3schools.com/js/js_htmldom.asp" rel="noopener ugc nofollow" target="_blank"> DOM </a>解析器(我在我的例子中使用了它)。有很多方法可以为DOM换肤，最终结果将是一个包含四列<code class="du kx ky kz la b">”title”, ”heading”, ”content”, ”tokens”</code>的CSV文件。前两列用作检索内容的索引。我们从<code class="du kx ky kz la b">content </code>列中生成嵌入。<code class="du kx ky kz la b">tokens</code>列是块中单词总数的计数；小块可以和周围的句子组合在一起。</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="6fcf" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">2.从文本块中构建嵌入</h2><p id="7de2" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">将整个文本转换成嵌入内容是通过<code class="du kx ky kz la b"><a class="ae jn" href="https://www.sbert.net/index.html" rel="noopener ugc nofollow" target="_blank">SentenceTransformer</a></code>库完成的，该库提供了一种基于BERT的模型选择。我学到的诀窍是挑一个<a class="ae jn" href="https://www.sbert.net/examples/applications/semantic-search/README.html#symmetric-vs-asymmetric-semantic-search" rel="noopener ugc nofollow" target="_blank">不对称型号</a>；它们适用于短查询(和相对较长的文本)。</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="68ab" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">3.根据您的查询检索“相关”文本</h2><p id="660f" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">每个嵌入(无论是查询还是文本块)本质上都是n=768维空间中的一个向量。基于BERT，它能熟练地捕捉上下文。查询向量和任何块向量之间的相似性的度量是它们之间的余弦。在查询和每个文本块之间应用余弦度量之后，我们按照相似性的降序对它们进行排序。</p><p id="70fe" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">注意，您可以使用OpenAI的Curie模型，<code class="du kx ky kz la b">text-search-curie-query-001 </code>(此处显示为<a class="ae jn" href="https://github.com/openai/openai-cookbook/blob/main/examples/Question_answering_using_embeddings.ipynb" rel="noopener ugc nofollow" target="_blank"/>)来生成嵌入；我选择不要(省了我几块钱)。</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="2015" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">4.GPT3根据检索到的文本生成事实答案</h2><p id="af80" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">完成基于查询的提示是GPT3的亮点(而GPT2作为一个小得多的模型，是不合格的)。托管GPT3是一项艰巨的任务，所以我们依赖OpenAI的API(Cohere的API是另一个候选，但是我没有任何经验)。</p><p id="5d89" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">建立上下文的提示需要以GPT3可以使用它来完成“上下文”的方式来构建。</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="0554" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">结束…</h2><p id="8c78" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">现在对这些回应感到惊讶。</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><p id="10fc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">另一个是简短但有用的</p><figure class="kp kq kr ks fd ii"><div class="bz dy l di"><div class="lb lc l"/></div></figure><h2 id="06f2" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">参考</h2><p id="030e" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated"><a class="ae jn" href="https://github.com/openai/openai-cookbook/blob/main/examples/Question_answering_using_embeddings.ipynb" rel="noopener ugc nofollow" target="_blank">使用嵌入回答问题</a></p><p id="7aad" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><a class="ae jn" href="https://gist.github.com/aurotripathy/3a3c0244f0a9cb4c8794e553470bc95f" rel="noopener ugc nofollow" target="_blank">句子变压器文档</a></p><h2 id="0acd" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">谢谢</h2><p id="5c89" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">👏为这个故事鼓掌，跟我来👉</p><div class="ld le ez fb lf lg"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lh ab dw"><div class="li ab lj cl cj lk"><h2 class="bd hi fi z dy ll ea eb lm ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ln l"><h3 class="bd b fi z dy ll ea eb lm ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lo l"><p class="bd b fp z dy ll ea eb lm ed ef dx translated">medium.com</p></div></div><div class="lp l"><div class="lq l lr ls lt lp lu ij lg"/></div></div></a></div></div></div>    
</body>
</html>