<html>
<head>
<title>Machine learning explainability Permutation importance</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习可解释性排列重要性</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/machine-learning-explainability-permutation-importance-7a9a69bf5943?source=collection_archive---------1-----------------------#2022-12-31">https://medium.com/mlearning-ai/machine-learning-explainability-permutation-importance-7a9a69bf5943?source=collection_archive---------1-----------------------#2022-12-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/562cb35329217268376fa1f5dc86de66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6us_KJbiNVBzk-F5NF9Ulg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Feature importance plot</figcaption></figure><h1 id="b928" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">特征重要性</h1><p id="48e1" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">了解模型中最重要的特性可以帮助我们理解它是如何工作的。<strong class="jt hi">排列重要性</strong>是衡量特征重要性的一种方式。这种方法的工作原理是<strong class="jt hi">随机打乱单个特征，然后测量对模型预测的影响</strong>。这是一项非常有用的技术，可用于了解哪些要素对于特定预测最为重要，以及每个要素对模型预测的一般影响。</p><h1 id="9c61" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">与其他方法相比，为什么使用排列重要性</h1><ul class=""><li id="dfee" class="kp kq hh jt b ju jv jy jz kc kr kg ks kk kt ko ku kv kw kx bi translated">计算速度很快</li><li id="b92f" class="kp kq hh jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">被广泛使用和理解</li><li id="44e2" class="kp kq hh jt b ju ky jy kz kc la kg lb kk lc ko ku kv kw kx bi translated">与特征重要性度量的性质一致</li></ul><h1 id="4aa9" class="it iu hh bd iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq bi translated">排列重要性</h1><p id="cf6b" class="pw-post-body-paragraph jr js hh jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ha bi translated">它是在模型拟合后计算出来的。如果我们随机打乱验证数据的单个列，让目标列和所有其他列保持不变，这会如何影响现在打乱的数据中预测的准确性？</p><h2 id="9fbb" class="ld iu hh bd iv le lf lg iz lh li lj jd kc lk ll jh kg lm ln jl kk lo lp jp lq bi translated">计算排列重要性的步骤</h2><ol class=""><li id="6d2b" class="kp kq hh jt b ju jv jy jz kc kr kg ks kk kt ko lr kv kw kx bi translated">找个训练有素的模特。</li><li id="88fe" class="kp kq hh jt b ju ky jy kz kc la kg lb kk lc ko lr kv kw kx bi translated">对单个列中的值进行排序，并使用生成的数据集进行预测。使用这些预测和真实目标值来计算损失函数因洗牌而遭受的损失。这种性能下降衡量的是你刚刚打乱的变量的重要性。</li><li id="22a2" class="kp kq hh jt b ju ky jy kz kc la kg lb kk lc ko lr kv kw kx bi translated">将数据恢复到原始顺序(取消步骤2中的无序播放)对数据集中的下一列重复步骤2，直到计算出每一列的重要性。</li></ol><pre class="ls lt lu lv fd lw lx ly bn lz ma bi"><span id="3dac" class="mb iu hh lx b be mc md l me mf">import eli5<br/>from eli5.sklearn import PermutationImportance<br/>perm = PermutationImportance(my_model, random_state=1).fit(val_X, val_y)<br/>eli5.show_weights(perm, feature_names = val_X.columns.tolist())</span></pre><figure class="ls lt lu lv fd ii er es paragraph-image"><div class="er es mg"><img src="../Images/8a2579d8cf5e5b38adbce2db44ead798.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*C52UK80v1-Y0yriFXv_O-A.png"/></div><figcaption class="ip iq et er es ir is bd b be z dx">show_weights by eli5</figcaption></figure><p id="8f30" class="pw-post-body-paragraph jr js hh jt b ju mh jw jx jy mi ka kb kc mj ke kf kg mk ki kj kk ml km kn ko ha bi translated">顶部的值是最重要的特性，底部的值是最不重要的特性。当我们看到特征重要性为负值时，可能会发生这样的情况:对混洗数据的预测比真实数据更准确。当特征无关紧要，但随机机会导致对混洗数据的预测更准确时，会出现这种情况。</p><h2 id="0257" class="ld iu hh bd iv le lf lg iz lh li lj jd kc lk ll jh kg lm ln jl kk lo lp jp lq bi translated">其他资源和参考</h2><div class="mm mn ez fb mo mp"><a href="https://www.kaggle.com/code/somesh88/exercise-permutation-importance?scriptVersionId=115166681" rel="noopener  ugc nofollow" target="_blank"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hi fi z dy mu ea eb mv ed ef hg bi translated">练习:排列的重要性</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自多个数据源的数据</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">www.kaggle.com</p></div></div><div class="my l"><div class="mz l na nb nc my nd in mp"/></div></div></a></div><blockquote class="ne nf ng"><p id="4403" class="jr js nh jt b ju mh jw jx jy mi ka kb ni mj ke kf nj mk ki kj nk ml km kn ko ha bi translated">感谢你阅读我的博客！🤗关注我了解更多内容，别忘了在评论里问好。收到读者来信总是令人鼓舞的。祝您愉快！🤗</p></blockquote><div class="mm mn ez fb mo mp"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mq ab dw"><div class="mr ab ms cl cj mt"><h2 class="bd hi fi z dy mu ea eb mv ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mw l"><h3 class="bd b fi z dy mu ea eb mv ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mx l"><p class="bd b fp z dy mu ea eb mv ed ef dx translated">medium.com</p></div></div><div class="my l"><div class="nl l na nb nc my nd in mp"/></div></div></a></div></div></div>    
</body>
</html>