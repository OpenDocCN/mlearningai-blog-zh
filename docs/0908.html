<html>
<head>
<title>Compare 42 Different ML Regressors with a single line of code — Lazypredict</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用一行代码— Lazypredict比较42个不同的ML回归变量</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/compare-42-different-ml-regressors-with-a-single-line-of-code-lazypredict-533f93f21eea?source=collection_archive---------0-----------------------#2021-08-20">https://medium.com/mlearning-ai/compare-42-different-ml-regressors-with-a-single-line-of-code-lazypredict-533f93f21eea?source=collection_archive---------0-----------------------#2021-08-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><blockquote class="ie if ig"><p id="6d32" class="ih ii ij ik b il im in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf ha bi translated"><em class="hh">比较来自42个不同ML回归元的不同回归指标的快速方法</em></p></blockquote><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/bf76386f1d2083ec6f379c084e2e9427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PP1kf0AnwDeaDxuX2DBtCg.png"/></div></div></figure><h1 id="8061" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">介绍</h1><p id="ff31" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">在我的上一篇<a class="ae ky" rel="noopener" href="/mlearning-ai/compare-29-different-ml-classifiers-with-a-single-line-of-code-lazypredict-53b7a7a1a036">博客</a>中，我讨论了用一行代码在29个不同的ML分类器上评估分类度量。</p><p id="d19c" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">在这篇博客中，我们将用一行代码评估42个不同的ML回归变量的回归度量。我们将使用Lazypredict python库来完成这项任务，稍后将可视化我们的结果。我们将使用Lazypredict python库来完成这项任务，稍后将可视化我们的结果。</p><h1 id="8ed8" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">导入库</h1><p id="c727" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">我们将首先在我们的环境中安装Lazypredict库。这可以在pip包安装程序的帮助下完成。</p><pre class="jh ji jj jk fd kz la lb lc aw ld bi"><span id="509d" class="le jt hh la b fi lf lg l lh li">pip install lazypredict</span></pre><p id="0510" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">接下来，我们将导入数据处理和可视化所需的库。</p><pre class="jh ji jj jk fd kz la lb lc aw ld bi"><span id="cd15" class="le jt hh la b fi lf lg l lh li">import lazypredict <br/>from lazypredict import Supervised <br/>from lazypredict.Supervised import LazyRegressor<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>from sklearn.datasets import load_boston<br/>from sklearn import datasets<br/>from sklearn.model_selection import train_test_split</span><span id="0570" class="le jt hh la b fi lj lg l lh li">plt.style.use('fivethirtyeight')<br/>plt.rcParams["figure.figsize"] = (10,5)</span></pre><h1 id="f7fd" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">资料组</h1><p id="afe8" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">我们将使用sklearn.datasets库附带的波士顿房价检测数据集。数据集有一个用于价格预测的输出标签。然后，我们将把数据分成测试集和训练集。</p><pre class="jh ji jj jk fd kz la lb lc aw ld bi"><span id="8de2" class="le jt hh la b fi lf lg l lh li">data = load_boston()</span><span id="d8a9" class="le jt hh la b fi lj lg l lh li">X = data.data<br/>y = data.target</span><span id="5cb4" class="le jt hh la b fi lj lg l lh li">X_train, X_valid, y_train, y_valid = train_test_split(X, y,test_size=.33,random_state =12)</span></pre><h1 id="d9bf" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">列出所有可用的回归变量</h1><p id="87ee" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">现在，我们将列出lazypredict库中所有可用的回归变量。</p><pre class="jh ji jj jk fd kz la lb lc aw ld bi"><span id="6f57" class="le jt hh la b fi lf lg l lh li">print("ALL AVAILABLE REGRESSION MODELS:")<br/>for i in range(42):<br/>    print(i+1, lazypredict.Supervised.REGRESSORS[i][0])</span></pre><p id="b367" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">我们得到以下42个回归量:</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lk"><img src="../Images/a7bc1bff48327404fd449b6b540dd2dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*Lso1rlz_OwwdEyCI5QxAlA.png"/></div><figcaption class="ll lm et er es ln lo bd b be z dx">List of available regressors.</figcaption></figure><h1 id="b0aa" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">训练和拟合模型</h1><p id="157a" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">现在，我们将创建之前导入的LazyRegressor模型，并将我们的训练和验证数据放入该模型中</p><pre class="jh ji jj jk fd kz la lb lc aw ld bi"><span id="e006" class="le jt hh la b fi lf lg l lh li">reg = LazyRegressor(verbose=0,<br/>                     ignore_warnings=True,<br/>                     custom_metric=None,<br/>                     random_state=12,<br/>                     regressors='all',<br/>                    )<br/>models,predictions = reg.fit(X_train, X_valid, y_train, y_valid)</span></pre><p id="4798" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">训练在2.93秒内完成，所有指标都存储在<em class="ij">模型</em>数据框架中。数据框架包含模型的名称、各种回归指标，如调整后的R平方、R平方、RMSE和耗时。</p><h1 id="8dae" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">前5个回归变量</h1><p id="f6ed" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">我们现在将看到前5个回归变量及其所有回归指标。对于数据帧的前5行，我们将调用models.head(5)</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div class="er es lp"><img src="../Images/49e34a5a5415114baa56b4080fef5eda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*QXHMBIu0mjYBlvF_UDxh3w.png"/></div><figcaption class="ll lm et er es ln lo bd b be z dx">Top 5 Regressors</figcaption></figure><h1 id="0afd" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">可视化结果</h1><p id="7a1f" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">现在，我们将使用两个不同的曲线图来分别显示所有模型的RMSE(均方根误差)和时间。</p><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es jg"><img src="../Images/bf76386f1d2083ec6f379c084e2e9427.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PP1kf0AnwDeaDxuX2DBtCg.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">RMSE vs Model Index</figcaption></figure><figure class="jh ji jj jk fd jl er es paragraph-image"><div role="button" tabindex="0" class="jm jn di jo bf jp"><div class="er es lq"><img src="../Images/490f1af8ffd93b17c49b6f94481161ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*O8LEpL2sHTtcXrie9wBnsQ.png"/></div></div><figcaption class="ll lm et er es ln lo bd b be z dx">Time taken vs Model Index</figcaption></figure><h1 id="8082" class="js jt hh bd ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp bi translated">结论</h1><p id="a8a3" class="pw-post-body-paragraph ih ii hh ik b il kq in io ip kr ir is ks kt iv iw ku kv iz ja kw kx jd je jf ha bi translated">我们已经用一行代码成功地评估了42个不同的回归变量。所选模型的超参数调整可以进一步改善结果。</p><p id="cb77" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">我希望你喜欢它。</p><p id="6101" class="pw-post-body-paragraph ih ii hh ik b il im in io ip iq ir is ks iu iv iw ku iy iz ja kw jc jd je jf ha bi translated">这篇博客的代码和训练模型可以在这里获得—<a class="ae ky" href="https://github.com/sanskar-hasija/lazypredict/blob/main/Regression/LazyPredict%20Regression.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/sanskar-hasi ja/lazy predict/blob/main/Regression/lazy predict % 20 Regression . ipynb</a></p></div></div>    
</body>
</html>