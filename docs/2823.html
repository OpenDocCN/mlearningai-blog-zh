<html>
<head>
<title>ABC data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ABC数据</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/abc-data-5cf3dc3c5885?source=collection_archive---------5-----------------------#2022-06-14">https://medium.com/mlearning-ai/abc-data-5cf3dc3c5885?source=collection_archive---------5-----------------------#2022-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="00f3" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">贝叶斯分析</h2></div><p id="2f91" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">贝叶斯分析通常被称为“另一种方式”或“新的统计”，但这当然是无稽之谈。<a class="ae js" rel="noopener" href="/mlearning-ai/pr-non-vax-icu-pr-icu-non-vax-f7af477896ad">贝叶斯定理</a>比费希尔的著作更古老，比最大似然法更符合<a class="ae js" rel="noopener" href="/mlearning-ai/why-science-is-beautifully-human-and-very-frail-4f6225d32bb0">科学</a>和知识的获取。</p><p id="b1c6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">为了表明贝叶斯分析真的没有那么难，或者与我们人类处理(新)信息的方式相差甚远，我已经发布了几个贝叶斯分析。在已知的数据集上，比如<a class="ae js" href="https://pub.towardsai.net/good-old-iris-93358b8ecdbd" rel="noopener ugc nofollow" target="_blank"> Iris </a>，<a class="ae js" rel="noopener" href="/mlearning-ai/mixed-models-of-chicks-weight-a41413c99b51"> Chickweight </a>，<a class="ae js" rel="noopener" href="/mlearning-ai/mtcars-f68f02c29a2"> MTcars </a>或者<a class="ae js" rel="noopener" href="/mlearning-ai/determining-the-rent-d1431c90ca9f"> Rent99 </a>。今天，我将展示我如何分析一个名为ABC的模拟数据集。这没什么稀奇的，但也不尽然。贝叶斯定理创造了奇迹，尤其是在小样本中，它的力量来自于当前数据集之外。这就是为什么使用贝叶斯分析总会比任何一种最大似然法告诉你更多。</p><p id="285e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当谈到贝叶斯和贝叶斯分析时，它似乎经常归结为知道三个词:先验，似然，后验。同意，这些是需要知道的重要词汇，但它们不是贝叶斯分析的主要驱动力。那就是你，模型师。那个研究员。一个是在创建新的数据集(可能性)之前尽最大努力获取尽可能多的可靠信息，以将过去的知识扩展到新的当前知识(后验)。建模是人类与生俱来的，Bayes很好地展示了这种有条件的工作方式。</p><p id="8b63" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们从ABC数据集开始，一步步学习。我把代码放在后面，我希望图表是帖子的主要驱动力。这是因为怎么做，你以后就能搞清楚了。但首先重要的是，你要熟悉p值<a class="ae js" rel="noopener" href="/mlearning-ai/inference-estimates-p-values-and-confidence-limits-a-frequentist-approach-acdd45d94bd5">的缺失，并拥抱不确定性。</a></p><p id="248a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在生活中，这往往是我们所拥有的一切。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es jt"><img src="../Images/60b906bc7ec0d1a82929b30a593142bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*lY1hybwh45i1o_DqlUwgUg.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">The creation of data. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/dd56c16ca8ffbd36d1bf5acc4fb89fe6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Du-TzcoBfpRXdCY94VwwEw.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">A plot of the simulated dataset. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/51f486bb86756180e7000bf79017ed08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*krAYmUeHXM2DSgY3NfSERQ.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">And a way of showing how each mean of each category differs from the grand mean. These plots are extremely easy to make in R, but add very little except more numbers, statistics etc. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/de030e44f28ab6de55f946477531c786.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u0HB-ayGm4nQRKBUWdIGCg.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Another plot showing how you can create p-values for each possible combination of comparison across each of the five levels. The overkill is clear to see, but make no mistake: the p-value is still a dominant driver in the sciences. Image by author.</figcaption></figure><p id="48a1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">好了，让我们快速转向贝叶斯分析。我将使用<a class="ae js" href="https://cran.r-project.org/web/packages/brms/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi"> brms </strong> </a>包，尽管存在许多其他包，如<a class="ae js" href="https://cran.r-project.org/web/packages/rstanarm/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi"> rstanarm </strong> </a>或<a class="ae js" href="https://cran.r-project.org/web/packages/MCMCglmm/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi"> MCMCglmm </strong> </a>。像R中的大多数东西一样，你可以找到十种不同的方法来做同样的事情。</p><p id="4562" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">没有预先确定先验的贝叶斯模型只是一个使用最大似然的频繁模型。结果应该完全相同。如果我们不指定先验信息，那么<strong class="iy hi"> brms </strong>包会为我们指定先验信息，因为采样引擎需要先验信息。您可以在下面看到，根据将要分析的数据集，确定了五个先验。这不是贝叶斯分析。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kk"><img src="../Images/2e673eeb066a2bdffd00eea72a50241b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K_ouiX4dSQlH8a4CR0t14w.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Priors determined by the <strong class="bd kl">brms </strong>package by looking at the data. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy kn ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/4695fea10a2b67d1b6a6f87a5e70580a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*-utd4CYemZLK__f7lRpB9g.png"/></div></figure><figure class="km jy ks ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/3c48e0286f063c66d1ed1bab16f50196.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*1EST6sbrSVD_oxJljqC3Kw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx kt di ku kv">The summary results coming from the <strong class="bd kl">brms </strong>package and the convergence of each of the three parameters of interest. Although you saw five priors in the graph above, the model actually only contains three paramaters of interest. The difference between <strong class="bd kl">source default</strong> or <strong class="bd kl">source (vectorized) </strong>is that they are named differently, but in fact the three priors for class <strong class="bd kl">sd </strong>call for the same thing. Hence, <strong class="bd kl">brms </strong>will only use one and that is why you only see three distributions with accompanying chains. Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/a9c916f021bd801aa5148ffc386a4238.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*24aHEQ04LlojCySzhTwGkw.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/ce12b84df3ae2a80cb1fa7da93c9e620.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*iCWf7Y5lL7MGcoRjXb_C6Q.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/c4c0171e89204ce8229b71d7736dbad2.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*4-VY0y7wyNQqu5NqK1YjQg.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx kx di ky kv">Below you see three different graphs showing the exact same thing, but slightly different: the posterior distribution of each of the five categories. Image by author.</figcaption></figure></div><p id="68c6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，下图是最有趣的。我们已经在上面展示了p值，但是没有贝叶斯可以不关心p值，你也不应该。重要的是显示任何组合组之间差异的后验分布的估计值、效应大小和密度。因此，如果我们看到类别A &amp; C之间的差异不包含零，这意味着差异不为零。在这里，它徘徊在1.6左右，这个数字有相当大的不确定性。这意味着，尽管A &amp; C之间存在差异(考虑到该数据集和我们的非信息性先验)，但这种差异有一个需要包括在内的范围。这并不意味着差异将总是在1.6左右。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/a9457ec13a32543bf51a2c74cece49f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WNx4aV5IfEaFIlAEbgCRDg.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Image by author.</figcaption></figure><p id="7acb" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果你想要一个更好的，但不完全相同的，频率主义者和贝叶斯分析方法的比较，那么看看下面。最大的区别，但现在不是很重要，是线性回归<strong class="iy hi"> (lm) </strong>模型将条件视为固定影响，尽管贝叶斯模型将其视为随机影响。顺便说一句，用贝叶斯理论讨论固定和随机效应时要小心——根据贝叶斯理论，所有参数都是固有随机的。</p><div class="ju jv jw jx fd ab cb"><figure class="km jy kz ko kp kq kr paragraph-image"><img src="../Images/fc6955e7d3b836fb1ebc23a8d74a8983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1080/format:webp/1*DCwaP2guAuRM_a3WdYTqrw.png"/></figure><figure class="km jy la ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/4852b6ca5d63c51a9a21c50e7a4d9986.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*fadbs9LMcgaqXsvO5tTz9w.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lb di lc kv">Linear regression (lm) model showing the summary and assumption plots. Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy ld ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/1c136ba72cc29aa3b17dc65b3f8ecab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*HwcX_awdntecYmrCL3TMsA.png"/></div></figure><figure class="km jy le ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/44da6add8f00b6b360eb1a10d82720b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*OnBxGQAFTxr02X82JUVx7A.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lf di lg kv">The Bayesian model. The estimates are not directly the same because the <strong class="bd kl">lm </strong>model specified fixed effects whereas the <strong class="bd kl">Bayesian </strong>model specified random effects. Image by author.</figcaption></figure></div><p id="dfe6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当在R中创建贝叶斯模型时，<strong class="iy hi"> brms </strong>包需要与<a class="ae js" href="https://cran.r-project.org/web/packages/rstan/vignettes/rstan.html" rel="noopener ugc nofollow" target="_blank"> STAN </a>采样器对话，它通过在将数据发送给STAN之前将数据转换成STAN代码来完成。在下面，你可以看到代码。如果您愿意，也可以通过STAN代码直接对数据建模。下面，你从头开始看斯坦代码。乏味吗？</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lh"><img src="../Images/8863e650aaa1f9298e773891a3266ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nBja1xIhnoDvJRSS9PaVw.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Model in STAN language. It will often use half-cauchy distributions for modelling variance components. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy li ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/3d017c8d1c13e8043803059d1f1458b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*c-rkRCFH9H22oUeHe88Zrw.png"/></div></figure><figure class="km jy lj ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/85b7b5505b99c16e18efc15e092e33f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*wxG_o9SGrticHg-SOWJTzw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">Here, you can see the Cauchy distribution used, and the Normal distribution used. The Cauchy is not my favorite for modelling variance — I prefer gamma or beta. Image by author.</figcaption></figure></div><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lm"><img src="../Images/4966827ff5327bd2bcb095377da13632.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*E5nWV3671CG__UDsRc7B1g.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">You can enter the STAN code directly and get Bayesian results. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es ln"><img src="../Images/d73d602485298e1ea316ae2ebd4fe966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/1*wNz6IPUHgn21aPK7VxPehQ.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">And the Bayesian results. You obtain, for each parameter sampled, the <strong class="bd kl">average</strong>, <strong class="bd kl">standard error</strong> and <strong class="bd kl">various percentages of the distribution</strong>. You also see metrics, like <strong class="bd kl">n_eff </strong>and <strong class="bd kl">Rhat</strong>, related to standard Bayesian evaluation but they offer little to me. I prefer plotting the posterior distributions and see if the chains made the appropriate noise-like behavior. Image by author.</figcaption></figure><p id="3ae3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，让我们将来自线性模型(<em class="lo"> linear_results </em>)的结果与包括固定条件(<em class="lo"> bayes_results2 </em>)或随机条件(<em class="lo"> bayes_results </em>)的bayes模型的结果进行比较。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lp"><img src="../Images/4bc655d2e5a9de636716375b333463a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUPfSZDx2IdIQBik-JcSaw.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">The “posterior” estimates coming from a linear, and two Bayesian model. Of course, the linear model cannot provide posterior estimates. They are likelihood estimates. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/eb0d09a58b333a259028534896e455bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*W68_xO65TcA-e3gO4bRkuQ.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/9a92b294e52acba2dfd24e2f7f682763.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*IC80flyz4P61Z1_vhnFpmw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">And the results, which deviate somewhat for all three, with the biggest difference in Bayes Random. That make quite some sense, considering how fixed and random components work. If you want to read more about this, and why <a class="ae js" href="https://towardsdatascience.com/introduction-to-meta-analysis-in-r-468e9b33925c" rel="noopener" target="_blank"><strong class="bd kl">Mixed Models</strong></a><strong class="bd kl"> </strong>(containing fixed and random components) are the closest thing to Bayesian modeling (especially if you know that Mixed Models are models used for <a class="ae js" href="https://towardsdatascience.com/introduction-to-meta-analysis-in-r-468e9b33925c" rel="noopener" target="_blank"><strong class="bd kl">Meta-analysis</strong></a>). Image by author.</figcaption></figure></div><p id="672f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我最不喜欢R的一点是，你可以通过许多不同的方式进行相同的分析，但是周围的特性往往会有所不同。例如，<em class="lo">采样</em>过程来自<strong class="iy hi"> rstan </strong>，它允许我的stan代码连接到数据集并检索R格式的数据。从该格式中，我可以获得后验图，并绘制它们，但如果我将<strong class="iy hi"> brms </strong>包与<a class="ae js" href="http://mc-stan.org/bayesplot/" rel="noopener ugc nofollow" target="_blank"> <strong class="iy hi"> bayesplot </strong> </a>结合使用，看起来会有些不同。因此，许多许多的组合是可能的，但是你总是需要确定你知道你正在使用什么包。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lh"><img src="../Images/8863e650aaa1f9298e773891a3266ed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6nBja1xIhnoDvJRSS9PaVw.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Once again, the STAN code. Built from scratch. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lr"><img src="../Images/33fa8c7f22e6f8cc907b3019e658a5f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*ftLFJ1cDAjOkyBTqqIKoAw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">The <strong class="bd kl">sampling </strong>procedure. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es ls"><img src="../Images/33031f37fda139f37f0dd18409fbe3a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vm0NHKfPa6qIo6N7Mh8ZNA.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">The magic of <strong class="bd kl">tidyverse </strong>and <a class="ae js" href="http://mjskay.github.io/tidybayes/" rel="noopener ugc nofollow" target="_blank"><strong class="bd kl">tidybayes </strong></a>to get everything you want from your posterior draws. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es kf"><img src="../Images/b9fd46fdd5cc620fd34d562d427e2207.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*onKXKklrgKX6e0qMtFvFOA.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Posterior distribution of the difference between each of the categories. No p-values. You have to love this! Image by author.</figcaption></figure><p id="0583" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我之前已经说过，您也可以使用<strong class="iy hi"> rstanarm </strong>从数据中取样。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lt"><img src="../Images/5682fc0d660c203d92515ee9c0811810.png" data-original-src="https://miro.medium.com/v2/resize:fit:856/format:webp/1*avnFd0J-nuAJ53JMeVl7eQ.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">The syntax for Bayesian modeling could not be more simple. However, no informative priors were provided so we can hardly call this model Bayesian. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es lu"><img src="../Images/d073ba1123213b8aaa1ab53175b547ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*sz3Jb0ecEq8d_w3LY777pA.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">The results from <strong class="bd kl">rstanarm</strong>. Image by author.</figcaption></figure><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es lv"><img src="../Images/9adfc2773908dd7ebf7aa07220109a81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IsCq377ndOqRadiInPSq6A.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Default posterior distribution plot coming from <strong class="bd kl">rstanarm</strong>. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/b3067f2fcc09650e518e27239fd6764f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*RP_ON38YugIlfqLyAxBl8A.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/d3601c5c0a1a81f58edfe9df9c03ec20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*4rXynx9c0gkof9cUx1zsrA.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">The plots when using <strong class="bd kl">bayesplot</strong>. This is all you need to get an idea about the sampling efficiency and accuracy of your model. The chains need to have some form of convergence mixed with acceptable noise. No drift, no patterns. That is what you want to see. Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy lw ko kp kq kr paragraph-image"><img src="../Images/9634491e185c10954891a54909d9fa68.png" data-original-src="https://miro.medium.com/v2/resize:fit:942/format:webp/1*dCsj98JBUfh_-Njx_1PK5A.png"/></figure><figure class="km jy lx ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/d30c32540906ef45e7fa6393709813f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*bSqGSALFGWLRdFxPzyfraw.png"/></div></figure></div><div class="ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/4cfce3ace1b1ceb616770a384cf05df9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*kcYraXiVoE-eHXauNZidEg.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/b79390d0acc3f51b48cb530c6dfbf616.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*qE6n2lZE4Zv_mgjoNSmZPg.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">And the posterior draws and plots coming from the model and its data. Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy ly ko kp kq kr paragraph-image"><img src="../Images/7d535a72486c321c06e7bdd301c11a5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*xZyWWdicY51Qs5-f72Hxsw.png"/></figure><figure class="km jy lz ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/256e5ef08b3b3bdde231a4aaf5cc02a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*ZX0j6t7PmUf3a-EGCwuFWw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx ma di mb kv">And a very quick way to achieve what we have seen above in a simple syntax of code, using <strong class="bd kl">MCMCglmm</strong>, <strong class="bd kl">emmeans </strong>and <strong class="bd kl">tidybayes</strong>. So many flavors, so many options to chose from. Image by author.</figcaption></figure></div><p id="67e3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">到目前为止，我使用的是非信息先验，这使得上述任何一个都很难贝叶斯。从来没有理由不使用信息丰富的前科。如果你仍然决定去寻找无信息的先验，你是在告诉你自己和你的听众，你不知道你在做什么。你是说你不愿意使用过去的知识，让一切都依赖于你拥有的那一份数据？</p><p id="c209" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这不可能。因此，我建立了一个模型，其中我使用了一个正态分布和两个伽玛分布分别用于截距和方差。让它们变得有用的不是它们的平均值，而是它们的方差。我把它做得足够小，让它们产生影响，虽然ABC数据库是一个模拟的数据库，但我现在确实有影响它的先验知识。这就是贝叶斯分析应该如何进行。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div class="er es mc"><img src="../Images/ccb76e374dfb391476f64ab9ed5d2269.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*KIhZYuts_F-celDYZLbQog.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx">The model used in <strong class="bd kl">brms</strong>. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy md ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/606dc03f221ee7d8153b205ed143dff3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*hJJT-cHpQjjaJY3sjQOtkw.png"/></div></figure><figure class="km jy me ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/847bc543a92aaa645cf3ea2027c49ccf.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*bYV5gKr9Jpt1tCmxy3gSeA.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx mf di mg kv">The results. You can cearly see how the posterior draws deviate from the priors, which is not a problem at all. As long as the chains converge and they do. Image by author.</figcaption></figure></div><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mh"><img src="../Images/538751edfbc5659074d009afeb78e496.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RziCCzQoArrfWoE5ZPi9EA.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">The distribution of the observed values and the posterior draws (<strong class="bd kl">Yrep</strong>). The solar flares extending the responses coming from the dataset is where the posterior distributions are showing the discrepancy between the prior and the likelihood. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/26eb25b50047c2e9b8c97955c32d449c.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*vwhAAqrmoDxdgDOm2ogLRg.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/030342d08fa26e6d4ede1e980b532e3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*3ShZt0sHRk1u59wZdcX20Q.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/542bf2c3cb3c504f9d03c4eca83da59f.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*WiYvcgJjm2TKH1Ulp1Towg.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx kx di ky kv">Looking good! Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/e9fb3707c05e5c16431f4c4a2ba5fd07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*pdfxyAAzROaFEqK6McpOYA.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/27c03d520890fdf8fb6131145392a18a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*SSDXub1-K0ZsI8o4HK559w.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">Looking good! Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/ee53bb3ba1d343c2694c2089ffae401e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*MnXaebWeARXCYjAJ3sQyCQ.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/dc3f28550654354df4cbcd5846bbb19b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CJvNg8WnCzFX4Ljhu9JZpA.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">Looking good! Image by author.</figcaption></figure></div><div class="ab cb"><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/aedfc7408ae74d4688bdc7604ab7c5cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2fJLBZgwBjmBJSqtPz5-pg.png"/></div></figure><figure class="km jy lq ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/0586c906ab0fb6476c2b7c8152364b23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*sH0Rdb0-Kmn3OaNzGWNZhw.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx lk di ll kv">Looking good! Image by author.</figcaption></figure></div><p id="5597" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">以上所有的图应该有一些抽样变异，但不是极端的。这是我唯一感兴趣的。<a class="ae js" href="https://blog.devgenius.io/analyzing-height-weight-5ba7449d6431" rel="noopener ugc nofollow" target="_blank">先验和数据很可能会出现偏差</a>。没有伤害。这就是科学的运作方式。</p><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mh"><img src="../Images/a51527bc90f87059a6d3b28906ae6268.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OYkpbr4ZLtFFDtqrkTrY_A.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">You can see that the median response deviates from the posterior draws, BUT that the draws themselves are sampled beautifuly. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy mi ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/1b8db2bf41d36b7b03acf1e9681f63ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:666/format:webp/1*M5W_UolGAgfYOMCqk8DGnA.png"/></div></figure><figure class="km jy mj ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/6dd4833854e236aa4285026b8e634b04.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/format:webp/1*I-tSeBE958nIc6D__Ny8Gw.png"/></div></figure><figure class="km jy mk ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/a966c10e8b48c9f4b074ed948c1f861f.png" data-original-src="https://miro.medium.com/v2/resize:fit:680/format:webp/1*UvRUhv8ppBLLAf0_QeA7pg.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx ml di mm kv">Prediction plots on the observation level. Image by author.</figcaption></figure></div><figure class="ju jv jw jx fd jy er es paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="er es mh"><img src="../Images/33da906573ba1f4246c1c571eb3b5f51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DW8X3fUl3kgTmVT8IGkWUA.png"/></div></div><figcaption class="kb kc et er es kd ke bd b be z dx">Error plots. Image by author.</figcaption></figure><div class="ju jv jw jx fd ab cb"><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/80feb06e37b7a1d26bc080f8bc95d08b.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*7xCYOIr3mlMCfF8p2t6tpA.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/2135ac8bd77c3e71297f249895f993f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*zxuJ6uo9ZOy5bPDgtWh5pQ.png"/></div></figure><figure class="km jy kw ko kp kq kr paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><img src="../Images/2135ac8bd77c3e71297f249895f993f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*zxuJ6uo9ZOy5bPDgtWh5pQ.png"/></div><figcaption class="kb kc et er es kd ke bd b be z dx kx di ky kv">More diagnostic plots looking if the distributional family of the response (here Gaussian) was chosen wisely. It seems it was, but that should hardly come as a surprise. Image by author.</figcaption></figure></div><p id="92d2" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所以，我希望这篇文章是有信息的，因为它表明贝叶斯分析并不那么难运行。真正的困难远远超出了本文的范围，那就是在你进行实验之前，确保你已经获得了所有有价值的知识，知道如何填补这个空白。因为这些知识不仅决定了先验知识，也决定了你获取新数据的方式。</p><p id="bf74" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">获取知识需要专注，但最重要的是更多的知识。</p><p id="715b" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">如果有不正确或错误的地方，请告诉我！</p><figure class="ju jv jw jx fd jy"><div class="bz dy l di"><div class="mn mo l"/></div></figure><div class="mp mq ez fb mr ms"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="bd hi fi z dy mx ea eb my ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">medium.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng jz ms"/></div></div></a></div></div></div>    
</body>
</html>