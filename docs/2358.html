<html>
<head>
<title>Google T5 Translation as a Service with Just 7 lines of Codes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">谷歌T5翻译即服务只有7行代码</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/google-t5-translation-as-a-service-in-just-7-lines-of-codes-44491cd7777f?source=collection_archive---------4-----------------------#2022-04-19">https://medium.com/mlearning-ai/google-t5-translation-as-a-service-in-just-7-lines-of-codes-44491cd7777f?source=collection_archive---------4-----------------------#2022-04-19</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="a1b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">T5是什么？谷歌的文本到文本转换转换器(T5)提供了翻译的能力。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/67fc02a433393dd80d6bcba5412216b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ha7jBw-tKjJIvFg1mUggpA.png"/></div></div></figure><p id="5801" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将部署Google T5模型作为REST API服务。难？不如我告诉你:你只需要写7行代码？</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jo"><img src="../Images/fca8ce82645019bf2b909515636bc376.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CrZSaMXivXviTbf-_1C47w.png"/></div></div></figure></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><p id="4ac6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jw" href="https://huggingface.co/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> HuggingFace </strong> </a>只需几行就能轻松使用预训练模型。</p><p id="0f91" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jw" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Pinferencia </strong> </a>只需三根额外的线，就能超级轻松地为任何模特服务。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jx"><img src="../Images/655e5cd77913fff11869f5b22a16ff68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rh4v6AN0fnqg4WNIMVW4bw.png"/></div></div></figure></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><h1 id="7d56" class="jy jz hh bd ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv bi translated">安装依赖项</h1><h2 id="58d6" class="kw jz hh bd ka kx ky kz ke la lb lc ki ip ld le km it lf lg kq ix lh li ku lj bi translated">拥抱脸</h2><p id="118e" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated"><code class="du lp lq lr ls b">pip install "transformers[pytorch]"</code></p><p id="628d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果不起作用，请访问<a class="ae jw" href="https://huggingface.co/docs/transformers/installation" rel="noopener ugc nofollow" target="_blank">安装(huggingface.co)</a>并检查他们的官方文件。</p><h2 id="7855" class="kw jz hh bd ka kx ky kz ke la lb lc ki ip ld le km it lf lg kq ix lh li ku lj bi translated">平费伦西亚</h2><p id="b65f" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated"><code class="du lp lq lr ls b">pip install "pinferencia[uvicorn]"</code></p><p id="1862" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果不起作用，请访问<a class="ae jw" href="https://pinferencia.underneathall.app/install/" rel="noopener ugc nofollow" target="_blank">Install—Pinferencia(under neat hall . app)</a>查看他们的官方文档。</p><h1 id="3491" class="jy jz hh bd ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv bi translated">定义服务</h1><p id="69f0" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">首先让我们创建<code class="du lp lq lr ls b">app.py</code>来定义服务:</p><figure class="jd je jf jg fd jh"><div class="bz dy l di"><div class="ly lz l"/></div></figure><h1 id="d192" class="jy jz hh bd ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv bi translated">启动服务</h1><pre class="jd je jf jg fd ma ls mb mc aw md bi"><span id="a7b7" class="kw jz hh ls b fi me mf l mg mh">uvicorn app:service --reload</span></pre><p id="58c8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">等待模型被下载。完成后，您会看到:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mi"><img src="../Images/87cda0372a53e876dbfeeb2cd0e0ace0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7O91O5ye4iVdYuSsadfFcQ.png"/></div></div></figure><h1 id="d7a2" class="jy jz hh bd ka kb lt kd ke kf lu kh ki kj lv kl km kn lw kp kq kr lx kt ku kv bi translated">呼叫服务</h1><p id="0d50" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lm ir is it ln iv iw ix lo iz ja jb ha bi translated">你可以使用比利时的<code class="du lp lq lr ls b">curl</code>或<code class="du lp lq lr ls b">interactive api page</code>。</p><h2 id="c917" class="kw jz hh bd ka kx ky kz ke la lb lc ki ip ld le km it lf lg kq ix lh li ku lj bi translated">卷曲</h2><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mj"><img src="../Images/00df964790a1cf6af67503a5bb84705d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-NwzMmdJWJZkz8JrSRIkw.png"/></div></div></figure><p id="4de6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果是:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mk"><img src="../Images/2aa05795502edc121e4180277054aa13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pZxmjOk4bzDz1Wvf9pU0eA.png"/></div></div></figure><h2 id="a0e2" class="kw jz hh bd ka kx ky kz ke la lb lc ki ip ld le km it lf lg kq ix lh li ku lj bi translated">交互式API页面位于http://127.0.0.1:8000</h2><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ml"><img src="../Images/b0bd9c53f7c869c9bd3023333058d6e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2sxW4ldWfjLv7bpyYyinrw.png"/></div></div></figure><p id="ef61" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es mm"><img src="../Images/2019651ca749fe09e54a3d912efd168d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NqAMPTBB1tXboQ7c7djLJg.png"/></div></div></figure></div><div class="ab cl jp jq go jr" role="separator"><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju jv"/><span class="js bw bk jt ju"/></div><div class="ha hb hc hd he"><p id="5560" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你喜欢<a class="ae jw" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> Pinferencia </a>别忘了去<a class="ae jw" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> GitHub </a>保存到你的收藏夹。</p><div class="mn mo ez fb mp mq"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mr ab dw"><div class="ms ab mt cl cj mu"><h2 class="bd hi fi z dy mv ea eb mw ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mx l"><h3 class="bd b fi z dy mv ea eb mw ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="my l"><p class="bd b fp z dy mv ea eb mw ed ef dx translated">medium.com</p></div></div><div class="mz l"><div class="na l nb nc nd mz ne jm mq"/></div></div></a></div></div></div>    
</body>
</html>