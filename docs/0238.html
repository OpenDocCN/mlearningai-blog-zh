<html>
<head>
<title>Visualizing your deep learning features using TensorBoard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TensorBoard可视化您的深度学习功能</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/visualizing-your-deep-learning-features-using-tensorboard-8356ffd745e0?source=collection_archive---------3-----------------------#2021-03-08">https://medium.com/mlearning-ai/visualizing-your-deep-learning-features-using-tensorboard-8356ffd745e0?source=collection_archive---------3-----------------------#2021-03-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/db5a2f91c30b330ae702cc1ceca5a94d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JZtLKbsJzPnmmINO7QyoUA.png"/></div></div></figure><h1 id="4c44" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">介绍</h1><p id="188c" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi kl translated">传感器板是一种工具，它提供机器学习工作流程中所需的测量和可视化。</p><p id="bce6" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">在本教程中，我将给出一个如何在TensorBoard上可视化你的特征向量的快速教程。使用机器学习模型，有时我们想要学习不同类的嵌入。嵌入是将不同的输入(如图像、文本等)映射到多维向量的一种方式。使用TensorBoard，您可以可视化表示或特征向量。您也可以直接可视化输入数据。TensorBoard还提供了像PCA和t-SNE这样的降维方法。只需一次点击，您就可以轻松地将PCA和t-SNE应用于您的数据，并查看2D和3D的可视化效果。</p><h1 id="0367" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">问题陈述是什么？</h1><p id="38ef" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated"><em class="ku">我们有一个不同形状(圆形、三角形、矩形)不同颜色(红色、绿色、蓝色)的小型数据集。假设我们想根据颜色对形状进行分类。所以，有</em> <strong class="jp hi"> <em class="ku"> 3个目标输出</em> </strong> <em class="ku"> : </em> <strong class="jp hi"> <em class="ku">红色</em> </strong> <em class="ku">，</em> <strong class="jp hi"> <em class="ku">绿色</em> </strong> <em class="ku">，</em> <strong class="jp hi"> <em class="ku"> </em> </strong> <em class="ku">和</em> <strong class="jp hi"> <em class="ku">蓝色</em> </strong> <em class="ku">。使用机器学习模型，我们已经在对颜色进行分类时学习了颜色的表示/嵌入。现在，我们想看看这些表示的效果如何？</em></p><p id="7583" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">因此，我们将在TensorBoard上可视化这些嵌入。</p><p id="6685" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">下面是使用的数据集。</p><div class="la lb ez fb lc ld"><a href="https://github.com/AdityaDutt/MultiColor-Shapes-Database" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hi fi z dy li ea eb lj ed ef hg bi translated">AdityaDutt多色-形状-数据库</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">测试不同机器学习任务的小型数据库。它包含不同颜色的简单形状。…</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="ln l lo lp lq lm lr in ld"/></div></div></a></div><h1 id="e46d" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">要求</h1><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><blockquote class="ly lz ma"><p id="1042" class="jn jo ku jp b jq kv js jt ju kw jw jx mb kx ka kb mc ky ke kf md kz ki kj kk ha bi translated"><strong class="jp hi">注:</strong>我们将使用<em class="hh"> tensorflow.contrib </em>，这就是为什么需要版本<em class="hh"> 1.13.2 </em>的原因。在<em class="hh"> 2.0 </em>版本中，已经不存在了。</p></blockquote><h1 id="161f" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">履行</h1><ol class=""><li id="982a" class="me mf hh jp b jq jr ju jv jy mg kc mh kg mi kk mj mk ml mm bi translated"><strong class="jp hi">创建没有精灵的可视化效果。</strong></li></ol><blockquote class="ly lz ma"><p id="7acb" class="jn jo ku jp b jq kv js jt ju kw jw jx mb kx ka kb mc ky ke kf md kz ki kj kk ha bi translated">精灵是以网格形式排列的几个图像的块。请看下图中的例子。精灵使视觉效果更加令人印象深刻和直观。</p></blockquote><p id="fc6c" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">首先，我将通过每个步骤来创建代码。<strong class="jp hi">在此之后，完整的代码也是可用的。如果只是想用的话可以直接跳转到那个</strong>。</p><p id="db09" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">步骤1:首先，导入库。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="d726" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">步骤2:设置元数据、模型和检查点路径。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="2d68" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">步骤3:设置文件编写器和配置。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="3d60" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">步骤4:以CKPT格式将数据写入绘图</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="4116" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">步骤5:以TSV格式编写元数据</p><p id="ed6f" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">在TSV文件中，对应于数据索引写入标签。完成这一步后，我们就可以开始绘图了。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="bf9c" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated"><strong class="jp hi">这里是完整的代码</strong>:</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="8db4" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated"><strong class="jp hi">运行步骤:</strong></p><ol class=""><li id="a4db" class="me mf hh jp b jq kv ju kw jy mn kc mo kg mp kk mj mk ml mm bi translated">打开终端，输入:<em class="ku">python visualize _ without _ sprite . py</em></li><li id="d79f" class="me mf hh jp b jq mq ju mr jy ms kc mt kg mu kk mj mk ml mm bi translated">现在，输入:<em class="ku">tensor board—logdir # YOUR _ LOG _ DIR _ PATH #—host = 127 . 0 . 0 . 1</em></li></ol><p id="99df" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">现在，在web浏览器上打开本地主机。你现在会看到TensorBoard。</p><p id="7bc4" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">TensorBoard上的输出可视化如下所示。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/ba3f28158dfd3166a39268e25a033b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QT9EVKJUr3Za02TsaM_BMw.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">Visualization on Tensorboard without sprites. Each class is shown in a different color.</figcaption></figure><p id="1bc6" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">2.使用精灵创建可视化效果。</p><p id="c8a0" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">一切都是一样的，除了我们添加精灵的部分。我们添加下面几行来创建精灵。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="818f" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">在<strong class="jp hi">第4行</strong>，我们现在也设置精灵的路径。在第6行中，我们设置了要显示的单个图像的形状。</p><p id="f63d" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">在<strong class="jp hi">第9行</strong>中，我们设置了<strong class="jp hi">变量，该变量包含要可视化的输入图像</strong>。</p><p id="3171" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">在<strong class="jp hi">第20行</strong>中，我们为所有精灵图像创建一个空模板。并且，从<strong class="jp hi">第22行</strong>开始，我们在每个情节中设置一个图像。(类似于我们在Matplotlib中创建支线剧情的做法)。</p><p id="59cb" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">按照相同的步骤运行代码。</p><p id="ef27" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">这里是完整的代码。</p><figure class="ls lt lu lv fd ii"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="29fd" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">带有精灵的输出可视化如下所示。你现在也可以看到三角形和正方形的图像，而不是点的散点图。</p><p id="8543" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">我们的目标是对不同颜色的图像进行分类。你可以看到相同颜色的形状聚集在一起。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/9a45196080f72b02592512a0683c35ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pN4-faQE5BPivQGYPtCAg.png"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">Visualizing features with sprites. You can see the original input images in the scatter plot now.</figcaption></figure><p id="a395" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">您也可以将T-SNE应用于数据。</p><figure class="ls lt lu lv fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mv"><img src="../Images/7d9aab80334582f5eb73973b74e7260f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*ji3txvlhqlN8e3NOU0CP7Q.gif"/></div></div><figcaption class="mw mx et er es my mz bd b be z dx">Demo of using T-SNE on TensorBoard</figcaption></figure><p id="146a" class="pw-post-body-paragraph jn jo hh jp b jq kv js jt ju kw jw jx jy kx ka kb kc ky ke kf kg kz ki kj kk ha bi translated">现在，我们知道如何使用TensorBoard可视化特征。</p><h1 id="05e2" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">结论</h1><p id="b1ae" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我演示了如何可视化嵌入在Tensorboard上的特性，包括有精灵和没有精灵的情况。你可以在我的GitHub档案上查看完整的代码。</p><div class="la lb ez fb lc ld"><a href="https://github.com/AdityaDutt/Tensorboard_visualize" rel="noopener  ugc nofollow" target="_blank"><div class="le ab dw"><div class="lf ab lg cl cj lh"><h2 class="bd hi fi z dy li ea eb lj ed ef hg bi translated">AdityaDutt/tensor board _ visualize</h2><div class="lk l"><h3 class="bd b fi z dy li ea eb lj ed ef dx translated">这是这个代码在介质上的教程…</h3></div><div class="ll l"><p class="bd b fp z dy li ea eb lj ed ef dx translated">github.com</p></div></div><div class="lm l"><div class="na l lo lp lq lm lr in ld"/></div></div></a></div><blockquote class="ly lz ma"><p id="dfe3" class="jn jo ku jp b jq kv js jt ju kw jw jx mb kx ka kb mc ky ke kf md kz ki kj kk ha bi translated">感谢阅读！希望有帮助。</p><p id="b6d0" class="jn jo ku jp b jq kv js jt ju kw jw jx mb kx ka kb mc ky ke kf md kz ki kj kk ha bi translated">如果你喜欢这篇文章，请推荐并分享。</p></blockquote></div></div>    
</body>
</html>