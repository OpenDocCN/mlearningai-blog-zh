<html>
<head>
<title>Crop and Segment images using OpenAI’s CLIP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用OpenAI的剪辑裁剪和分割图像</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/crop-and-segment-images-using-openais-clip-8346139425fb?source=collection_archive---------3-----------------------#2022-06-14">https://medium.com/mlearning-ai/crop-and-segment-images-using-openais-clip-8346139425fb?source=collection_archive---------3-----------------------#2022-06-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c6733860563dbcc31d341f9c7d7d35f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gAaNe0qEizwzu-jtpiUoOw.jpeg"/></div></div></figure><p id="da4b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">曾经想知道我们是否可以根据我们的兴趣裁剪出图像中的部分，或者根据我们的愿望通过使用单词查询分割出图像，那么有一种方法我们可以实现同样的目的。利用OpenAI的CLIP和DeTr(也可以使用任何其他的)计算机视觉模型，我们可以使用简单的文本查询来分割和裁剪图像的部分。通过为被查询的文本导出图像的每个检测部分的概率，可以使用对象检测模型和剪辑的组合来实现裁剪部分。而为了获得分割，我们必须用全景分割模型来代替对象检测模型。</p><p id="1aa6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">什么是剪辑？</strong></p><p id="cfea" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">简而言之，<strong class="ir hi"> CLIP(对比语言图像预训练)</strong>是著名的OpenAI为解决多模态问题而设计的零镜头学习方法。选择多个文本-图像对，并计算它们的编码以创建一个<strong class="ir hi"><em class="jn">(N-图像数* M-文本数)</em> </strong>矩阵，每个矩阵代表每个文本和图像之间的相似性得分，作为预训练步骤。假设我们要执行零镜头图像分类，我们应该使用预先训练的张量将图像和文本集编码到嵌入中。通过对计算出的相似性分数进行排序，我们可以确定与图像更相关的文本，反之亦然，以便从图像集中找出完美的图像(图像神经搜索)。</p><p id="1ac8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的场景中，我们将相同的原理扩展到从图像中裁剪/分割出部分。为了简单起见，我创建了一个简单的python库<a class="ae jo" href="https://pypi.org/project/clipcrop/" rel="noopener ugc nofollow" target="_blank"> clipcrop </a>(仍在开发中)来执行同样的任务。为了执行对象检测和图像分割任务，我使用了脸书的DeTr，因为它比传统的单级或两级检测器更快、更准确。更重要的是，你甚至可以利用HuggingFace管道来完成同样的任务。下面我附上了两个功能的例子。</p><p id="7eca" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">实施</strong></p><ul class=""><li id="27f4" class="jp jq hh ir b is it iw ix ja jr je js ji jt jm ju jv jw jx bi translated">使用<strong class="ir hi"> <em class="jn"> pip安装clipcrop </em> </strong>安装库</li><li id="25c4" class="jp jq hh ir b is jy iw jz ja ka je kb ji kc jm ju jv jw jx bi translated">使用从图像中裁剪对象的部分</li></ul><figure class="ke kf kg kh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kd"><img src="../Images/2af666213b80bf100a6f5e340340a1d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gpLbGwPMbtJrFjxwoUmMRg.png"/></div></div></figure><ul class=""><li id="803a" class="jp jq hh ir b is it iw ix ja jr je js ji jt jm ju jv jw jx bi translated">使用以下方法从图像中提取片段</li></ul><figure class="ke kf kg kh fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ki"><img src="../Images/8d569a813a705ddf01814d1eb2465684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5IhX61Nyiz2t4iq53rBn0A.png"/></div></div></figure><p id="9d5f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，从上面，我们看到，我们可以通过利用OpenAI的剪辑和脸书的DeTr模型来裁剪部分或片段。我将继续升级更多的选项和功能来改进这个库。欲了解更多信息，请跳转到下面提到的回购。</p><p id="9d39" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">来源:</strong></p><ul class=""><li id="87af" class="jp jq hh ir b is it iw ix ja jr je js ji jt jm ju jv jw jx bi translated">github:<a class="ae jo" href="https://github.com/Vishnunkumar/clipcrop" rel="noopener ugc nofollow" target="_blank">https://github.com/Vishnunkumar/clipcrop</a></li><li id="5a60" class="jp jq hh ir b is jy iw jz ja ka je kb ji kc jm ju jv jw jx bi translated">PyPi:<a class="ae jo" href="https://pypi.org/project/clipcrop/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/clipcrop/</a></li></ul><p id="c0b4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">好了，谢谢你对我的大力支持，让我们继续这段旅程。让我们一起成长，一起学习。下次见，再见，保重。</p><div class="kj kk ez fb kl km"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kn ab dw"><div class="ko ab kp cl cj kq"><h2 class="bd hi fi z dy kr ea eb ks ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="kt l"><h3 class="bd b fi z dy kr ea eb ks ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ku l"><p class="bd b fp z dy kr ea eb ks ed ef dx translated">medium.com</p></div></div><div class="kv l"><div class="kw l kx ky kz kv la in km"/></div></div></a></div></div></div>    
</body>
</html>