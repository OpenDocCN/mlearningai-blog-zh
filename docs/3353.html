<html>
<head>
<title>How to Install PySpark</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何安装PySpark</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-install-pyspark-6bea2586db7d?source=collection_archive---------7-----------------------#2022-08-21">https://medium.com/mlearning-ai/how-to-install-pyspark-6bea2586db7d?source=collection_archive---------7-----------------------#2022-08-21</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="d818" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">像专家一样处理大型数据集</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/bfb5765c1641b5661988b07916ff4bf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*ymx2EMFflHe733pomWj_WQ.png"/></div></div></figure><p id="895c" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">py spark是什么？</strong></p><p id="c366" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">PySpark是Python中的一个包，它允许您接入一个名为Apache Spark的分布式环境。Apache Spark是一个开源的分布式计算引擎，可以让您处理和分析大量数据。在Python中连接时，这将允许您处理大型数据集。我所说的大型数据集，指的是数据集中数百万、数十亿的行。</p><p id="ae97" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">顺便提一下，Apache免费提供这个项目和许多其他开源项目。这绝不是我得到报酬的任何事情，但是如果你是开源的信徒，请为他们的事业做出贡献或捐赠(见下面的链接)。</p><p id="3cf7" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">https://www.apache.org/foundation/contributing<a class="ae ke" href="https://www.apache.org/foundation/contributing" rel="noopener ugc nofollow" target="_blank"/></p><p id="c2f1" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">py spark的优势</strong></p><p id="8439" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">处理大量数据速度超快，性能惊人</p><p id="33c2" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">允许您使用SQL语句在python中处理数据</p><p id="529d" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">支持解释性数据分析任务，如汇总统计、特征提取、数据转换等</p><p id="988a" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">支持机器学习任务</p><p id="608e" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">a必须知道你是否在努力成为数据科学家、数据分析师、开发人员等等</p><p id="7bfc" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我可以在这里继续，但那些是主要的亮点。</p><p id="2a85" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">安装PySpark的先决条件</strong></p><p id="7e02" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我不会讨论这些，但它们是正确使用PySpark所必需的:</p><p id="9306" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">Python和Anaconda能够使用Jupyter笔记本:</p><p id="ee0a" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><a class="ae ke" href="https://www.anaconda.com/products/distribution" rel="noopener ugc nofollow" target="_blank">https://www.anaconda.com/products/distribution</a></p><p id="2e40" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">还需要Java(最好是9.0.0以上版本):<a class="ae ke" href="https://www.oracle.com/java/technologies/downloads/" rel="noopener ugc nofollow" target="_blank">https://www.oracle.com/java/technologies/downloads/</a></p><p id="10c4" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">你需要一个可以解压zipped.tgz文件的东西。这里推荐的是7-zip:</p><p id="e405" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><a class="ae ke" href="https://www.7-zip.org/download.html" rel="noopener ugc nofollow" target="_blank">https://www.7-zip.org/download.html</a></p><p id="31f6" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">安装PySpark的步骤</strong></p><p id="3c92" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">1.下载spark的最新版本，并记下您下载的版本:</p><p id="8b51" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><a class="ae ke" href="https://spark.apache.org/downloads.html" rel="noopener ugc nofollow" target="_blank">https://spark.apache.org/downloads.html</a></p><p id="e600" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">2.在您的Jupyter笔记本中运行以下程序来安装findspark:</p><pre class="ix iy iz ja fd kf kg kh ki aw kj bi"><span id="bf75" class="kk kl hh kg b fi km kn l ko kp">!pip install findspark</span></pre><p id="4d1f" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">3.从下面的GitHub库(<a class="ae ke" href="https://github.com/steveloughran/winutils/" rel="noopener ugc nofollow" target="_blank">https://github.com/steveloughran/winutils/</a>)下载与您的spark版本一致的版本的winutils.exe。</p><p id="5412" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">例如，如果我下载了3.2版本，我会在下面的存储库中找到/下载winutils.exe文件</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es kq"><img src="../Images/e6c87bd24cbdb291b99560116983e8c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w_hZvhG3MX60L96vUXeveg.png"/></div></div></figure><p id="9f29" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">4.现在回到第1步中下载的文件(即Spark)。右键单击并使用7-zip或您选择的工具解压缩文件夹</p><p id="3647" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">5.您可能需要再次重复第4步</p><p id="35f7" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">6.现在保存这个解压后的文件，放在你想参考的地方</p><p id="2d75" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">7.打开步骤6中的文件，找到一个名为bin的文件夹，将步骤3中的winutils.exe文件移到这里。此时，你应该在下面</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es kq"><img src="../Images/91034796f2b347e01ff6eba093218704.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EnZ81HdAecUu0pEWj6ZC5w.png"/></div></div></figure><p id="b65a" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">8.接下来，您需要添加环境变量。要在Windows 11中做到这一点，点击Windows按钮+ I，然后进入关于，高级系统设置，环境变量。您应该会看到下面的屏幕</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es kq"><img src="../Images/175cfac4a83834a0095330e91aed8b48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kiItfc0YxgIVrA5Pge0EUw.png"/></div></div></figure><p id="5f4f" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">9.现在添加这些新的系统变量:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es kq"><img src="../Images/1ced6f353f311bc46684002c64911327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qF8vqd-Hfy6b-3pm0298zA.png"/></div></div></figure><p id="4b1f" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">10.此外，在“系统变量”下找到Path变量，并添加步骤7中保存winutils.exe文件的文件路径。例如，C:\ Users \ rifay \ spark-3 . 2 . 1-bin-Hadoop 3.2 \ bin</p><p id="5c25" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">11.运行Juptyer笔记本中的以下代码，测试PySpark现在是否可以使用</p><pre class="ix iy iz ja fd kf kg kh ki aw kj bi"><span id="4630" class="kk kl hh kg b fi km kn l ko kp">import findspark</span><span id="ecf4" class="kk kl hh kg b fi kr kn l ko kp">findspark.init()</span><span id="2a3f" class="kk kl hh kg b fi kr kn l ko kp">import pyspark <br/>from pyspark.sql import SparkSession<br/>spark = SparkSession.builder.getOrCreate()</span><span id="5369" class="kk kl hh kg b fi kr kn l ko kp">df = spark.sql(‘’’select ‘hello world’ as say ‘’’)<br/>df.show()</span></pre><p id="9140" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">12.如果安装成功，您应该会看到以下内容</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es ks"><img src="../Images/3e65ec98ac977c9b7aecd9688b1b638d.png" data-original-src="https://miro.medium.com/v2/resize:fit:410/format:webp/1*UCYH8iDJm9C4k-VG-GdtsQ.png"/></div></figure><p id="d260" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated"><strong class="jk hi">结论</strong></p><p id="cfe4" class="pw-post-body-paragraph ji jj hh jk b jl jm ii jn jo jp il jq jr js jt ju jv jw jx jy jz ka kb kc kd ha bi translated">我希望您喜欢这篇文章，并能在您的数据之旅中为您提供帮助。请在评论中让我知道。</p><div class="kt ku ez fb kv kw"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kx ab dw"><div class="ky ab kz cl cj la"><h2 class="bd hi fi z dy lb ea eb lc ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ld l"><h3 class="bd b fi z dy lb ea eb lc ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="le l"><p class="bd b fp z dy lb ea eb lc ed ef dx translated">medium.com</p></div></div><div class="lf l"><div class="lg l lh li lj lf lk jg kw"/></div></div></a></div></div></div>    
</body>
</html>