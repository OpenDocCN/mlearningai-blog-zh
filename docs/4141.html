<html>
<head>
<title>How to handle missing values using python?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用python处理缺失值？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-handle-missing-values-using-python-8965e80ecc42?source=collection_archive---------4-----------------------#2022-12-14">https://medium.com/mlearning-ai/how-to-handle-missing-values-using-python-8965e80ecc42?source=collection_archive---------4-----------------------#2022-12-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/d74d17c5a2b26dc1fb964a907b116492.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zGWkaYetbS0RH7Rf"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@santesson89?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Andrea De Santis</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="aa3c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本文将实现对<strong class="iw hi">缺失值的处理。</strong></p><p id="d508" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">数据清洗</strong>是<strong class="iw hi">数据科学生命周期</strong>中最重要的部分。如果做得不好，预测将是糟糕的，我们将不得不重新开始整个循环，导致金钱和时间上的损失。本文将讨论缺失值处理和代码实现。使用的数据集是<a class="ae it" href="https://www.kaggle.com/code/aparnashastry/building-permit-data-analysis/data" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hi">旧金山建筑许可数据</strong> </a> <strong class="iw hi">。</strong></p><pre class="js jt ju jv fd jw jx jy bn jz ka bi"><span id="dcc8" class="kb kc hh jx b be kd ke l kf kg"># modules we'll use<br/>import pandas as pd<br/>import numpy as np<br/><br/># read in all our data<br/>sf_permits = pd.read_csv("Building_Permits.csv")<br/><br/># set seed for reproducibility<br/>np.random.seed(0) <br/><br/># top 5 rows in the dataframe<br/>sf_permits.head()</span></pre><p id="f43b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">检查数据框中的缺失值(哪些行，哪些列)。数据的前五行显示有几列缺少值。这些栏是<strong class="iw hi">“街道编号后缀”、“拟建建筑类型”和“现场许可证”</strong>等栏。</p><h2 id="b1b0" class="kh kc hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated"><strong class="ak">漏分百分比</strong></h2><pre class="js jt ju jv fd jw jx jy bn jz ka bi"><span id="6e2b" class="kb kc hh jx b be kd ke l kf kg"><br/># get the number of missing data points per column<br/>missing_values_count = sf_permits.isnull().sum()<br/><br/># how many total missing values do we have?<br/>total_cells = np.product(sf_permits.shape)<br/>total_missing = missing_values_count.sum()<br/><br/># percent of data that is missing<br/>percent_missing = (total_missing/total_cells) * 100<br/>print(percent_missing)</span></pre><p id="0aab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">SF _ permissions . is null()。sum() </strong>用于查找特定列中所有缺失值的数量。<strong class="iw hi"> total_cells </strong>给出总行数，<strong class="iw hi"> total_missing </strong>给出缺失值的总行数。<strong class="iw hi"> percent_missing </strong>是缺失值行的百分比。</p><p id="42ea" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，我们还可以首先尝试探索数据丢失的原因，例如，也许信息应该<strong class="iw hi">不存在</strong>，或者也许数据一开始就被<strong class="iw hi">错误记录</strong>。在数据集的情况下，如果“<strong class="iw hi">街道编号后缀</strong>”列中的一个值丢失，很可能是因为它<strong class="iw hi">不存在</strong>。如果“<strong class="iw hi">邮政编码</strong>”列中的值缺失，则不会被记录。</p><h2 id="ab4c" class="kh kc hh bd ki kj kk kl km kn ko kp kq jf kr ks kt jj ku kv kw jn kx ky kz la bi translated"><strong class="ak">删除缺失值(行)</strong></h2><p id="a75a" class="pw-post-body-paragraph iu iv hh iw b ix lb iz ja jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr ha bi translated"><strong class="iw hi">删除包含缺失值的行</strong>。</p><pre class="js jt ju jv fd jw jx jy bn jz ka bi"><span id="4743" class="kb kc hh jx b be kd ke l kf kg">sf_permits.dropna()</span></pre><p id="b9c4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">删除缺失值(列)</strong></p><pre class="js jt ju jv fd jw jx jy bn jz ka bi"><span id="a61b" class="kb kc hh jx b be kd ke l kf kg"><br/>sf_permits_with_na_dropped = sf_permits.dropna(axis=1)<br/><br/># calculate number of dropped columns<br/>cols_in_original_dataset = sf_permits.shape[1]<br/>cols_in_na_dropped = sf_permits_with_na_dropped.shape[1]<br/>dropped_columns = cols_in_original_dataset - cols_in_na_dropped</span></pre><p id="ffb9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里的想法是删除缺少值的列。<strong class="iw hi">SF _ permissions . dropna(axis = 1)</strong>是删除有缺失值的列。接下来，找到数据帧中的<strong class="iw hi">总列数</strong>和<strong class="iw hi">丢弃列数</strong>。从原始列数中减去删除的列数。</p><p id="ebba" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在让我们用值自动填充缺失的单元格。</p><pre class="js jt ju jv fd jw jx jy bn jz ka bi"><span id="7565" class="kb kc hh jx b be kd ke l kf kg">sf_permits_with_na_imputed = sf_permits.fillna(method='bfill', axis=0).fillna(0)</span></pre><p id="5bab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上面的代码片段中，缺失的单元格(<strong class="iw hi"> NaN值</strong>)被替换为0。也可以根据问题用均值或中值来代替。<strong class="iw hi">均值或中位数</strong>主要用于<strong class="iw hi">数值</strong>值(<strong class="iw hi"> int，float </strong>)。<strong class="iw hi">模式</strong>用于<strong class="iw hi">分类</strong>值。完全取决于问题本身，所属领域，数据来源等。我这里提到的<a class="ae it" href="https://www.kaggle.com/code/abhi2652254/exercise-handling-missing-values/edit" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hi">就是</strong> </a> <strong class="iw hi">。</strong></p><p id="3d94" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">作为文章的结尾，我想分享一个来自<a class="ae it" href="https://ineuron.ai/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hi">伊努龙</strong> </a>的课程，请过目。如果你从我的链接中购买这门课程，我将从中赚取一份。</p><p id="fe59" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">课程设置的<strong class="iw hi">优势</strong>是:</p><p id="aaf0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现成可用的端到端数据科学项目，用于<strong class="iw hi">真实业务</strong>用例、<strong class="iw hi">行业级项目</strong>、<strong class="iw hi">案例研究</strong>、<strong class="iw hi">终身</strong>访问、简历构建、<strong class="iw hi">职业指导</strong>、<strong class="iw hi">顶点项目</strong>，以及证书等等。</p><p id="c29b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">除了我的会员链接提供的<strong class="iw hi"> 10%折扣</strong>之外，还有<strong class="iw hi"> 50%年终折扣</strong>。这门课程实际上将帮助你<strong class="iw hi">创建任何基于人工智能的端到端</strong>应用程序，并<strong class="iw hi">为未来将其货币化</strong>。</p><p id="f80e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi"> <em class="lg">披露:</em> </strong> <em class="lg">本帖部分外部链接为附属链接。</em></p><p id="75d0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">附属链接:</p><p id="44ea" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><a class="ae it" href="https://ineuron.ai/course/Data-Science-Industry-Ready-Projects?campaign=affiliate&amp;coupon_code=DVFMUEHP" rel="noopener ugc nofollow" target="_blank">https://ineuron . ai/course/Data-Science-Industry-Ready-Projects？campaign = affiliate&amp;coupon _ code = DVFMUEHP</a></p><p id="5977" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">请查阅我的其他<a class="ae it" rel="noopener" href="/@abhi2652254"> <strong class="iw hi">文章</strong> </a>，说<a class="ae it" href="https://www.linkedin.com/in/obhinaba17/" rel="noopener ugc nofollow" target="_blank"> <strong class="iw hi">喜</strong> </a> <strong class="iw hi">。</strong></p><div class="lh li ez fb lj lk"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ll ab dw"><div class="lm ab ln cl cj lo"><h2 class="bd hi fi z dy lp ea eb lq ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lr l"><h3 class="bd b fi z dy lp ea eb lq ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ls l"><p class="bd b fp z dy lp ea eb lq ed ef dx translated">medium.com</p></div></div><div class="lt l"><div class="lu l lv lw lx lt ly in lk"/></div></div></a></div></div></div>    
</body>
</html>