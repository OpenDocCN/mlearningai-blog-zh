<html>
<head>
<title>Calculating Covariance, And Correlation Between Variables In R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">计算协方差，以及R中变量之间的相关性</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/calculating-covariance-and-correlation-between-variables-in-r-5fceed29872e?source=collection_archive---------2-----------------------#2022-07-31">https://medium.com/mlearning-ai/calculating-covariance-and-correlation-between-variables-in-r-5fceed29872e?source=collection_archive---------2-----------------------#2022-07-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e4e7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">计算数据集变量之间的关系强度在数据科学和分析领域非常重要。在这方面，我们将研究的工具是协方差和相关性。协方差只能度量变量之间的方向关系，如果协方差值为正，则变量之间存在正关系，如果协方差值为负，则变量之间存在负关系。协方差不限制值，对于正关系，协方差值可以大于0且小于正无穷大，对于负关系，协方差值可以小于0且大于负无穷大。。它不能显示数据集变量之间关系的实际强度。为了计算变量的强度，我们必须将协方差公式标准化，并将其值限制在-1和+1之间。这是相关系数，它是计算变量之间强度的更好的度量。</p><ul class=""><li id="5d45" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">+1代表变量之间完美的正关系</li><li id="76b9" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">+1代表变量之间完美的负关系</li><li id="4ba0" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">0表示没有关系</li><li id="d9fc" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">接近+1的值表示强正相关</li><li id="1da2" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">接近-1的值表示强烈的负相关</li><li id="6090" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">接近0的值表示弱关系</li></ul><h1 id="0b12" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">协方差</h1><p id="1788" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">这是一种量化不同变量之间相互关系的方法。相关性的一种测量方法是测量变量之间的相互关系。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es kt"><img src="../Images/5f77e4aa6420e62ab26a6310ce67467f.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/0*_Hc2bHdF_wtUxPX7.png"/></div></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lb"><img src="../Images/d0e75abdab8a2fbfe3fcfa59069dfd3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*C9nlGS-rVL4Pcn0A.png"/></div></figure><h1 id="2015" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">相关系数</h1><p id="1f63" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">相关性的一种常用度量，通过将协方差除以两个变量的标准偏差的乘积来获得。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lb"><img src="../Images/c2512a8a25503cec0ce37d84bfd06941.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*JhAkb6MCyofC1Ilj.png"/></div></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lb"><img src="../Images/b1e26b571d46038fb2459291a94f7179.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*dwyUw4MVgRbQ2Wso.png"/></div></figure><h1 id="19eb" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">完全正关系和完全负关系中的协变性和相关性</h1><p id="691e" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">下面是x和y之间完美的正相关关系，所以协方差是正值，相关是正极值1。</p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="890e" class="lh jr hh ld b fi li lj l lk ll">x &lt;- c(1,2,3,4,5,6,7,8,9,10)<br/>y &lt;- c(1,2,3,4,5,6,7,8,9,10)<br/>cov(x,y)<br/>## [1] 9.166667<br/>cor(x,y)<br/>## [1] 1<br/>plot(x,y,pch=16)<br/>abline(lm(y ~ x))</span></pre><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lm"><img src="../Images/6ff44e71347751219f716a21024e65a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/0*uGvxwS1jD3ET3HR4.png"/></div></figure><p id="9ad9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">下面是x和y之间的完美负关系，所以协方差是负值，相关性是负极值-1。</p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="0410" class="lh jr hh ld b fi li lj l lk ll">x &lt;- c(1,2,3,4,5,6,7,8,9,10)<br/>y &lt;- c(-1,-2,-3,-4,-5,-6,-7,-8,-9,-10)<br/>cov(x,y)<br/>## [1] -9.166667<br/>cor(x,y)<br/>## [1] -1<br/>plot(x,y,pch=16)<br/>abline(lm(y ~ x))</span></pre><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es ln"><img src="../Images/2e2549d63b967c539efaed58928a79ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/0*tpSm7qr8IoM_-Usn.png"/></div></figure><p id="bde2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下是x和y之间的非完美正关系，因此协方差是正值，相关性是接近0.93的正值。</p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="0315" class="lh jr hh ld b fi li lj l lk ll">x &lt;- c(40,30,20,10,50,12,14,25,26,24,60,31,42,45,50)<br/>y &lt;- c(400,290,170,120,480,150,220,290,320,210,550,385,390,580,450)</span><span id="af1d" class="lh jr hh ld b fi lo lj l lk ll">cov(x,y)<br/>## [1] 2062.762<br/>cor(x,y)<br/>## [1] 0.9360033</span><span id="a536" class="lh jr hh ld b fi lo lj l lk ll">plot(x,y,pch=16)<br/>abline(lm(y ~ x))</span></pre><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es lb"><img src="../Images/23e2f74508c7fa2f8f57980a41fd96c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1260/format:webp/0*fJKnZQdGsVs2Ua0q.png"/></div></figure><h1 id="8191" class="jq jr hh bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">MTCARS数据集</h1><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="0eff" class="lh jr hh ld b fi li lj l lk ll">data(mtcars)<br/>head(mtcars, n = 3)<br/>##                mpg cyl disp  hp drat    wt  qsec vs am gear carb<br/>## Mazda RX4     21.0   6  160 110 3.90 2.620 16.46  0  1    4    4<br/>## Mazda RX4 Wag 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4<br/>## Datsun 710    22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span></pre><p id="b40d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">计算MTCARS数据集</strong>中马力(hp)和气缸数(cyl)之间的协方差和相关系数</p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="c4ef" class="lh jr hh ld b fi li lj l lk ll">cov(mtcars$hp,mtcars$cyl)<br/>## [1] 101.9315<br/>cor(mtcars$hp, mtcars$cyl)<br/>## [1] 0.8324475</span></pre><p id="fd3a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">计算MTCARS数据集中功率(hp)和位移(disp)之间的协方差和相关系数</strong></p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="3f8c" class="lh jr hh ld b fi li lj l lk ll">cov(mtcars$hp,mtcars$disp)<br/>## [1] 6721.159<br/>cor(mtcars$hp,mtcars$disp)<br/>## [1] 0.7909486</span></pre><p id="8a31" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">计算MTCARS数据集中功率(hp)和重量(wt)之间的协方差和相关系数</strong></p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="69dc" class="lh jr hh ld b fi li lj l lk ll">cov(mtcars$hp,mtcars$wt)<br/>## [1] 44.19266<br/>cor(mtcars$hp,mtcars$wt)<br/>## [1] 0.6587479</span></pre><p id="a1c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">计算MTCARS数据集中小时功率(hp)和每加仑英里数(mpg)之间的协方差和相关系数</strong></p><pre class="ku kv kw kx fd lc ld le lf aw lg bi"><span id="3713" class="lh jr hh ld b fi li lj l lk ll">cov(mtcars$hp,mtcars$mpg)<br/>## [1] -320.7321<br/>cor(mtcars$hp,mtcars$mpg)<br/>## [1] -0.7761684</span></pre><h2 id="b211" class="lh jr hh bd js lp lq lr jw ls lt lu ka ip lv lw ke it lx ly ki ix lz ma km mb bi translated">结论</h2><p id="2f60" class="pw-post-body-paragraph ie if hh ig b ih ko ij ik il kp in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">在本文中，我们已经理解并在R编程语言中实现了协方差和相关系数。</p><div class="mc md ez fb me mf"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mg ab dw"><div class="mh ab mi cl cj mj"><h2 class="bd hi fi z dy mk ea eb ml ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mm l"><h3 class="bd b fi z dy mk ea eb ml ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mn l"><p class="bd b fp z dy mk ea eb ml ed ef dx translated">medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt kz mf"/></div></div></a></div></div></div>    
</body>
</html>