<html>
<head>
<title>Time Series Forecasting Using AUTO ARIMA + PROPHET + LightGBM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用自动ARIMA + PROPHET + LightGBM的时间序列预测</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/time-series-forecasting-using-auto-arima-prophet-lightgbm-6362ef486c95?source=collection_archive---------0-----------------------#2022-01-16">https://medium.com/mlearning-ai/time-series-forecasting-using-auto-arima-prophet-lightgbm-6362ef486c95?source=collection_archive---------0-----------------------#2022-01-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="3fe9" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">使用机器学习预测Nifty 50股票的价格</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/2e58a93dadfa46ebec5fa237b6c69dc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fR77XTWCmutpDE8w"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@nick604?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Nick Chong</a> on <a class="ae jm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="18fe" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这篇文章中，我展示了一种开始构建可以预测值的机器学习模型的方法，以及它与受监督的机器学习模型有何不同。作为额外的一课，我还向你展示了如何使用plotly构建交互式视觉效果。我们开始吧</p><h2 id="c358" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">什么是时间序列预测？</h2><p id="dbbb" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated">顾名思义，时间序列是在一段时间内观察到的有序集合。由于时间序列包含在连续时间段映射的连续数据点，它可以是进行预测的非常重要的工具。它的一些主要应用领域包括股票和金融交易，分析在线和离线零售，以及医疗记录，如心率、EKG、MRI和ECG。</p><p id="2438" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">数据科学家对时间序列数据集的发展充满热情。它们是处理时间序列问题的许多不同方法。下面的笔记本中探讨了以下模型</p><ul class=""><li id="53ae" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">ARIMA汽车</li><li id="291e" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">先知</li><li id="b1a7" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">LightGBM</li></ul><h1 id="546d" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">目录</h1><ol class=""><li id="1f81" class="lj lk hh jp b jq le jt lf jw mi ka mj ke mk ki ml lp lq lr bi translated"><a class="ae jm" href="#254a" rel="noopener ugc nofollow">关于数据集</a></li><li id="c421" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#388d" rel="noopener ugc nofollow">加载数据集预处理</a></li><li id="9730" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#b437" rel="noopener ugc nofollow">解释性数据分析</a></li><li id="e224" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#c464" rel="noopener ugc nofollow">特色工程</a></li><li id="70b0" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#4f0c" rel="noopener ugc nofollow">静止转换</a></li><li id="d554" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#dfcb" rel="noopener ugc nofollow"> ARIMA和ARIMA汽车</a></li><li id="b6ea" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#9693" rel="noopener ugc nofollow">脸书先知</a></li><li id="5121" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#1a09" rel="noopener ugc nofollow">助推树木</a></li><li id="4d4f" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#bc2a" rel="noopener ugc nofollow">总结</a></li><li id="825a" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#399e" rel="noopener ugc nofollow">未来工作</a></li><li id="9eed" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki ml lp lq lr bi translated"><a class="ae jm" href="#842e" rel="noopener ugc nofollow">参考</a></li></ol><h1 id="254a" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№1:关于数据集</h1><p id="662f" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><p id="6a0e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该数据是来自印度NSE(国家证券交易所)的NIFTY 50指数中的50只股票的价格历史和交易量。所有数据集都是一天级别的，定价和交易值是分开的。cvs文件以及一个元数据文件，该文件包含一些关于股票本身的宏观信息。数据跨度从2000年1月1日到2021年4月30日。</p><p id="3421" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该数据集包含以下功能</p><ul class=""><li id="72e3" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">日期—交易日</li><li id="edba" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">符号—股票名称</li><li id="e339" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">Prev Close —股票前一天的收盘价</li><li id="5422" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">开盘——给定日期的开盘价</li><li id="faab" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">高—给定日期的最高价格</li><li id="ead6" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">Low给定日期的最低价格</li><li id="3ef9" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">最后——给定日期的最后价格</li><li id="5ac4" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">收盘——给定日期的收盘价</li><li id="78f0" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">VWAP——全天交易股票的平均价格</li></ul><p id="efe2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">因为我们有50只股票的数据，所以每次选择一只股票进行分析是有意义的，因此我选择HDFC银行进行分析</p><h1 id="388d" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№2:加载数据集预处理</h1><p id="cb0e" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到TOC</em>T3】</a></p><p id="e4b2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们使用定制的库opendatasets从<a class="ae jm" href="https://jovian.ai/outlink?url=https%3A%2F%2Fwww.kaggle.com%2Fdatasets" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>加载数据集。</p><p id="287e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我还导入其他标准导入来执行数据分析、模型构建等</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="c647" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">以下是为处理数据集而导入的python库列表</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="9262" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">要从Kaggle下载数据集，您需要从Kaggle网站生成API密钥。你可以通过这篇<a class="ae jm" href="https://jovian.ai/forum/t/what-is-kaggle-api-key-how-to-get-my-kaggle-key/17721" rel="noopener ugc nofollow" target="_blank">文章</a>了解这个过程</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="4c32" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在我们处理任何分析之前，我们需要检查我们的数据集中是否有任何垃圾数据，如果有，那么就需要清理掉</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="8d12" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如上述交易所示，可交割量和可交割量包含空值。让我们设法获得更多的细节</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="d3b9" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们在交易、交割量和交割百分比中有缺失值。我选择删除这些列，因为它们可能不会为我们的分析增加重要的值</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="b437" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№3:解释性数据分析</h1><p id="3d1c" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><h2 id="68dd" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">3.1绘制VWAP随时间的变化</h2><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="e54a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">使用plotly构建交互式视觉效果</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="24b5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">观察</p><ul class=""><li id="29da" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">股价稳步上升，直至2011年7月。</li><li id="9ccc" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">该股大幅下跌，并在2020年3月前再次上涨。</li><li id="9f5a" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">该股将在2020年再次大幅下跌。这可能是因为covid，让我们检查一下</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="f0ee" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">很明显，股价在Covid时代感受到了压力，直到11月份才开始回升</p><h2 id="576e" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">3.2绘制移动平均线</h2><p id="a3c0" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated">当我们分析股票的时候，看一下移动平均线来理解下跌和上涨是一个很好的方法。交易者在打电话买入或卖出股票时更喜欢下列移动平均线</p><ul class=""><li id="0c49" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">50天MA</li><li id="4c6d" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">100天MA</li><li id="3b41" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">200天MA</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="f2a8" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">虽然数列与数据框连接，但数列在数据框中的位置不正确。我们需要根据计算移动平均值的天数来移动序列。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="5023" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">pro Technique——虽然通过matplotlib绘图更容易，但是如果你想要交互式的视觉效果，你可以使用plotly</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="e472" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这种分析有助于我们进行以下观察-</p><ul class=""><li id="e9fd" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">在Covid时间内，股票围绕其50天移动平均线运行。</li><li id="fd8d" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">股价从其200和100天移动平均线大幅上涨，表明这是一只优质股票，没有处于超卖区。</li></ul><h2 id="fdd5" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">3.3了解数据分布</h2><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="be5b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">数据不是正态分布的，然而，这正是我们通常对时间序列的期望</p><h2 id="f0c2" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">3.4最高价、最低价、开盘价和收盘价的单变量分析</h2><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="a070" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">见解</strong></p><ul class=""><li id="cd1d" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">所有参数之间没有太大的偏差</li><li id="03e7" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">有两次下降，一次在2012年，另一次在2020年。</li></ul><p id="6e01" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">历年份额量的单变量分析</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="a5dc" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">见解</strong></p><ul class=""><li id="3d37" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">从2000年到2018年，市场份额处于低谷期</li><li id="c1f1" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">HDFC多年来表现出强劲的增长势头，因此在2012年之后，数量有所增长。</li></ul><h1 id="c464" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№4:以工程为特色</h1><p id="e2be" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow">T3】转到TOCT5】</a></p><p id="af63" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><em class="mm">计算平均值和标准偏差</em></p><p id="ca71" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该技术通常应用于时间序列，以消除噪声和展示潜在的因果信号。下面我考虑3、7、30天的移动平均值和标准差</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="4f0c" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№5:静态转换</h1><p id="5b01" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><p id="a596" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在我们对时间序列数据建立最大似然模型之前。检查数列是否平稳是很重要的。</p><p id="549a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> <em class="mm">什么是静止检查</em> </strong></p><p id="de33" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">平稳序列具有均值、方差和自相关结构不随时间变化的特性。在图片下面，插图给你一个更好的想法</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mp"><img src="../Images/9d7192f23bac80aae472666c714d704c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xdblkZyg6YmmReAkZHUksw.png"/></div></div></figure><p id="d723" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">有两种方法可以检验时间序列是否平稳</p><ul class=""><li id="dc9c" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">通过目视检查——这可以根据上面显示的图像来完成</li><li id="7881" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated"><strong class="jp hi">迪基-富勒检验</strong> <br/>对原假设和备择假设进行验证。在当前情况下，零假设是时间序列不稳定，而另一个假设是时间序列稳定。</li></ul><p id="e52c" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">假设是根据应用测试后计算的p值确定的</p><ul class=""><li id="cb0d" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">p值小于0.05，零假设成立，时间序列不是平稳的</li><li id="fa5a" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">p值大于0.05，零假设成立，时间序列是平稳的</li></ul><p id="6634" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">让我们进行这个测试。为了方便起见，python已经有了一个执行所有底层计算的库</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h2 id="5aac" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">5.1分解时间序列</h2><p id="8603" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated">我们分解时间序列来理解它作为一个加法或乘法时间序列的性质。</p><p id="864e" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">相加时间序列</strong>一般在相加时间序列中，趋势和季节变化随时间相对恒定。加法级数表现出线性行为。</p><p id="e3f4" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">乘法时间序列</strong>一般来说，趋势和季节变化的幅度会随着时间的推移而增加或减少。乘法时间序列显示指数行为。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="6790" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这是一个附加的时间序列，因为我们没有看到数量上的指数增长。</p><h2 id="1b57" class="kj kk hh bd kl km kn ko kp kq kr ks kt jw ku kv kw ka kx ky kz ke la lb lc ld bi translated">5.2 <strong class="ak">实现换档()</strong></h2><p id="a857" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated">我们采用移位技术使时间序列平稳。这是一种技术，我们将数据移动一天，用移动后的值减去原始值，并将差异记录在单独的列中。因为我们用今天的值减去昨天的值，所以它会留下一个恒定值，从而使图保持不变。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="dfcb" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№6:ARIMA和ARIMA车展</h1><p id="869a" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到TOC</em>T3】</a></p><p id="2ae1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在高水平上开发ARIMA模型时，执行以下步骤</p><ul class=""><li id="3669" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">使时间序列平稳</li><li id="d133" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">计算p、q和d值，其中p、q和d指的是</li><li id="11f3" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">p —自回归</li><li id="4f99" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">q —移动平均线</li><li id="c434" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">d-差异</li></ul><p id="c6c6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">汽车ARIMA </strong>汽车ARIMA简化了上述流程。它涵盖了时间序列，以稳定和自动计算的p，q和d值。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="1d4d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">以橙色显示预测值</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="e90d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">模型评估可以基于RMSE和梅误差进行</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><h1 id="9693" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№7:脸书先知</h1><p id="3dd4" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><p id="0de2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">Prophet是由脸书开发的开源时间序列模型。2017年初发布。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="babc" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">据观察，这两个错误在汽车ARIMA少于先知。因此，自动ARIMA更准确</p><h1 id="1a09" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№8:助推树</h1><p id="be62" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><p id="d610" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">传统的提升树在Kaggle竞争中表现最佳，因为它们似乎将误差降至最低。让我们检查一下</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mn mo l"/></div></figure><p id="a007" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">ARIMA汽车的表现似乎超过了其余两款车型。</p><h1 id="bc2a" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№9:摘要</h1><p id="e9e3" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><p id="0f18" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">下面是我们在进行分析时执行的步骤的总结。</p><ul class=""><li id="612b" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">从Kaggle下载了数据集。</li><li id="9081" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">执行预处理，如检查空值、删除冗余列、导入所有需要的库。</li><li id="5ce8" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">执行解释性数据分析<br/>关键见解<br/> 1。随着时间的推移，VWAP稳步增长。自去年以来，该股一直在50天移动平均线附近<br/> 3。该股在2012年和2020年大幅下跌。</li><li id="d831" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">执行特征工程，计算3、7和30天内的平均值和标准偏差。</li><li id="d2fe" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">对时间序列进行平稳性检查，运行DK fuller测试并实施shift()技术将时间序列转换为平稳性。</li><li id="07ff" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">使用自动ARIMA、先知和增强树训练模型。</li><li id="aead" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">在评估RMSE分数的时候。ARIMA汽车似乎表现最好。</li></ul><h1 id="399e" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№10:未来的工作</h1><p id="baa2" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><ul class=""><li id="cf33" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated">虽然自动ARIMA功能非常强大，但也可以实现ARIMA来查看输出中的差异。</li><li id="0adc" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">你可以试着训练XGBoost的模型，看看它的表现是否比自动ARIMA更好。</li></ul><h1 id="842e" class="lx kk hh bd kl ly lz ma kp mb mc md kt in me io kw iq mf ir kz it mg iu lc mh bi translated">№11:参考</h1><p id="deb1" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw lg jy jz ka lh kc kd ke li kg kh ki ha bi translated"><a class="ae jm" href="#546d" rel="noopener ugc nofollow"> <em class="mm">转到目录</em> </a></p><ul class=""><li id="de9d" class="lj lk hh jp b jq jr jt ju jw ll ka lm ke ln ki lo lp lq lr bi translated"><a class="ae jm" href="https://jovian.ai/outlink?url=https%3A%2F%2Fwww.kaggle.com%2Frohanrao%2Fa-modern-time-series-tutorial%2Fnotebook" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/rohan Rao/a-modern-time-series-tutorial/notebook</a></li><li id="0943" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated"><a class="ae jm" href="https://jovian.ai/outlink?url=https%3A%2F%2Fwww.kaggle.com%2Fyashvi%2Ftime-series-analysis-and-forecasting-reliance" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/yash VI/time-series-analysis-and-forecasting-reliance</a></li><li id="3797" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated"><a class="ae jm" href="https://jovian.ai/outlink?url=https%3A%2F%2Fwww.kaggle.com%2Fvikassingh1996%2Fbajaj-stock-price-pred-xgb-fb-prophet-altair%23XGBoost-Modeling-and-Forecasting" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/vikassing 1996/bajaj-stock-price-pred-xgb-f b-prophet-Altair # XGBoost-Modeling-and-Forecasting</a></li><li id="03f3" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated"><a class="ae jm" href="https://jovian.ai/outlink?url=https%3A%2F%2Fwww.kaggle.com%2Fbenroshan%2Freliance-nifty50-time-series-analysis%23Model-building-Phase--Forecasting-%26-Prediction" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/benroshan/reliance-nifty 50-时间序列-分析#模型-建立-阶段-预测-&amp;-预测</a></li><li id="58af" class="lj lk hh jp b jq ls jt lt jw lu ka lv ke lw ki lo lp lq lr bi translated">笔记本链接—<a class="ae jm" href="https://jovian.ai/hargurjeet/nifty-50-time-series-forecasting-3" rel="noopener ugc nofollow" target="_blank">https://jovian . ai/hargurjeet/nifty-50-time-series-forecasting-3</a></li></ul><p id="39dd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我真的希望你们能从这篇文章中学到一些东西。如果你喜欢你学到的东西，请随意鼓掌。如果有什么需要我帮忙的，请告诉我。请随时联系LinkedIn </p><div class="mq mr ez fb ms mt"><a rel="noopener follow" target="_blank" href="/data-driven-fiction/how-to-submit-5e0808dce313"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hi fi z dy my ea eb mz ed ef hg bi translated">如何提交？</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">数据驱动的小说</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh jg mt"/></div></div></a></div></div></div>    
</body>
</html>