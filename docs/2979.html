<html>
<head>
<title>Flattening 2D lists Vs 2D Tensors: Approaches and Complexities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">扁平化2D列表Vs 2D张量:方法和复杂性</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-flatten-2d-lists-1be8e0bea511?source=collection_archive---------10-----------------------#2022-07-04">https://medium.com/mlearning-ai/how-to-flatten-2d-lists-1be8e0bea511?source=collection_archive---------10-----------------------#2022-07-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="9810" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在扁平化2D时部署错误的策略是很常见的。显而易见，但最重要的一点是:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/9d0965c455875660a1bd17ea6fc59ae3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*c3nlrEZ1vylIN4LE.png"/></div></div></figure><p id="5717" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此:</p><blockquote class="jo jp jq"><p id="e2ce" class="ie if jr ig b ih ii ij ik il im in io js iq ir is jt iu iv iw ju iy iz ja jb ha bi translated"><strong class="ig hi"><em class="hh"/></strong></p></blockquote><p id="8052" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一旦你知道你的数据，只需相应地选择以下方法之一。(我们不会深入研究这些函数)</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jv"><img src="../Images/b07dfee123be454ce550de2d8ed76980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZoFsFEdTwMdtsTAi.png"/></div></div></figure><p id="1c27" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(注意:对于张量，显示的方法是基于NumPy的，但是每个科学计算库都有自己相似的张量函数)</p><blockquote class="jo jp jq"><p id="3cbc" class="ie if jr ig b ih ii ij ik il im in io js iq ir is jt iu iv iw ju iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="hh">所以我们知道数据类型，但是它有多大呢？</em> </strong></p></blockquote><p id="637c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">并不是所有的方法都可以有效地扩展数据大小，如下所示:<br/>(这些只是张量类型的方法)</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jw"><img src="../Images/ede8052a2139a680d2bdee6466026868.png" data-original-src="https://miro.medium.com/v2/resize:fit:982/format:webp/0*e31cyEdEbcwgrV4x.png"/></div></figure><p id="e5e6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来是列表式方法:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jx"><img src="../Images/1dc8dcc66b29fbce93cc8861aeb28d5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/0*5-um9-fEBoY6RKGR.png"/></div></figure><p id="5adb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(注意:我使用<a class="ae jy" href="https://pypi.org/project/perfplot/" rel="noopener ugc nofollow" target="_blank">性能图</a>来绘制对比图)</p><p id="8621" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，上面列出的方法已经按照复杂程度递增的顺序排列。</p><p id="0c12" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">但是等等，难道不应该把上面两个图合并起来，把所有的方法放在一起比较吗？<br/> </strong>如果你的答案是“当然可以，为什么不可以”，那你就需要更加用心了:P. <br/>还记得“数据类型”这一点吗？这两个图的数据类型是不同的。第一个是张量，第二个是列表列表。</p><blockquote class="jo jp jq"><p id="2438" class="ie if jr ig b ih ii ij ik il im in io js iq ir is jt iu iv iw ju iy iz ja jb ha bi translated"><strong class="ig hi"> <em class="hh">如果你没有得到任何错误，并不意味着它是正确的</em> </strong></p></blockquote><p id="0fed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">示例1:在2D列表上使用张量方法</strong></p><p id="6388" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我曾经碰巧在一个列表列表中应用了<strong class="ig hi"> np.ravel() </strong>，并且很高兴它成功了。但是做到了吗？</p><p id="3328" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我的脑海中，我期待着这个:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jz"><img src="../Images/14d5202528eb3014a72107f9f0acf7c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/0*L9SQATbUur05BGUr.png"/></div></figure><p id="2433" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但实际上，它是这样的:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ka"><img src="../Images/57dd12500c4fd9bc4b63076edd9a1a0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/0*SfjKg2hygNUEOIvl.png"/></div></figure><p id="e5cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">请注意数据中的差异。第二个没有相同大小的所有子列表。<strong class="ig hi"> ravel() </strong>没有给出任何错误但是没有按预期工作。</p><p id="c65d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">示例2:在张量上使用列表方法</strong></p><p id="61c5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是<strong class="ig hi"> reduce() </strong>在2D列表上的工作方式。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kb"><img src="../Images/b7bb35b1aa060d3ec43787e1e782b635.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/0*XSqEclDgxRrGkU3j.png"/></div></figure><p id="d448" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是当给定一个张量时，它只是简单地将特定轴上的值相加:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kc"><img src="../Images/a16a73ce416d774ff0296d1238dd67df.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/0*IwmmnK_7tNoIAT4g.png"/></div></figure><p id="86a3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">结论:远离混合不同类别的方法。</strong></p><h2 id="fc06" class="kd ke hh bd kf kg kh ki kj kk kl km kn ip ko kp kq it kr ks kt ix ku kv kw kx bi translated">我的偏好:</h2><ol class=""><li id="5cfb" class="ky kz hh ig b ih la il lb ip lc it ld ix le jb lf lg lh li bi translated">如果是2D列表，只需使用<strong class="ig hi"> sum(a，[ ]) </strong>就可以了，因为我们不需要导入任何东西，如果数据量很大，就远离它，因为它会非常慢。</li><li id="e4bf" class="ky kz hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated">如果它是一个张量，使用<strong class="ig hi"> ravel()，</strong>因为它比其他的更快(因为它返回一个修改的视图，不像<strong class="ig hi"> flatten()那样创建张量的副本)。</strong></li><li id="a35b" class="ky kz hh ig b ih lj il lk ip ll it lm ix ln jb lf lg lh li bi translated">请记住，如果数据超过2维，方法将会不同。所以在继续之前简单地测试一下这个函数。</li></ol><p id="2e04" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我错过了您的任何便捷方法，请告诉我:)</p><div class="lo lp ez fb lq lr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ls ab dw"><div class="lt ab lu cl cj lv"><h2 class="bd hi fi z dy lw ea eb lx ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ly l"><h3 class="bd b fi z dy lw ea eb lx ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lz l"><p class="bd b fp z dy lw ea eb lx ed ef dx translated">medium.com</p></div></div><div class="ma l"><div class="mb l mc md me ma mf jm lr"/></div></div></a></div></div></div>    
</body>
</html>