<html>
<head>
<title>How to Read Data Values Separated by Blanks Using the SAS infile Statement</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用SAS infile语句读取由空格分隔的数据值</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-read-data-values-separated-by-blanks-using-the-sas-infile-statement-47c4e5cefd06?source=collection_archive---------6-----------------------#2021-12-22">https://medium.com/mlearning-ai/how-to-read-data-values-separated-by-blanks-using-the-sas-infile-statement-47c4e5cefd06?source=collection_archive---------6-----------------------#2021-12-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="f3d5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在事情变得更复杂之前，这是一段基本的代码…</p><p id="46bb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">作为一名公共卫生研究人员，我上过一门公共卫生课程，这门课程向我介绍了SAS(统计分析软件)。这是我第一次为了得到一个结果而不得不编码或编程。作为一个点击式统计程序，我对JMP做得还不错，但是我仍然想知道写代码来分析数据是什么样子的。</p><p id="8f7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尽管最后我得了个“A ”,你可以说实际上我几乎没有错过那门课的“B”区。尽管编码很有趣，但为了像使用JMP一样使用SAS，我仍然需要知道很多东西。所以，我决定写下我希望这门课是什么样的。当然，我很乐意通过例子来学习sa。</p><p id="c5be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">那门课，我用的是SAS 9.4。我就不说怎么下载或者下载SAS studio了。我会直接跳到手边的例子。</p><p id="45f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首先，您必须知道SAS可以通过多种方式读取非SAS数据集(txt、csv、xlsx等)。今天，我们将介绍“infile”方法，并使用SAS来读取由空格分隔并存在于txt文件中的数据。</p><p id="d06c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">打开SAS 9.4程序后，会弹出以下窗口。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/e8fde3647b3714a30feabd4558147810.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NbwXy-hxmjYM3VT6Pjg8oQ.png"/></div></div><figcaption class="jo jp et er es jq jr bd b be z dx">The opening window in SAS 9.4</figcaption></figure><p id="dde6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">代码写在下方名为“编辑器”的窗口中，由SAS检查上方名为“日志”的窗口中的错误。最左边的“资源管理器”窗口有链接到工作目录或您自己创建的“库”的文件，或者链接到SAS自己创建的其他有用的库的文件。</p><p id="11be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">因此，让我们通过键入下面的代码开始清除日志窗口。</p><blockquote class="js jt ju"><p id="9b2b" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">dm日志“清除”；</p></blockquote><p id="f958" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，让我们使用代码来创建一个个人图书馆，我将保持和保存我所有的文件。为此，我将使用“libname”语句。永远记住一个语句总是以关键字=libname开头，并且总是以分号=结尾；</p><p id="9f95" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">根据下面的代码，我用我的名字“amr”来命名我的库，并且我指定了一个到我为这个库创建的文件的路径。它将被命名为“medium ”,它将被放在另一个名为“sasdata”的文件中，而这个文件又将被放在我的硬盘驱动器的E分区中。该语句应该类似于下面的代码。</p><blockquote class="js jt ju"><p id="3092" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">libname AMR ' E:\ SAS data \ medium '；</p></blockquote><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jz"><img src="../Images/1d33b6f2ef82d081903544c5bbf7af12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eBHmE8gVxWWC4t_XaBiCfg.png"/></div></div></figure><p id="eb16" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">看到红圈里的“跑男”图标了吗？这是“运行”或“提交”按钮。我们用它来运行我们写的每一条语句。在运行了上面两条语句之后，转到“Explorer”窗口中的“libraries”图标，双击它，您将会在库中看到一个名为“Amr”的图标。这是我们使用“libname”语句创建的库(见下文)。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/7252774849f34d38d676c62dc00d1cfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4RnNP2pam2GdyZx4u2k9hg.png"/></div></div></figure><p id="84e2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您现在打开“amr”库，您将什么也看不到，因为SAS只看到SAS数据集，而不是其他数据集，并且我们指定的medium文件夹将只包含名为data1的txt文件。由于该文件是一个txt(非SAS)文件，所以SAS将看不到它，直到它被转换或以SAS可见的方式“读取”,这就是“infile”语句的作用。</p><p id="5470" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我已经创建了txt文件(data1)，它在下面。我已经把它放在“medium”文件中，但是SAS将看不到它，除非我以如下所示的方式使用infile语句。如您所见，数据由五个变量(列)和五个观察值(行)组成。根据列的顺序，变量名为:种族、性别、年龄、体重和身高。“种族”和“性别”变量是分类变量，而“年龄”、“体重”和“身高”变量是数字变量。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ka"><img src="../Images/9c0c6c177379c7d5774a44095a0b41e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:578/format:webp/1*czt-Mp32xqYlrPtSnGiq5g.png"/></div></figure><p id="05e0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将以我们想要创建并保存在名为“Amr”的库中的SAS数据集的名称开始我们的代码。我想创建它并将其保存在“amr”库中，这就是为什么我从数据语句开始，我选择编写“amr.data1 ”,以便告诉SAS将其保存在“Amr”库中。</p><blockquote class="js jt ju"><p id="3ec8" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">data amr.data1</p></blockquote><p id="ba86" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果我想创建它而不保存它，我应该写“data data1”。这样它仍然会被创建，但是它会在另一个叫做“工作”库的库中被发现。“工作”库是一个临时库，包含您创建的文件，但这些文件将在您关闭SAS后被删除。</p><p id="a0f2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们遵循我们的代码。</p><p id="852d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">infile语句将告诉SAS在哪里可以找到数据。</p><blockquote class="js jt ju"><p id="4ac6" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">infile ' E:\ SAS data \ medium \ data 1 . txt '；</p></blockquote><p id="c87d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">input语句将告诉SAS与数据值相关联的变量名。正如你在上面的txt图片中看到的，数据没有变量名。因此列的变量名将由输入语句决定。</p><p id="bb08" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们必须确保输入语句中变量名的顺序与数据值的顺序相匹配。</p><p id="280f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">(Gender)后面出现的美元符号($)告诉SAS ,( Gender)<br/>变量是一个字符变量。变量名称的其余部分<br/>后没有美元符号表示(身高)和(体重)变量是数字。</p><blockquote class="js jt ju"><p id="50b6" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">输入种族$性别$年龄体重身高；</p></blockquote><p id="3a51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后以run语句结束。</p><blockquote class="js jt ju"><p id="a3ab" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">跑步；</p></blockquote><p id="19e4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总而言之，我们的最后一段代码将是这样的:</p><blockquote class="js jt ju"><p id="b720" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">data amr.data1<br/>infile ' E:\ SAS data \ medium \ data 1 . txt '；<br/>输入种族$性别$年龄体重身高；<br/>跑；</p></blockquote><p id="7302" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者这个:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kb"><img src="../Images/d81a10dfa02b0aaee3fc3e3d3d1e4b97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*SBcVLlN5ON31pGvFtlGoOw.png"/></div></figure><p id="51ec" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">运行此代码后，您将看到文本文件中的无名数据被转换为SAS数据集，并根据变量名的分配顺序添加了变量名。如果您注意到左边，我已经单击了“Amr”库，名为“data1”的SAS数据集就在那里。这就是为什么我们都在“Amr”图书馆里看到它。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/cd48a1942b72f312cbb900bdf73530a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6PCSrgvhjH7CHlkTDwE3DA.png"/></div></div></figure><p id="4eae" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您想检查变量的类型，双击变量名称，您将在产生的SAS窗口中看到变量的类型。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es kc"><img src="../Images/7ff209a7d41a0bbf7a40d36cb72a9136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NBZiJooLv1JRtzJ1Uvfk4Q.png"/></div></div></figure><p id="ac82" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在让我们看看使用proc print函数的输出表。</p><blockquote class="js jt ju"><p id="278a" class="ie if jv ig b ih ii ij ik il im in io jw iq ir is jx iu iv iw jy iy iz ja jb ha bi translated">标题“数据集data1列表”；<br/> proc打印数据= amr.data1<br/>运行；</p></blockquote><p id="a657" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者…</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kd"><img src="../Images/052949cd3a8c66246fbb4dfd65f2e421.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*6da8my55ck023Zb7cX-mVg.png"/></div></figure><p id="ba53" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出将是这样的:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es ke"><img src="../Images/e3fd3716533ccf2d8e53604ac50c2b0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sxd7YP1NfkG14PnDQK7dmA.png"/></div></div></figure><p id="e753" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果您觉得这些内容有帮助，请告诉我。</p><div class="kf kg ez fb kh ki"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kj ab dw"><div class="kk ab kl cl cj km"><h2 class="bd hi fi z dy kn ea eb ko ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="kp l"><h3 class="bd b fi z dy kn ea eb ko ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="kq l"><p class="bd b fp z dy kn ea eb ko ed ef dx translated">medium.com</p></div></div><div class="kr l"><div class="ks l kt ku kv kr kw jm ki"/></div></div></a></div></div></div>    
</body>
</html>