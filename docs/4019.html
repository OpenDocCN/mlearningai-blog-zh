<html>
<head>
<title>Building a Web Application to detect Breast Cancer in Ultrasound images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建一个Web应用程序来检测超声图像中的乳腺癌</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/building-a-web-application-to-detect-breast-cancer-in-ultrasound-images-df391483fbd9?source=collection_archive---------1-----------------------#2022-11-25">https://medium.com/mlearning-ai/building-a-web-application-to-detect-breast-cancer-in-ultrasound-images-df391483fbd9?source=collection_archive---------1-----------------------#2022-11-25</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="0936" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">轻松在医学图像上进行目标检测的友好指南</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/9c6a1da884ba7ceea456261bacc3d7a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*EdKw7FZ9eIg2Na1w"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@priscilladupreez" rel="noopener ugc nofollow" target="_blank">Priscilla Du Preez</a> on <a class="ae jm" href="https://unsplash.com/photos/gYdjZzXNWlg" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9675" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">上个月被指定为粉红月，致力于提高对乳腺癌的认识，并鼓励妇女通过医疗访问进行预防。如果早期诊断，这种疾病的死亡率可以大大降低，这样就可以挽救许多生命。</p><p id="011d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">检测乳腺病变最常见的方法是通过影像诊断，这可以通过不同的方法获得，如磁共振成像、乳房x线照相术和乳腺超声。正如你所推断的，准确识别乳腺癌是非常重要的。</p><p id="cbc6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这种情况下，深度学习技术可以代表自动识别和诊断乳腺癌的有用工具。在这一领域已经进行了大量的研究，并且存在可用于解决这类任务的公共影像数据集。</p><p id="7a26" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在本文中，我将构建一个用Streamlit构建的web应用程序，用于从超声图像中检测乳腺癌，同时使用Datature的工具训练模型。我们的基准数据集称为乳腺超声图像数据集，可以在Kaggle上找到。</p></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h2 id="7de7" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">目录:</h2><ul class=""><li id="d957" class="ll lm hh jp b jq ln jt lo jw lp ka lq ke lr ki ls lt lu lv bi translated"><strong class="jp hi">第一部分:超声图像上的训练模型</strong></li><li id="d9cc" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated"><strong class="jp hi">第2部分:用Streamlit构建Web应用程序</strong></li></ul></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h1 id="1a19" class="mb kr hh bd ks mc md me kw mf mg mh la in mi io ld iq mj ir lg it mk iu lj ml bi translated">要求:</h1><p id="1d8f" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">在继续之前，你需要在<a class="ae jm" href="https://www.datature.io/" rel="noopener ugc nofollow" target="_blank">数据公司</a>的平台上创建一个账户。之后，您可以进入您的帐户，并创建一个新的项目如下截图。特别是，您需要指定项目名称和类型，可以是对象检测或实例分割。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mp"><img src="../Images/9e890c745141eb314417e16b329c6270.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*xEcH8ltL5CXoEEHNxjFS6Q.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Create a New Project on Datature’s platform. GIF by Author.</figcaption></figure><p id="bb3a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在这种情况下，我们选择对象检测选项，因为我们希望在图像中找到对象，然后为它们分配正确的标签，良性或恶性。我们将处理一个包含乳房图像的数据集，这些图像可在<a class="ae jm" href="https://www.kaggle.com/datasets/aryashah2k/breast-ultrasound-images-dataset" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>上获得。</p><p id="00b7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该数据集有三个不同的类别:正常、良性和恶性图像。在这个项目中，我们将只关注两类，良性和恶性。此外，数据集包括掩模图像，也称为地面真实图像，以及该类别的原始图像。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mq"><img src="../Images/7e45ecce48a62f28aa9ee492d3cc3171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h2gcxmXkbDuXJfqSRUaFGA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx"><a class="ae jm" href="https://www.sciencedirect.com/science/article/pii/S2352340919312181" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><h1 id="3f58" class="mb kr hh bd ks mc mr me kw mf ms mh la in mt io ld iq mu ir lg it mv iu lj ml bi translated"><strong class="ak">第1部分:超声图像上的训练模型</strong></h1><p id="2c78" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">这部分将被分成不同的部分:</p><ol class=""><li id="1002" class="ll lm hh jp b jq jr jt ju jw mw ka mx ke my ki mz lt lu lv bi translated">上传和注释图像</li><li id="810b" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki mz lt lu lv bi translated">创建工作流</li><li id="dd8c" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki mz lt lu lv bi translated">可视化模型性能</li><li id="0899" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki mz lt lu lv bi translated">下载Tensorflow神器</li><li id="0553" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki mz lt lu lv bi translated">运行预测脚本. py</li></ol></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h2 id="190b" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">1.上传和注释图像</h2><p id="c6fe" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">让我们通过点击上传按钮来上传良性和恶性病例的图像。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es na"><img src="../Images/2acb7336fe12f6c58dc6de113095168e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lR7_h-hpO-sfkfdOpj8dlQ.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">1.1 Upload Images. Illustration by Author.</figcaption></figure><p id="527d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">由于数据集包含与平台不兼容的二进制掩码，我使用python脚本从这些掩码中导出边界框:</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="nb nc l"/></div></figure><p id="2d3d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该文件具有CSV格式，其中每一行对应于与数据集的每个图像相关联的注释。实际上，边界框是由四个像素值定义的:x_min、y_min、width和height。除了这四个值，我们还有标签，可以是良性的，也可以是恶性的。</p><pre class="ix iy iz ja fd nd ne nf bn ng nh bi"><span id="f143" class="ni kr hh ne b be nj nk l nl nm">filename,xmin,ymin,width,height,label<br/>benign (1).png,288,134,51,26,benign<br/>benign (10).png,24,67,209,197,benign<br/>benign (11).png,367,132,72,38,benign<br/>benign (12).png,343,178,78,44,benign<br/>benign (13).png,182,107,355,198,benign<br/>benign (14).png,511,149,111,54,benign</span></pre><p id="d5c1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">之后，我们可以用选项“CSV四角-边界框”导入注释，如<a class="ae jm" href="https://developers.datature.io/docs/uploading-annotations#csv-four-corner---bounding-box" rel="noopener ugc nofollow" target="_blank">数据的文档</a>所示。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nn"><img src="../Images/61ab1d59a73250cdda6d5ff1006174ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M0uG3DCas3mrZGbPq7RlgQ.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">1.2 Upload Annotations. Illustration by Author.</figcaption></figure><p id="69f2" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们可以在注释器中可视化带有相应注释的图像。是不是很神奇？我们可以对带注释的超声图像有一个完整的概述。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es no"><img src="../Images/23b6eeb19120f9439f75be15c10ed956.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*AiHS8QeNjJpThbScwiiHEA.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Visualize annotated images and Manually Annotation. GIF by Author.</figcaption></figure><p id="611f" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">此外，Datature的注释器允许手动注释，以防图像没有标签和边界遮罩。在从事计算机视觉项目时，这个特性无疑是很有价值的。</p><h2 id="4c51" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">2.创建工作流</h2><p id="062c" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">是时候训练我们的模特了！我们通常需要编写大量代码行来导入数据集，应用数据增强技术，最后，训练深度学习模型来解决对象检测任务。Datature通过创建工作流来简化这一过程，工作流是一种显示机器学习生命周期所有步骤的可视化方案:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es no"><img src="../Images/64ffe63f2b331c378855f30a6e819436.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*MzKSHP35vcWo8Re6P9bx6A.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Create Workflow. Illustration by Author.</figcaption></figure><p id="dd28" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">不同阶段的过程非常直观:</p><ul class=""><li id="a6df" class="ll lm hh jp b jq jr jt ju jw mw ka mx ke my ki ls lt lu lv bi translated">右键单击<strong class="jp hi">数据集→项目数据集</strong>，将数据集分成训练集和验证集。</li><li id="f785" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">右键点击<strong class="jp hi">增强</strong>，选择你喜欢的技术来应用图像的变换。还可以通过点击右下角的“预览增强”按钮预览增强效果。</li><li id="30e5" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">右键<strong class="jp hi">型号→ RetinaNet型号→ Retina MobileNet V2 640x640 </strong>。<strong class="jp hi"> </strong>如果您按下创建的窗口的模式，您还可以设置批量大小和迭代次数。在这种情况下，我们只需将默认批量大小更改为4。</li></ul><p id="7c98" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在定义了工作流的步骤后，我们可以按下“运行训练”按钮，这会显示训练模型的选项，如GPU类型和检查点策略。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es no"><img src="../Images/355428bffcb4d1bf60a9905452845540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ed80bUtfgcoiZKk0DUfQLg.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Run Training. Illustration by Author.</figcaption></figure><p id="41fd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一旦我们选择了选项，我们可以点击“开始训练”按钮，并最终可以开始有趣的部分！休息一下，在乳腺癌图像上训练模型需要15到30分钟。</p><h2 id="bbe9" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">3.可视化模型性能</h2><p id="aaed" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">从图中，我们可以观察到，随着迭代次数的增加，训练和验证损失都在缓慢减少。此外，很明显，随着时间的推移，准确率和召回率都在提高。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es no"><img src="../Images/cc2ef99c1394be458307c5744b150f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*RGsvIlfyV_ficnLjW25-Dg.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Model metrics and Advanced Evaluation. GIF by Author.</figcaption></figure><p id="e328" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">正如在许多项目中一样，只看指标不足以真正理解一个模型是如何执行的。在这个令人惊叹的平台中，有一个名为高级评估的工具，它允许将地面真相与预测的边界框进行比较。例如，如果模型将良性结节混淆为恶性结节，该功能对于理解非常重要，如下图所示。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es np"><img src="../Images/2b0005e46a72c3f38c9133dc1cd02fe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yq1RuUSkt7Jd2g_zLjeriA.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Example of Advanced Evaluation. Illustration by Author.</figcaption></figure><h2 id="6430" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">4.下载Tensorflow神器</h2><p id="8ad5" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">在培训结束并且我们检查了最终的度量标准之后，我们最终可以导出工件。只需进入神器页面，选择神器盒子上的<code class="du nq nr ns ne b">…</code>按钮，按“导出神器”，选择“生成张量流模型”选项即可。几秒钟后，您可以单击下载。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nt"><img src="../Images/72008f9e5fc76f0e81850ab7006fd7af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eKdaxiKTYR98Kd3Vkf41uw.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Export Artifact. GIF by Author.</figcaption></figure><p id="74dd" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">该功能将允许我们使用python脚本在平台外对新图像进行预测。因此，我们也可以稍后创建web应用程序，它将访问数据的预测平台API，称为门户。</p><h2 id="a50e" class="kq kr hh bd ks kt ku kv kw kx ky kz la jw lb lc ld ka le lf lg ke lh li lj lk bi translated">运行预测脚本. py</h2><p id="ab39" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">正如我前面提到的，我们希望对其他超声图像进行预测，这些图像在训练期间没有传递给模型。为此，需要满足一些要求:</p><ul class=""><li id="d303" class="ll lm hh jp b jq jr jt ju jw mw ka mx ke my ki ls lt lu lv bi translated">解压缩导出的工件。</li><li id="a3c2" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">从数据仓库的<a class="ae jm" href="https://github.com/datature/resources/tree/main/scripts/inference/tensorflow/bounding_box" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>下载<code class="du nq nr ns ne b">requirements.txt</code>和<code class="du nq nr ns ne b"><a class="ae jm" href="https://github.com/datature/resources/blob/main/scripts/inference/tensorflow/bounding_box/model_architecture/retinanet/predict.py" rel="noopener ugc nofollow" target="_blank">predict.py</a></code>文件。</li><li id="57ee" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">使用3.6–3.8之间的Python版本设置Python环境。</li></ul><p id="6421" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们还应该有一个项目结构，就像这样:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nu"><img src="../Images/ba996b23712fe1c3eb014a425d4a2ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XGC0pVn9BoFW9_qfs6dBAg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Screenshot on <a class="ae jm" href="https://github.com/datature/resources#tflite-model---bounding-box" rel="noopener ugc nofollow" target="_blank">Github Repository</a>.</figcaption></figure><p id="7e70" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">放心吧！<code class="du nq nr ns ne b">tf_xxx.ipynb</code>和<code class="du nq nr ns ne b">predict_hub.py</code>是兼性的，我们只需要<code class="du nq nr ns ne b">predict.py</code>。</p><p id="4cf0" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">除了引用的文件夹和文件列表，我们还需要创建一个包含测试图像的输入文件夹，以及一个存储最终预测的输出文件夹。</p><p id="4e00" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这是我们项目的最终结构:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nv"><img src="../Images/615903609a8f9e034af5d1fe9b7a7bf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ZDmsKdKzsoESPmxkq0X_A.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Project Structure. Illustration by Author.</figcaption></figure><p id="135a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们只需要在终端上用下面的命令行运行<code class="du nq nr ns ne b">predict.py</code>脚本:</p><pre class="ix iy iz ja fd nd ne nf bn ng nh bi"><span id="7925" class="ni kr hh ne b be nj nk l nl nm">cd model_architecture<br/>python predict.py --input "../input" --output "../output" --width 640 --height 640 --threshold 0.7 --model "../saved_model" --label "../label_map.pbtxt"</span></pre><p id="4b76" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">输出:</p><pre class="ix iy iz ja fd nd ne nf bn ng nh bi"><span id="dffe" class="ni kr hh ne b be nj nk l nl nm">Model loaded, took 6.812467813491821 seconds...<br/>Predicting for ../input/malignant (90).png...<br/>Predicting for ../input/benign (53).png...<br/>Saving predicted images to ../output/benign (53).png...<br/>Predicting for ../input/benign (51).png...<br/>Saving predicted images to ../output/benign (51).png...<br/>Predicting for ../input/malignant (71).png...<br/>Predicting for ../input/benign (52).png...<br/>Predicting for ../input/malignant (111).png...<br/>Saving predicted images to ../output/malignant (111).png...</span></pre><p id="a516" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如前所述，<code class="du nq nr ns ne b">output</code>文件夹包含输入文件夹中包含的每个图像的模型预测。该示例显示了具有良性结节的图像，其被模型正确地识别为良性:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es nw"><img src="../Images/f632e1f509c5ee254e4791d11efe3060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*TKYa9V8bj9Uh6kVX4iGF-Q.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">Example of Benign prediction. Illustration by Author.</figcaption></figure><p id="c6c8" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们还可以看到显示恶性结节的图像，该结节被正确地预测为恶性。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es nx"><img src="../Images/a4561c362b066a88e9ec2cc710d214ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1042/format:webp/1*ivo69x4Qgg40GgPl5MzoqA.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">Example of Malignant Prediction. Illustration by Author.</figcaption></figure><p id="6f37" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">太好了！我们能够对新图像进行预测。下一步将对web应用程序做同样的事情。</p><h1 id="76ae" class="mb kr hh bd ks mc mr me kw mf ms mh la in mt io ld iq mu ir lg it mv iu lj ml bi translated"><strong class="ak">第2部分:使用Streamlit构建Web应用程序</strong></h1><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ny"><img src="../Images/1446dc8f354487b5e95ddf872761379c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*jqOwRTw12dvAXK57z5xLPw.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Web Application. GIF by Author.</figcaption></figure><p id="edfb" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们最终可以构建我们的web应用程序来从超声图像中检测乳腺癌。Streamlit是我们将使用几行代码创建web应用程序的Python库。我们还将包括在<code class="du nq nr ns ne b">predict.py</code>脚本中使用的函数。该应用程序的所有代码都包含在<code class="du nq nr ns ne b">app.py</code>脚本中。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="nb nc l"/></div></figure><p id="df33" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">这几行代码很好地总结了构建应用程序的步骤:</p><ul class=""><li id="c9ba" class="ll lm hh jp b jq jr jt ju jw mw ka mx ke my ki ls lt lu lv bi translated">使用<code class="du nq nr ns ne b">argparse</code>库来定义默认参数，比如模型的路径和标签图的路径。</li><li id="1346" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">加载训练好的模型。</li><li id="5447" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">创建应用程序的标题。</li><li id="02b9" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">上传图像，可以是<code class="du nq nr ns ne b">jpg</code>或<code class="du nq nr ns ne b">png</code>格式。</li><li id="3487" class="ll lm hh jp b jq lw jt lx jw ly ka lz ke ma ki ls lt lu lv bi translated">创建一个按钮“检测乳腺癌”。按下后，我们在web应用程序的右半部分可视化预测。</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="nb nc l"/></div></figure><p id="6812" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如果上传了文件并选择了按钮，如果有预测框，我们将在测试图像上可视化预测框，否则，有没有注释的图像。</p><h1 id="04a9" class="mb kr hh bd ks mc mr me kw mf ms mh la in mt io ld iq mu ir lg it mv iu lj ml bi translated">最终想法:</h1><p id="42c6" class="pw-post-body-paragraph jn jo hh jp b jq ln ii js jt lo il jv jw mm jy jz ka mn kc kd ke mo kg kh ki ha bi translated">恭喜你！您已经成功地创建了一个web应用程序，它利用计算机视觉的能力从超声波图像中检测乳腺癌。如果你有任何进一步的兴趣，可以从计算机视觉模型中受益，<a class="ae jm" href="http://datature" rel="noopener ugc nofollow" target="_blank"> Datature </a>可以成为一个非常广泛且易于使用的工具来帮助你实现目标。</p><p id="ffae" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">感谢您的阅读，我希望您会受到这个项目的启发，亲自尝试计算机视觉！</p><p id="efd7" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">查看我的<a class="ae jm" href="https://github.com/eugeniaring/breast_cancer_web_app" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>中的代码。</p><p id="ee9a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><em class="nz">免责声明:该数据集受公共领域(CC0)许可</em></p></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><p id="b36b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">你喜欢我的文章吗？<a class="ae jm" href="https://eugenia-anello.medium.com/membership" rel="noopener"> <em class="nz">成为会员</em> </a> <em class="nz">每天无限获取数据科学新帖！这是一种间接的支持我的方式，不会给你带来任何额外的费用。如果您已经是会员，</em> <a class="ae jm" href="https://eugenia-anello.medium.com/subscribe" rel="noopener"> <em class="nz">订阅</em> </a> <em class="nz">每当我发布新的数据科学和python指南时，您都会收到电子邮件！</em></p><div class="oa ob ez fb oc od"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="oe ab dw"><div class="of ab og cl cj oh"><h2 class="bd hi fi z dy oi ea eb oj ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ok l"><h3 class="bd b fi z dy oi ea eb oj ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ol l"><p class="bd b fp z dy oi ea eb oj ed ef dx translated">medium.com</p></div></div><div class="om l"><div class="on l oo op oq om or jg od"/></div></div></a></div></div></div>    
</body>
</html>