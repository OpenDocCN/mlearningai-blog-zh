<html>
<head>
<title>Getting started with Raincloud plots in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的雨云图入门</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/getting-started-with-raincloud-plots-in-python-2ea5c2d01c11?source=collection_archive---------3-----------------------#2022-12-05">https://medium.com/mlearning-ai/getting-started-with-raincloud-plots-in-python-2ea5c2d01c11?source=collection_archive---------3-----------------------#2022-12-05</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="3e42" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">一种强大的数据可视化方法，由小提琴图、散点图和箱线图组成。</p><p id="52be" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi jc translated">上述每种可视化方法都有各自的<strong class="ig hi">优势</strong>和<strong class="ig hi">劣势</strong>。但是，如果我们可以将它们结合在一起，得到一种更强大的数据可视化技术，即<em class="jl">雨云图</em>，会怎么样呢？</p><h2 id="5404" class="jm jn hh bd jo jp jq jr js jt ju jv jw ip jx jy jz it ka kb kc ix kd ke kf kg bi translated">什么是雨云图？</h2><p id="2653" class="pw-post-body-paragraph ie if hh ig b ih kh ij ik il ki in io ip kj ir is it kk iv iw ix kl iz ja jb ha bi translated">雨云图是一种更加<strong class="ig hi"><em class="jl"/></strong>形式的<em class="jl">数据可视化</em>。正如我前面提到的，它们是多种方法的<em class="jl">混合</em>,共同提供了我们需要了解的关于数据集中观察结果的大部分<strong class="ig hi">统计数据和模式</strong>的概述。</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es km"><img src="../Images/f2614b41522439a6f082c5307626eed1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*an2cBo2fYiU9aaoli_zD6Q.png"/></div></div><figcaption class="ky kz et er es la lb bd b be z dx">Figure 1. Allen M, Poggiali D, Whitaker K <em class="lc">et al.</em> Raincloud plots: a multi-platform tool for robust data visualization (<a class="ae ld" href="https://doi.org/10.12688/wellcomeopenres.15191.2" rel="noopener ugc nofollow" target="_blank">https://doi.org/10.12688/wellcomeopenres.15191.2</a>). Image from the paper.</figcaption></figure><p id="e9cc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将学习如何使用<em class="jl"> numpy </em>和<em class="jl"> matplotlib </em>库在Python中使用和实现这种类型的绘图。</p><h2 id="8c80" class="jm jn hh bd jo jp jq jr js jt ju jv jw ip jx jy jz it ka kb kc ix kd ke kf kg bi translated">加载数据集</h2><p id="21fa" class="pw-post-body-paragraph ie if hh ig b ih kh ij ik il ki in io ip kj ir is it kk iv iw ix kl iz ja jb ha bi translated">为了简单起见，在这个例子中，我们将在给定的数值范围内生成两个随机分布。</p><p id="4728" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们导入所需的库</p><pre class="kn ko kp kq fd le lf lg bn lh li bi"><span id="5c52" class="lj jn hh lf b be lk ll l lm ln"># Imports<br/>import numpy as np<br/>import matplotlib.pyplot as plt</span></pre><p id="c2b6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">接下来，下面的代码片段将为我们生成两个数字分布，我们稍后将使用它们来可视化雨云图中的数据</p><pre class="kn ko kp kq fd le lf lg bn lh li bi"><span id="e979" class="lj jn hh lf b be lk ll l lm ln"># Generate random distribution of integers between 0-10 as the first feature<br/>x1 = np.random.choice([0,1,2,3,4,5,6,7,8,9,10], p=[0.01, 0.01, 0.15, 0.19, 0.05, 0.11, 0.2, 0.16, 0.10, 0.01, 0.01], size=(500))<br/><br/># Apply random noise on each sample so they don't overlap on the x-axis in scatter plot<br/>idxs = np.arange(len(x1))<br/>out = x1.astype(float)<br/>out.flat[idxs] += np.random.uniform(low=-1, high=1, size=len(idxs))<br/>x1 = out<br/><br/># Generate random distribution of integers between 6-17 as the second feature<br/>x2 = np.random.choice([6,7,8,9,10,11,12,13,14,15,16,17], p=[0.01, 0.01, 0.15, 0.23, 0.14, 0.06, 0.05, 0.10, 0.12, 0.11, 0.01, 0.01], size=(500))<br/><br/># Apply random noise on each sample so they don't overlap on the y-axis in scatter plot<br/>idxs = np.arange(len(x2))<br/>out = x2.astype(float)<br/>out.flat[idxs] += np.random.uniform(low=-1, high=1, size=len(idxs))<br/>x2 = out<br/><br/># Combine features in a list<br/>data_x = [x1, x2]</span></pre><p id="c694" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">太好了。现在我们有了一些可视化的东西，让我们来看看如何建立一个雨云图</p><h2 id="e9c1" class="jm jn hh bd jo jp jq jr js jt ju jv jw ip jx jy jz it ka kb kc ix kd ke kf kg bi translated">数据可视化</h2><pre class="kn ko kp kq fd le lf lg bn lh li bi"><span id="d521" class="lj jn hh lf b be lk ll l lm ln">fig, ax = plt.subplots(figsize=(8, 4))<br/><br/># Create a list of colors for the boxplots based on the number of features you have<br/>boxplots_colors = ['yellowgreen', 'olivedrab']<br/><br/># Boxplot data<br/>bp = ax.boxplot(data_x, patch_artist = True, vert = False)<br/><br/># Change to the desired color and add transparency<br/>for patch, color in zip(bp['boxes'], boxplots_colors):<br/>    patch.set_facecolor(color)<br/>    patch.set_alpha(0.4)<br/><br/># Create a list of colors for the violin plots based on the number of features you have<br/>violin_colors = ['thistle', 'orchid']<br/><br/># Violinplot data<br/>vp = ax.violinplot(data_x, points=500, <br/>               showmeans=False, showextrema=False, showmedians=False, vert=False)<br/><br/>for idx, b in enumerate(vp['bodies']):<br/>    # Get the center of the plot<br/>    m = np.mean(b.get_paths()[0].vertices[:, 0])<br/>    # Modify it so we only see the upper half of the violin plot<br/>    b.get_paths()[0].vertices[:, 1] = np.clip(b.get_paths()[0].vertices[:, 1], idx+1, idx+2)<br/>    # Change to the desired color<br/>    b.set_color(violin_colors[idx])<br/><br/># Create a list of colors for the scatter plots based on the number of features you have<br/>scatter_colors = ['tomato', 'darksalmon']<br/><br/># Scatterplot data<br/>for idx, features in enumerate(data_x):<br/>    # Add jitter effect so the features do not overlap on the y-axis<br/>    y = np.full(len(features), idx + .8)<br/>    idxs = np.arange(len(y))<br/>    out = y.astype(float)<br/>    out.flat[idxs] += np.random.uniform(low=-.05, high=.05, size=len(idxs))<br/>    y = out<br/>    plt.scatter(features, y, s=.3, c=scatter_colors[idx])<br/><br/>plt.yticks(np.arange(1,3,1), ['Feature 1', 'Feature 2'])  # Set text labels.<br/>plt.xlabel('Values')<br/>plt.title("Raincloud plot")<br/>plt.show()</span></pre><p id="0f21" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上述代码片段的结果将是如下图:</p><figure class="kn ko kp kq fd kr er es paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="er es lo"><img src="../Images/ce5c684e0f08a778a6e088c2f12f5d64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_-7tXycFIfP0_yGBnQ8WIw.png"/></div></div><figcaption class="ky kz et er es la lb bd b be z dx">Figure 2. Representation of the Raincloud plot. Image by the autor</figcaption></figure><p id="5136" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如你所见，这为我们提供了<em class="jl">在<strong class="ig hi">初始</strong>数据探索<strong class="ig hi">阶段</strong>我们需要了解的关于数据集的几乎一切</em>。我们对总体分布、个体趋势、中位数、四分位数和异常值有一些了解。</p><p id="681f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">此外，即使没有统计学/数据科学背景的人也可以更容易地阅读它，因为它非常直观。</p></div><div class="ab cl lp lq go lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ha hb hc hd he"><h2 id="0508" class="jm jn hh bd jo jp jq jr js jt ju jv jw ip jx jy jz it ka kb kc ix kd ke kf kg bi translated">关于我</h2><p id="08f5" class="pw-post-body-paragraph ie if hh ig b ih kh ij ik il ki in io ip kj ir is it kk iv iw ix kl iz ja jb ha bi translated">大家好，我叫Alex，是一名对机器学习和数据科学充满热情的年轻学生。</p><p id="4a51" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你喜欢的内容，请考虑下降一个关注和掌声，因为他们真的很感谢。也可以随时在LinkedIn 上与我联系，以便获得一些关于机器学习相关主题的每周见解。</p></div><div class="ab cl lp lq go lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="ha hb hc hd he"><h2 id="c202" class="jm jn hh bd jo jp jq jr js jt ju jv jw ip jx jy jz it ka kb kc ix kd ke kf kg bi translated">参考</h2><p id="f26e" class="pw-post-body-paragraph ie if hh ig b ih kh ij ik il ki in io ip kj ir is it kk iv iw ix kl iz ja jb ha bi translated">[1] Allen M，Poggiali D，Whitaker K <em class="jl">等</em> <a class="ae ld" href="https://wellcomeopenresearch.org/articles/4-63/v2" rel="noopener ugc nofollow" target="_blank"> Raincloud plots:一种用于鲁棒数据可视化的多平台工具</a>(2019)【https://wellcomeopenresearch.org/articles/4-63/v2 T4】</p><div class="lw lx ez fb ly lz"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ma ab dw"><div class="mb ab mc cl cj md"><h2 class="bd hi fi z dy me ea eb mf ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mg l"><h3 class="bd b fi z dy me ea eb mf ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mh l"><p class="bd b fp z dy me ea eb mf ed ef dx translated">medium.com</p></div></div><div class="mi l"><div class="mj l mk ml mm mi mn kw lz"/></div></div></a></div></div></div>    
</body>
</html>