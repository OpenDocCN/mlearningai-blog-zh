<html>
<head>
<title>What are market basket analysis and the apriori algorithm?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是购物篮分析和apriori算法？</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/what-are-market-basket-analysis-and-the-apriori-algorithm-fe0e8e6e34d?source=collection_archive---------0-----------------------#2022-09-18">https://medium.com/mlearning-ai/what-are-market-basket-analysis-and-the-apriori-algorithm-fe0e8e6e34d?source=collection_archive---------0-----------------------#2022-09-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/fcadffa45c86dab997f1e60f62c65d41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ggp9IlswU29jHID1Ap1m2w.png"/></div></div></figure><p id="54d0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">想象你是一个店主。这些是你可能想要回答的问题:</p><ul class=""><li id="1ced" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">“店内摆放货架时，什么东西要放在什么东西的旁边？”</li><li id="f04d" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">"对于在线购物应用程序，将向我们的客户推荐什么产品？"</li><li id="4080" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">"哪些产品应该在促销中一起推荐？"</li></ul><p id="e1b3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">应该执行市场购物篮分析的关联规则，以从大量交易数据中提取洞察力来回答这些问题。关联规则可以使用机器学习(或统计)来识别项目与购物篮中的项目之间的关系。</p><p id="2096" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在本文中，我将介绍关联规则和apriori算法中的简单度量，这将减少关联规则的计算工作量。在编码之前理解这个概念是很重要的，因为编码很简单，但是翻译结果却很难。</p><h1 id="23d8" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">例子</h1><p id="3d93" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">我们店里有5种商品，包括面包、黄油、果酱、牛奶和鸡蛋。数据库中有5个交易(篮子)。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es le"><img src="../Images/98c4b2fe0cd1f89ff7de664058e0a075.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w3l-Q7H1i3FvX_pwRwxVZw.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">Transaction example</figcaption></figure><p id="259c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">电脑会转换成这样的矩阵。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/7ebcf46ffe9915f1d2186c7b524d2460.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*smHWhe_IJWovRC_yCNAO1A.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">Transaction as a matrix</figcaption></figure><p id="f32c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从事务数据集中，我们将计算可以指导我们业务行动的指标。本文涵盖了5个著名的指标:支持、信心、提升、杠杆和信念。</p><h1 id="48a3" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">韵律学</h1><h2 id="d336" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">1.支持</h2><blockquote class="mc md me"><p id="363f" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">有多少事务包含此项目集？</p></blockquote><p id="ec2c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Support提供了一个项目集在所有事务中出现频率的概念。</p><p id="6a4c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">支持值有助于我们确定值得考虑的规则，以便进一步分析。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es mj"><img src="../Images/eba3b59168cf92a715ec0aba12e30b30.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*ft3eXkuS6I9pX6uebZMHww.png"/></div></figure><p id="25a4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">freq(X)是X在所有事务中出现的次数。</p><p id="9e06" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">n是事务总数。</p><p id="ae44" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Ex </strong>。面包的支撑= 4/5 = 0.8</p><p id="c2ac" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些表显示了对大小为1-2的所有项目集的支持。你可以试着一起计算。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/b8a6c83816c07d6aff193582d4434efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hr3m9DjizfHKJ_XE4cPpWQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">support of all itemset with size 1–2</figcaption></figure><blockquote class="mc md me"><p id="d9aa" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">H <!-- -->高支持意味着大多数顾客会购买这款商品，所以这款商品对我们店很重要。</p></blockquote><p id="978d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以过滤掉支持度低的项目集，因为出现次数太低，无法找到任何洞察(规则)。</p><h2 id="23cb" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">2.信心</h2><blockquote class="mc md me"><p id="6aa5" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">仅考虑包含物料a的事务处理。有多少事务处理包含物料B？</p></blockquote><p id="a131" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">置信度是一种条件概率(贝叶斯统计)。它定义了在给定某些项目(前提条件)已经存在于同一事务中的情况下，下列项目在该事务中出现的概率。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es ml"><img src="../Images/3dde4c5c74736aa7b366e084dbe8f11e.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*FbQIxCG1c8Jw5pgtEjDh6w.png"/></div></figure><p id="27d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">例如。</strong> <br/>信心(面包→牛奶)= 2/4 = 0.5 <br/>信心(牛奶→果酱)= 1/3 = 0.33</p><p id="dbf8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下表显示了一些规则的可信度。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es mm"><img src="../Images/b7d33fc46b4e2de959be54f657d4f925.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*RXUFDdEP8E15atmL3Og23Q.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx">confidence of some rules</figcaption></figure><blockquote class="mc md me"><p id="841c" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">高置信度意味着包含A的篮子也可能包含B。</p></blockquote><p id="d348" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，仅仅考虑信心的价值不足以做出任何商业决策。如果B(跟随项集)是一个非常频繁的项集，那么与B相关的置信度总是很高。提升是另一个与信心一起考虑的指标。</p><h2 id="f491" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">3.电梯</h2><blockquote class="mc md me"><p id="a8b9" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">交易中有没有A项，对B项有多大影响？</p></blockquote><p id="9a40" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Lift是给定A存在的情况下B发生的概率<strong class="ir hi">与不知道A存在的情况下B发生的概率<strong class="ir hi">之比</strong></strong></p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/8ce1b9c06948a1e9ea5299acb5c6e81d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*afhqaai-Z63T2hy6_17ayA.png"/></div></div></figure><p id="2508" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Ex。</strong> <br/>升(面包→牛奶)= 0.5/0.4 = 1.25 <br/>升(牛奶→果酱)= 0.33/0.2 = 1.65</p><p id="83d9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下表显示了一些规则的提升。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es mo"><img src="../Images/0d3d87796b326ae8a7e6c20a3ead6b65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*jxkn7lpapVnJ4gNiUUWPjg.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx">lift of some rules</figcaption></figure><blockquote class="mc md me"><p id="cfbf" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">如果Lift高于1，则A在该事务中的出现导致B在同一事务中出现的概率更高。</p></blockquote><p id="7590" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有两个matrics可能不如前一个著名，但他们可以提供其他观点，所以知道他们是很好的。</p><h2 id="b3fc" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">4.杠杆作用</h2><blockquote class="mc md me"><p id="80a9" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">交易中有没有A项，对B项有多大影响？</p></blockquote><p id="b097" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">杠杆计算A和B一起出现的概率，以及如果A和B是独立的，预期的频率。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mp"><img src="../Images/8c53133799353a3a666ff27e06d3a6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vGLrFYRIi38tvDnR1pnYpg.png"/></div></div></figure><p id="230f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Ex。</strong> <br/>杠杆(面包→牛奶)= 0.4-(0.8*0.6) = 0.08 <br/>杠杆(牛奶→果酱)= 0.2-(0.6*0.2) = 0.08</p><p id="9ef3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">杠杆作用类似于升力，但更容易解释，因为它的范围是从-1到1，而升力的范围是从0到无穷大。</p><p id="89a1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">杠杆值为0表示独立。</p><h2 id="1e39" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">5.定罪</h2><blockquote class="mc md me"><p id="b2f8" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">C <!-- -->推理有助于判断该规则是否是偶然出现的。</p></blockquote><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es mq"><img src="../Images/b5da980d98738b6b58699a68456cea6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*ZLS7InKnsdesS4Zo-OEaeg.png"/></div></figure><p id="8a77" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">例如。</strong> <br/>信念(面包→牛奶)=(1-0.4)/(1–0.5)= 1.2<br/>信念(牛奶→果酱)=(1-0.2)(1–0.33)= 1.19</p><p id="6da9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">高确信值意味着后件高度依赖于前件(A)。可以解释为升力。</p><p id="d79f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果项目是独立的，信念是1。</p></div><div class="ab cl mr ms go mt" role="separator"><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw mx"/><span class="mu bw bk mv mw"/></div><div class="ha hb hc hd he"><h1 id="9dc4" class="kb kc hh bd kd ke my kg kh ki mz kk kl km na ko kp kq nb ks kt ku nc kw kx ky bi translated">Apriori算法</h1><p id="3124" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">由于项目集数量的增加会导致关联规则的指数增长，因此计算所有规则是没有效率的。如果我们有10项，则规则数为57000！！！那么，100件以上的超市呢？计算所有规则在计算上可能是昂贵的。</p><p id="e61b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">Apriori算法旨在以最少的计算量发现重要的关联规则。</p><h2 id="6a5f" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">关联规则挖掘有两个步骤</h2><ol class=""><li id="8efc" class="jn jo hh ir b is kz iw la ja nd je ne ji nf jm ng jt ju jv bi translated">项目集生成</li><li id="5873" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm ng jt ju jv bi translated">规则生成</li></ol><p id="a5d4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们将看到Apriori算法如何在这两个步骤中帮助我们</p><h2 id="f36c" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">1.项目集生成</h2><blockquote class="mc md me"><p id="5d2c" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">我们只需要频繁项集。</p></blockquote><p id="2d83" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">频繁项集的支持度高于最小支持度。简单来说，它们是在所有事务中频繁出现的项目集。</p><p id="a39c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最简单的方法是计算所有可能项目集的支持度。但是，项目集的数量随着项目的数量呈指数增长。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es nh"><img src="../Images/03162e1f657af49b942703a438328618.png" data-original-src="https://miro.medium.com/v2/resize:fit:862/format:webp/1*Uux2Nxer5O2ecL7ZaR5_MQ.png"/></div></figure><p id="0a6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">N =项目数量</p><p id="a5e2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">例如，如果我们有4个项目，项目集的数量是2⁴ -1 = 15。如果我们有10个项目，项目集的数量是2 ⁰ -1 = 1023。</p><p id="87b7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，计算所有项目集的支持度在计算上非常昂贵和耗时。</p><p id="a2db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过遵循Apriori原则，我们可以从支持度计算中删除许多项集。</p><blockquote class="ni"><p id="7494" class="nj nk hh bd nl nm nn no np nq nr jm dx translated">"项目集的超集对该项目集的支持度较低或相等"</p></blockquote><p id="1329" class="pw-post-body-paragraph ip iq hh ir b is ns iu iv iw nt iy iz ja nu jc jd je nv jg jh ji nw jk jl jm ha bi translated">它很直观，因为很难找到包含许多必需项目的交易。</p><p id="be14" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">例如。</strong></p><p id="1e1b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这家商店有4种商品，包括面包、黄油、果酱和牛奶。</p><p id="2573" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以创建15个项目集，如下所示。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nx"><img src="../Images/8d39f37e9060441b106b63923c35f7f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsJZ_pSEGJXKfY945k9PBQ.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">All itemsets</figcaption></figure><ul class=""><li id="5bd9" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">假设我们设置可接受的最小支持= 0.3。</li><li id="0108" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">如果面包的支持度小于0.3，那么面包的所有超集的支持度也将小于0.3。</li><li id="8abc" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">然后，我们可以从支持度计算中排除所有的面包超集。我们称之为“基于支持的修剪”</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ny"><img src="../Images/28f86f9c0421120ce58c4d7241696009.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*01TNW7dDfSHyeaGraiK0QA.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">All itemset with the Apriori algorithm</figcaption></figure><p id="c101" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">计算量可以大大减少一半。</p><p id="4d10" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在下面创建一个流程图，使它更系统化。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es nz"><img src="../Images/40c125365c9e767552c2c1ffc57f164a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1054/format:webp/1*AtfE-pMxjNjsVsMj2O4mjg.png"/></div><figcaption class="lj lk et er es ll lm bd b be z dx">Apriori Itemset Generation Flowchart</figcaption></figure><p id="1e47" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">F0是商店中所有商品的列表。</p><p id="e226" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有了频繁项集之后，我们现在可以创建一个关联规则。</p><h2 id="2038" class="lo kc hh bd kd lp lq lr kh ls lt lu kl ja lv lw kp je lx ly kt ji lz ma kx mb bi translated">2.规则生成</h2><blockquote class="mc md me"><p id="6b9d" class="ip iq mf ir b is it iu iv iw ix iy iz mg jb jc jd mh jf jg jh mi jj jk jl jm ha bi translated">我们只需要高可信度的规则。</p></blockquote><p id="d0e6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">识别重要规则的一种方法是只过滤具有高置信度的规则，因为这意味着项目A和B之间的相关性很高。</p><p id="1e9c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">然而，计算所有规则的置信度也是没有效率的(规则的数量甚至高于项目集的数量)。</p><p id="b3b0" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过遵循先验原则，我们可以从置信度计算中删除许多规则。</p><blockquote class="ni"><p id="df16" class="nj nk hh bd nl nm nn no np nq nr jm dx translated">“当结果项的数量较高时，来自同一项集的规则的可信度会较低”</p></blockquote><p id="e121" class="pw-post-body-paragraph ip iq hh ir b is ns iu iv iw nt iy iz ja nu jc jd je nv jg jh ji nw jk jl jm ha bi translated">例如，如果我们在项集中有4项:A，B，C，D .<br/>(A，B，C→ D) ≥ (A，B → C，D) ≥ (A → B，C，D)的置信度。</p><p id="5c33" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了证明这一点，我要回忆一下信心的公式。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div class="er es oa"><img src="../Images/263fad3a65e3e519470a840e9a6d5560.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*HJngVNTnNCDmxg75e_e9ng.png"/></div></figure><p id="a0c8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这两个规则之间的区别只是分母。<br/>正如我们在步骤1中谈到的支持，更多的项目将导致更低的支持(更低的频率)，因此第一个规则具有更低的分母和更高的置信度。</p><p id="3142" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以像在步骤1中一样执行“基于置信度的修剪”。我们将从只有一个结果的规则开始。</p><p id="7242" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一开始可能会很困惑。我的建议是只关注结果(箭头后面的项目),就像我们过去对待支持一样。</p><p id="4a49" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Ex。</strong></p><p id="d6c1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这家商店有4种商品，包括面包、黄油、果酱和牛奶。</p><p id="6d89" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以创建14条规则，如下图所示。</p><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ob"><img src="../Images/c0d1115711a2627dba41e9adae291549.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hxL71cmpgRRhCuwpUIYSw.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">All rules</figcaption></figure><ul class=""><li id="9ba0" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">假设我们设定可接受的最小置信度= 0.3。</li><li id="b40d" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">如果{黄油，果酱，牛奶}→{面包}的置信度小于0.3，那么所有结果是面包超集的规则也将具有小于0.3的置信度。</li><li id="57b1" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">然后，我们可以从置信度计算中排除所有结果是面包超集的规则。</li></ul><figure class="lf lg lh li fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es oc"><img src="../Images/ab86ac5f96da09e0774ce2e70f37c291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ijsDPRvla7fL7-6YOVex8A.png"/></div></div><figcaption class="lj lk et er es ll lm bd b be z dx">All rules with the Apriori algorithm</figcaption></figure><p id="4859" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们完成1个项目集之后，我们转移到其他频繁项目集。</p><p id="2108" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">最后，我们将从剩余的规则中计算提升，并利用这些数据做出业务决策！</p><h1 id="0b8c" class="kb kc hh bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">结论</h1><p id="d156" class="pw-post-body-paragraph ip iq hh ir b is kz iu iv iw la iy iz ja lb jc jd je lc jg jh ji ld jk jl jm ha bi translated">在本文中，我将介绍市场篮子分析中的指标，包括支持、信心、提升、杠杆和信念。然后，介绍了apriori算法，该算法通过删除一些不符合标准的规则来减少关联规则的计算量。</p><p id="e8bf" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">希望你理解先验的概念。乍一看这似乎很难，但用Python或R编程实现时会非常简单。</p><p id="cf31" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">如果你喜欢这篇文章，请关注我了解更多数据科学内容。</p><div class="od oe ez fb of og"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="oh ab dw"><div class="oi ab oj cl cj ok"><h2 class="bd hi fi z dy ol ea eb om ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="on l"><h3 class="bd b fi z dy ol ea eb om ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="oo l"><p class="bd b fp z dy ol ea eb om ed ef dx translated">medium.com</p></div></div><div class="op l"><div class="oq l or os ot op ou in og"/></div></div></a></div></div></div>    
</body>
</html>