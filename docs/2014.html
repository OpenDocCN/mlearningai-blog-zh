<html>
<head>
<title>Surface Analysis of Feed Data in Fish</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">鱼类摄食数据的表面分析</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/surface-analysis-of-feed-data-in-fish-5e426464d2f4?source=collection_archive---------6-----------------------#2022-02-22">https://medium.com/mlearning-ai/surface-analysis-of-feed-data-in-fish-5e426464d2f4?source=collection_archive---------6-----------------------#2022-02-22</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="9343" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">在R中使用响应面方法的简短收获</h2></div><p id="4268" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这不是我第一次在response surface methodology上发表的博文，但我非常喜欢它，以至于每当我将它应用到一个项目中时，我就必须写一篇关于它的博文。在我工作的动物饲料行业，响应面非常重要，因为它可以让你找到最优解(如果存在的话)。</p><p id="87b0" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们用r快速浏览一下。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="2f52" class="kc kd hh jy b fi ke kf l kg kh">library(readxl)<br/>library(rsm)<br/>library(skimr)<br/>## Load data <br/>dataset &lt;- read_excel("Surface analysis_dataset.xlsx")<br/>View(dataset)<br/>skim(dataset)</span></pre><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ki"><img src="../Images/0a263d8f7c6d85eb4a9c033ba9f6c065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvqPYxhka-hxyWfTWZoX-A.jpeg"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">The data contains several piece of information on nutrients.</figcaption></figure><p id="c55f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，当构建一个响应面时，你的成功程度真正取决于你的设计。如果实验设计正确，分析就简单明了。如果不是，那么，你就上当了，你真的需要小心寻找没有联系的地方。请记住，这些统计算法是模式猎人，他们是饥饿的。</p><p id="d9e6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，当使用<a class="ae js" href="https://cran.r-project.org/web/packages/rsm/index.html" rel="noopener ugc nofollow" target="_blank"> rsm包</a>构建响应面时，有两种主要的方法来构建模型:</p><ol class=""><li id="9771" class="ku kv hh iy b iz ja jc jd jf kw jj kx jn ky jr kz la lb lc bi translated">FO —一阶多项式</li><li id="3640" class="ku kv hh iy b iz ld jc le jf lf jj lg jn lh jr kz la lb lc bi translated">SO —二阶多项式。这并不适合每个人，如果你想去，你需要像那样设计你的学习。否则，您可能很容易过度拟合您拥有的数据。</li></ol><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="a7bd" class="kc kd hh jy b fi ke kf l kg kh">fcr.rsm &lt;- rsm(FCR ~ FO(STARCH,PROTEIN,FAT), data = dataset)<br/>summary(fcr.rsm)<br/>par(mfrow = c(2, 2))<br/>plot(fcr.rsm)<br/>fcr.rsm &lt;- rsm(FCR ~ SO(STARCH,PROTEIN,FAT), data = dataset)<br/>summary(fcr.rsm)<br/>par(mfrow = c(2, 2))<br/>plot(fcr.rsm)</span></pre><div class="jt ju jv jw fd ab cb"><figure class="li kj lj lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><img src="../Images/5e68386c9fb9bb30921429c7a28b39e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*rUYjnkmynF-0pi4jyeDYYQ.jpeg"/></div></figure><figure class="li kj lo lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><img src="../Images/4363c1ef6cf1ea52bbd4503f63cf4c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/format:webp/1*bfni2YgK9xFrYzr5R9tuwA.png"/></div><figcaption class="kq kr et er es ks kt bd b be z dx lp di lq lr">Looking O.K.</figcaption></figure></div><div class="ab cb"><figure class="li kj ls lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><img src="../Images/4f33b51556dd18add4adb38995ecd8fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:990/format:webp/1*uErNi0yvCnRJmTY41N9AKQ.jpeg"/></div></figure><figure class="li kj lt lk ll lm ln paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><img src="../Images/67433cbde4910f5be490f49769c66321.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*Zj7_JYeF2hBbHSz9gF6smA.png"/></div><figcaption class="kq kr et er es ks kt bd b be z dx lu di lv lr">Residuals vs. Leverage plot could not be made, and some statistics are zero or infinite. Not a stable model.</figcaption></figure></div><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="8571" class="kc kd hh jy b fi ke kf l kg kh">par(mfrow = c(2,3))<br/>fcr.fo.rsm &lt;- rsm(FCR ~ FO(STARCH,PROTEIN,FAT), data = dataset)<br/>fcr.so.rsm &lt;- rsm(FCR ~ SO(STARCH,PROTEIN,FAT), data = dataset)<br/>contour (fcr.fo.rsm, ~ STARCH + PROTEIN + FAT, image=TRUE)<br/>contour (fcr.so.rsm, ~ STARCH + PROTEIN + FAT, image=TRUE)</span></pre><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lw"><img src="../Images/b9f5b89eadb15590824901d672fb5cd1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jcs2PWuF3bIgqNhrdbo35g.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">Plotting the FO (top) and SO (bottom) shows that the SO is trying to hard to make something exotic from the data. I would not stick with the SO.</figcaption></figure><p id="d94d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以做的是更好地探索SO模型的估计量，但我并不认为这部分特别有启发性。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="87c9" class="kc kd hh jy b fi ke kf l kg kh">sa1&lt;-steepest(fcr.so.rsm)<br/>sa1</span></pre><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lx"><img src="../Images/9ea4c157f99a9ea357503dce7267af27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dipi48zpLeSHvHW5r96nVQ.jpeg"/></div></div></figure><p id="e366" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">rsm包在设计、分析和后拟合响应面方面有一些非常酷的工具。这让你可以使用数据，看看哪里出了问题。下面你将找到显示两个模型设计的缩放方差函数的代码。</p><p id="086c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这个特殊的例子中，我不能说这真的提供了很多信息。</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="5d1c" class="kc kd hh jy b fi ke kf l kg kh">par(mfrow=c(2,1))<br/>varfcn(dataset, ~ FO(STARCH,PROTEIN,FAT))<br/>varfcn(dataset, ~ FO(STARCH,PROTEIN,FAT), contour = TRUE)</span></pre><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es lw"><img src="../Images/43705a432c89d8cda2ac848398fe1413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-_CbGomzN1Zjy1gsgXPqRA.png"/></div></div></figure><p id="db61" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，我确实发现了一些与重采样有关的信息(我喜欢重采样)。我在这里要求的是对模型重新取样，以找到一个成功设计的假设中心点。换句话说，我从现有数据中做出实质性成果的机会有多大？</p><pre class="jt ju jv jw fd jx jy jz ka aw kb bi"><span id="e145" class="kc kd hh jy b fi ke kf l kg kh">fcr.rsm &lt;- rsm(FCR ~ SO(STARCH,PROTEIN,FAT), data = dataset)<br/>fits = predict(fcr.rsm)<br/>resids = resid(fcr.rsm)<br/>boot.raw = replicate(1000, xs(update(fcr.rsm, fits + sample(resids, replace=TRUE) ~ .)))<br/>boot = code2val(as.data.frame(t(boot.raw)), codings=codings(fcr.rsm))<br/>par(mfrow = c(1,3))<br/>plot(STARCH ~ PROTEIN, data = boot, col = "gray"); points(20.8271,15.9725, col = "red", pch = 7)<br/>plot(STARCH ~ FAT, data = boot, col = "gray"); points(20.8271,31.2479, col = "red", pch = 7)<br/>plot(FAT ~ PROTEIN, data = boot, col = "gray"); points(31.2479,15.9725 , col = "red", pch = 7)</span></pre><figure class="jt ju jv jw fd kj er es paragraph-image"><div role="button" tabindex="0" class="kk kl di km bf kn"><div class="er es ly"><img src="../Images/532b690a55df6a914fb4fd43e6679171.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gbAcf2_xlWP-tAgrlnm2jA.png"/></div></div><figcaption class="kq kr et er es ks kt bd b be z dx">This plot clearly shows that the center points I have now (in red) do not even come close to where it should be. This IS informative, as it can help you build a new study.</figcaption></figure><p id="43da" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所以，这是一个关于响应面(后)拟合的快速帖子。想了解更多关于设计的信息，看看我的其他博客吧！！</p><div class="lz ma ez fb mb mc"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="md ab dw"><div class="me ab mf cl cj mg"><h2 class="bd hi fi z dy mh ea eb mi ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mj l"><h3 class="bd b fi z dy mh ea eb mi ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mk l"><p class="bd b fp z dy mh ea eb mi ed ef dx translated">medium.com</p></div></div><div class="ml l"><div class="mm l mn mo mp ml mq ko mc"/></div></div></a></div><p id="8175" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">🔵<a class="ae js" rel="noopener" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"> <strong class="iy hi">成为作家</strong> </a></p></div></div>    
</body>
</html>