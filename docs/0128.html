<html>
<head>
<title>Star Trek vs Star Wars: A fun way to learn Web API’s and Natural Language Processing.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">星际迷航vs星球大战:学习Web API和自然语言处理的有趣方式。</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/web-apis-and-nlp-star-trek-vs-star-wars-a0cbaa699a89?source=collection_archive---------2-----------------------#2021-02-14">https://medium.com/mlearning-ai/web-apis-and-nlp-star-trek-vs-star-wars-a0cbaa699a89?source=collection_archive---------2-----------------------#2021-02-14</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/></div><div class="ab cl ie if go ig" role="separator"><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij ik"/><span class="ih bw bk ii ij"/></div><div class="ha hb hc hd he"><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es il"><img src="../Images/aeab5031616ada3f125a2b03d7f4561c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dnsuZlboOEEetQ9iSYGw0w.png"/></div></div><figcaption class="ix iy et er es iz ja bd b be z dx">Image from <a class="ae jb" href="https://www.deviantart.com/ent2pri9se" rel="noopener ugc nofollow" target="_blank">ENT2PRI9SE — Hobbyist, Traditional Artist | DeviantArt</a></figcaption></figure><p id="6ba5" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">你好。</p><p id="8cb9" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我的一个密友最近问我“星际迷航和星球大战有什么不同？”我差点被自己的情绪控制住了。我亲近的人怎么可能这么多年都不理解《星球大战》和《星际迷航》的内容？我突然想到，可能有很多人不知道瓦肯人和冈根人之间的区别。骇人听闻！好吧，好吧，好吧，我不能让我的朋友生活在黑暗中，所以我决定做一件小事。对于所有没有看过《星球大战》或《星际迷航》的读者来说，我无意冒犯，但我强烈建议你尽快沉浸其中。我对你不幸的遭遇感同身受，也许你还没有时间去看12部《星球大战》和13部《星际迷航》电影以及它们各自的电视剧集，或者通过书籍或电子游戏更深入地探索它们的扩展宇宙。在这种情况下，我有你的解决方案。我在这里的分类模型将从这些科幻系列subreddits中获取数据，并使其成为这样，您将知道该语言是关于《星际迷航》还是《星球大战》。</p><p id="8b0f" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated"><em class="ka">怎么才能知道有人在讨论《星球大战》还是《星际迷航》？</em></p><p id="b2e7" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在<a class="ae jb" href="https://github.com/CrazyMonkey333/STvsSW_NLP" rel="noopener ugc nofollow" target="_blank"> github </a>的笔记本上，我演示了如何使用web应用编程接口或web API抓取数据。在我们的例子中，我们使用了reddit的API来提取提交内容。除此之外，我使用分类模型和自然语言处理(NLP)来确定语言来自哪个子编辑。这在许多使用文本和/或口头语言来理解人类的技术应用中是有用的。如果你打算像我一样探索数据科学领域的职业生涯，了解这一点很重要。我希望这一课，在我学习的过程中，对你和对我一样有深刻的见解。该分析将采取以下步骤对我一直最喜欢的两个科幻小说系列的reddit提交内容进行分类。</p><p id="02f6" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">1.使用<a class="ae jb" href="https://github.com/pushshift/api" rel="noopener ugc nofollow" target="_blank"> Pushshift的</a> API，我们将从两个子编辑<a class="ae jb" href="https://www.reddit.com/r/starwars" rel="noopener ugc nofollow" target="_blank">星球大战</a>和<a class="ae jb" href="https://www.reddit.com/r/startrek" rel="noopener ugc nofollow" target="_blank">星际旅行</a>中收集帖子。<br/> 2。然后，我们将使用NLP训练一个分类器来确定一个给定的帖子来自哪个子编辑。这是一个二元分类问题。</p><h2 id="4113" class="kb kc hh bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv bi translated">数据收集</h2><p id="3970" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">利用python上的请求库，我收集了评论和提交。但是，该模型完全是根据提交的内容创建的。提取的评论可用于进一步研究。Pushshift的<a class="ae jb" href="https://github.com/pushshift/api" rel="noopener ugc nofollow" target="_blank">文档</a>中提供了网页抓取的参数。提供的web scraping笔记本中的代码在选择的子编辑中循环20次。从运行代码的时候开始，一次需要100篇文章，然后反向运行。在继续循环完成之前，在循环之间需要一个喘息的时间(不要惊动网站)。这个过程为我们提供了4000个提交的数据条目，平均分布在两个子条目之间。</p><h2 id="2cf8" class="kb kc hh bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv bi translated">数据清理和EDA</h2><p id="9b96" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">不调查一下周围环境就向前冲是不明智的。在数据探索和清理中，我结合了自文本和标题特性，清理了文本字符，用空格填充空值，并删除了任何特殊字符，当我发现异常值时，我会返回并在这里删除它们。我对单词进行了标记化、词条化和词干化，同时考虑了停用词，以深入探索数据，甚至还进行了词频检查，以显示每个子编辑中最常见的单词。然而，在这些相似的子主题中有很多重叠，所以在我们评估模型后，我们将不得不看看哪个词在分类《星际迷航》或《星球大战》时更重要。</p><figure class="im in io ip fd iq er es paragraph-image"><div class="er es lb"><img src="../Images/f4990910deb9ad591fb742872cbaf765.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*zv42iRKzzSvf4560JiOL6Q.png"/></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div class="er es lb"><img src="../Images/8e1c5c0f5ead0f762c04cfa84831b1e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:864/format:webp/1*IoVj5V1bBk2murgw3K6xsQ.png"/></div></figure><p id="1d8e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我检查了单词长度极值中的异常值，并对我的文本数据进行了矢量化。幸运的是，数量并不多，尽管这可能会因收集数据的时间不同而有所不同。这些项目完成后，数据看起来不错，我们可以继续进行模型。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lc"><img src="../Images/79f9d2a7452ab4a15e14be5d63311250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gyPI-Sqojpg0iYlEFmKp-A.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lc"><img src="../Images/a110b8978d2a4db41d945418f03fde20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zUlQM81EhBIFrzIbvFCUUQ.png"/></div></div></figure><h2 id="4958" class="kb kc hh bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv bi translated">特征工程</h2><p id="5376" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">计算字数和情感强度分析器等重要特征，并将其添加到数据框中以包含在模型中。设置一个函数转换器来创建我们关心的模型列。文本数据被设置为“all”列，这是从提交的自文本和标题中清理和组合的。我们的数字数据被区分为我们最近计算的字数和情绪。</p><h2 id="1ec2" class="kb kc hh bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv bi translated">型号选择</h2><p id="4c64" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">我测试了两个模型，一个adaboost和一个逻辑回归分类器模型，并通过交叉验证网格搜索运行它们。adaboost是最不过度/欠拟合的模型，但是逻辑区域的精度更高，因此我选择逻辑回归模型作为这种情况下的更好模型。下面我们可以看到，当帖子来自《星球大战》的帖子时，逻辑回归在预测《星际迷航》时有更少的错误。</p><figure class="im in io ip fd iq er es paragraph-image"><div class="er es ld"><img src="../Images/6009bd0720812588ad229c2d7e5c343c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1334/format:webp/1*ZKF3ka1K_hpI9qdabbiNBA.png"/></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div class="er es le"><img src="../Images/6931b5238f8a28d940eadbe34bb8749b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*GfbEg_lkwKRSad4QWEsA5w.png"/></div></figure><h2 id="a1b6" class="kb kc hh bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv bi translated">评估和结论</h2><p id="b27a" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">总之，对于那些没有看过或听说过《星球大战》或《星际迷航》的人来说，你可以记住这20个词属于哪一类，并对你朋友所谈论的粉丝有一个明确的概念。该模型评估文本数据，以识别人们在两个不同但相似的类别中讨论的内容。</p><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lc"><img src="../Images/b5e41f29763905daee6a548c05cb5599.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ctDDle61xzIkrVhrXm0svQ.png"/></div></div></figure><figure class="im in io ip fd iq er es paragraph-image"><div role="button" tabindex="0" class="ir is di it bf iu"><div class="er es lc"><img src="../Images/619138e880c86ea2278c5717a868f29d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CZPBRT3rqeiEUqNu4E-6-g.png"/></div></div></figure><p id="0d8a" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">如果你和我一样，渴望学习更多关于数据科学的知识，你会发现这非常有趣。事实上，我们可以教计算机从人类语言中解释一个共同的主题，这具有深远的潜力。大多数人没有机会探索这种类型的知识，我很高兴能与你们一起踏上这一旅程。</p><h1 id="7eea" class="lf kc hh bd kd lg lh li kh lj lk ll kl lm ln lo ko lp lq lr kr ls lt lu ku lv bi translated">信用</h1><p id="25b5" class="pw-post-body-paragraph jc jd hh je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz ha bi translated">我必须在大会上向我的同事和导师大声呼喊。查理·赖斯、约翰·哈扎德和霍文斯·加斯佩里安都帮助我掌握和理解了NLP。他们的经验和指导使这成为可能。James Opacich、Kira Helm、Emily Naftan、Heather Johnansen、Jessie Tao和更多人在这个项目中提供了出色的建议，他们在进行数据科学探索的同时，还提供了支持和编码知识。长命百岁，繁荣昌盛，记住原力将永远与你同在。</p></div></div>    
</body>
</html>