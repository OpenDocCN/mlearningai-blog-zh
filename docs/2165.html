<html>
<head>
<title>Stroke prediction: Logistic Regression with JuliağŸš‘</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å’ä¸­é¢„æµ‹:Juliaçš„é€»è¾‘å›å½’åˆ†æğŸš‘</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/mlearning-ai/stroke-prediction-logistic-regression-with-julia-523f90eb5ae?source=collection_archive---------3-----------------------#2022-03-18">https://medium.com/mlearning-ai/stroke-prediction-logistic-regression-with-julia-523f90eb5ae?source=collection_archive---------3-----------------------#2022-03-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/4097bedff0d7eb38f20cf08524951d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pUuse0FTUKBSC6nP7WoaQ.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by DS stories: <a class="ae it" href="https://www.pexels.com/photo/photograph-of-pink-brains-on-a-blue-surface-9228390/" rel="noopener ugc nofollow" target="_blank">https://www.pexels.com/photo/photograph-of-pink-brains-on-a-blue-surface-9228390/</a></figcaption></figure><p id="a35f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æœ¬æ–‡æ—¨åœ¨ç”¨<em class="js">èŒ±è‰äºšè¯­è¨€</em>å±•ç¤ºå¦‚ä½•ä½¿ç”¨<em class="js">é€»è¾‘å›å½’</em>é¢„æµ‹ä¸­é£ã€‚</p><p id="9b55" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘é€‰æ‹©äº†æ¥è‡ªKaggleçš„<a class="ae it" href="https://www.kaggle.com/fedesoriano/stroke-prediction-dataset" rel="noopener ugc nofollow" target="_blank">ä¸­é£é¢„æµ‹æ•°æ®é›†</a>ã€‚</p><p id="1562" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¼šåœ¨è¿™é‡Œçœ‹åˆ°ä»€ä¹ˆï¼Ÿ</p><ul class=""><li id="3c14" class="jt ju hh iw b ix iy jb jc jf jv jj jw jn jx jr jy jz ka kb bi translated">æ•°æ®å¯¼å…¥</li><li id="c169" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">ä¸é€‚ç”¨ï¼Œç”¨å¹³å‡å€¼ä»£æ›¿</li><li id="6a62" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">å­—ç¬¦ä¸²åˆ°æµ®ç‚¹64è½¬æ¢</li><li id="3921" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">åˆ é™¤åˆ—</li><li id="2c0a" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">æ ‡ç­¾ç¼–ç </li><li id="c68f" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">SmoteæŠ€æœ¯å¹³è¡¡æˆ‘ä»¬çš„æ•°æ®</li><li id="c043" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">è®­ç»ƒ/æµ‹è¯•åˆ†å‰²</li><li id="cb25" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">é€»è¾‘å›å½’æ¨¡å‹</li><li id="9ac8" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">æ··æ·†çŸ©é˜µ</li><li id="391f" class="jt ju hh iw b ix kc jb kd jf ke jj kf jn kg jr jy jz ka kb bi translated">â—Bonus:å¦‚ä½•å¤„ç†æœ±ä¸½äºšÂ·â—ï¸çš„ä¸€ä¸ªå…·ä½“é”™è¯¯</li></ul></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="7352" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">é¦–å…ˆï¼Œæˆ‘<strong class="iw hi">å¯¼å…¥å¿…è¦çš„åŒ…:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="dec9" class="kx ky hh kt b fi kz la l lb lc">using Pkg<br/>using DataFrames<br/>using CSV<br/>using StatsBase<br/>using GLM<br/>using Lathe<br/>using MLBase<br/>using ClassImbalance<br/>using ScikitLearn</span></pre><p id="e455" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘æƒ³<strong class="iw hi">å¯ç”¨1000åˆ—</strong>çš„æ‰“å°ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥çœ‹åˆ°æ•°æ®æ¡†çš„æ‰€æœ‰åˆ—:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="11f9" class="kx ky hh kt b fi kz la l lb lc">ENV["COLUMNS"] = 1000</span></pre><p id="45ed" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è®©æˆ‘ä»¬<strong class="iw hi">åŠ è½½æ•°æ®å¹¶æ‰“å°æ•°æ®å¸§çš„å‰5è¡Œ</strong>:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="3a8c" class="kx ky hh kt b fi kz la l lb lc">df=CSV.read("C:\\Users\\olgak\\Documents\\df.csv", DataFrame)#write your own path<br/>first(df,5)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ld"><img src="../Images/35b138e52780d2b494d856b8e17d5111.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HeadkxIStkPWsAFaI-b8tQ.png"/></div></div></figure><p id="2c4e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è¦æŸ¥çœ‹<strong class="iw hi">å˜é‡çš„åç§°:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="e8d5" class="kx ky hh kt b fi kz la l lb lc">names(df)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es le"><img src="../Images/da63f51840ede9fb9ef01771638dd175.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*OVZnDeA6pK39JLc3mkIcJg.png"/></div></div></figure><p id="1944" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å¦‚æˆ‘ä»¬æ‰€è§ï¼Œæˆ‘ä»¬æœ‰12ä¸ªå˜é‡ã€‚</p><p id="9b94" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ£€æŸ¥<strong class="iw hi">å˜é‡çš„ç±»å‹:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="7028" class="kx ky hh kt b fi kz la l lb lc">eltype.(eachcol(df))</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lf"><img src="../Images/c48ced000e4d11690cfc3fce71b6a623.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*Ihqi5hCt5G00H6oerlSbOQ.png"/></div></figure><p id="669a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">bmiæ˜¯å­—ç¬¦ä¸²å˜é‡å—ï¼Ÿä¸ï¼Œå®ƒæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°64ï¼Œå› ä¸ºbmiæ˜¯ä¸€ä¸ªæ•°å­—(è¿ç»­å˜é‡)ã€‚</p><p id="8752" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬æ˜¯å¦æœ‰ä»»ä½•<strong class="iw hi">ç¼ºå¤±å€¼</strong>ï¼Ÿ</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="9792" class="kx ky hh kt b fi kz la l lb lc">[count(ismissing,col) for col in eachcol(df)]</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lg"><img src="../Images/ae9bc796d6c352ac24fefb11a8baf0a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/1*Bfk2ffi8n3Yx-aOoUz1aGg.png"/></div></figure><p id="5b1c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬æ²¡æœ‰åƒâ€œç¼ºå¤±â€æˆ–ç©ºå•å…ƒæ ¼è¿™æ ·çš„ç¼ºå¤±å€¼ï¼Œä½†æˆ‘ä»¬åœ¨bmiå˜é‡çš„æŸäº›å•å…ƒæ ¼ä¸­æœ‰N/Aã€‚N/Aä¹Ÿæ˜¯æˆ‘ä»¬çš„bmiå˜é‡æ˜¯å­—ç¬¦ä¸²çš„åŸå› ã€‚</p><p id="c374" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬çš„ç›®çš„æ˜¯ç§»é™¤N/Aå€¼å¹¶å°†bmiå˜é‡è½¬æ¢ä¸ºFloat64ã€‚(å¦‚æœæˆ‘ä»¬ä¸æŠŠbmiè½¬æ¢æˆFloat64ï¼Œæˆ‘ä»¬å°±æœ‰é—®é¢˜äº†ã€‚)</p><p id="b796" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘é€‰æ‹©ç”¨0ä»£æ›¿N/A(BMIä»ç„¶æ˜¯å­—ç¬¦ä¸²)ã€‚N/Aæ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿé€‰æ‹©å†™0ä½œä¸ºä¸€ä¸ªå­—ç¬¦ã€‚</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="eac9" class="kx ky hh kt b fi kz la l lb lc">bmi=replace(df.bmi, "N/A" =&gt; "0")</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lh"><img src="../Images/8f5b162b3b0d3d62babcad5fa5f598c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*1nBN8z9deqW9NYTZbwXkog.png"/></div></figure><p id="8076" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬åˆ°å¤„éƒ½æœ‰æ•°å­—ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†æ‰€æœ‰è¿™äº›æ•°å­—è½¬æ¢æˆæµ®ç‚¹T21ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="2d4f" class="kx ky hh kt b fi kz la l lb lc">df.bmi=parse.(Float64, bmi)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es li"><img src="../Images/946dcb40d336ed83ff0fbd1b8eb4b63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:522/format:webp/1*DoU9dGl7OhkRPlqZaLwarw.png"/></div></figure><p id="0d2e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬å°†bmiè½¬æ¢ä¸ºFloat64ï¼Œä½†æ˜¯å¯¹äºé›¶å€¼æˆ‘ä»¬éœ€è¦åšä»€ä¹ˆå‘¢ï¼Ÿåˆ é™¤å®ƒä»¬(ç»“æœæˆ‘ä»¬åˆ é™¤äº†æ•°æ®ï¼Œç•™ä¸‹çš„æ•°æ®æ›´å°‘)ï¼Ÿ</p><p id="7cdd" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘æ›´å–œæ¬¢ç”¨bmiçš„å¹³å‡å€¼ä»£æ›¿é›¶å€¼(ç¼ºå¤±æ•°æ®)ã€‚</p><p id="e010" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è¯·æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬æŒ‰åŸæ ·è®¡ç®—bmiçš„å¹³å‡å€¼ï¼Œæˆ‘ä»¬å°†å¾—åˆ°é”™è¯¯çš„ç»“æœï¼Œå› ä¸ºæˆ‘ä»¬çš„bmiå€¼ä¸º0ã€‚bmiä¸º0å¹¶ä¸æ˜¯ä¸€ä¸ªçœŸå®å€¼ã€‚</p><p id="8d75" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ é™¤é›¶å€¼ï¼Œè®¡ç®—å¹³å‡å€¼ï¼Œæœ€åï¼Œç”¨æˆ‘ä»¬æ‰¾åˆ°çš„å¹³å‡å€¼æ›¿æ¢é›¶å€¼ã€‚</p><p id="bc12" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘åˆ›å»ºäº†ä¸€ä¸ªåä¸ºâ€œnmâ€çš„æ–°å˜é‡(æˆ‘ä¸æƒ³ç ´åæˆ‘æ–°çš„æ¼‚äº®çš„bmiå˜é‡ğŸ˜).æ­¤å˜é‡ä¸åŒ…å«é›¶å€¼ã€‚</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="9b7a" class="kx ky hh kt b fi kz la l lb lc">nm=deleteat!(bmi, findall(bmi-&gt;bmi==0.0,df.bmi))</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/928eb3c10580384e856dbde26ffdc79e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*ZkMZ1L3uNlmMcZSGJQ9Qww.png"/></div></figure><p id="1c9f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä¸èƒ½è®¡ç®—å­—ç¬¦ä¸²å˜é‡çš„å¹³å‡å€¼ã€‚</p><p id="f75f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘å†æ¬¡åˆ›å»ºäº†ä¸€ä¸ªæ–°å˜é‡(ä¸Float64ç›¸åŒ):</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="76db" class="kx ky hh kt b fi kz la l lb lc">nmm=parse.(Float64, nm)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lk"><img src="../Images/a11fb4811eefeea3a91d2e1d60f2097e.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*Dha9SwKIy4yNoyiZBSSdVw.png"/></div></div></figure><p id="bf5b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ­¤å¤–ï¼Œæˆ‘åˆ›å»ºäº†åŒ…å«å¹³å‡å€¼çš„å˜é‡:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="c746" class="kx ky hh kt b fi kz la l lb lc">m=mean(nmm)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es ll"><img src="../Images/2ec7e4d594be2ab42e9d73d59c289b6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*XrSL6cBdH8fWOD7C2RGGEA.png"/></div></figure><p id="55c7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">bmiå˜é‡ä¿æŒä¸å˜(Float64ç”¨é›¶å€¼ä»£æ›¿N/A)ã€‚è®©æˆ‘ä»¬ç¡®è®¤ä¸€ä¸‹:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="1ace" class="kx ky hh kt b fi kz la l lb lc">df</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lm"><img src="../Images/15e14252d7e506e905af3ffe3e26250a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*On5blydeFPFjRnycd3N88w.png"/></div></div></figure><p id="4c6f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">ç°åœ¨ï¼Œæˆ‘å°†<strong class="iw hi">ç”¨å¹³å‡å€¼ä»£æ›¿é›¶:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="9628" class="kx ky hh kt b fi kz la l lb lc">df.bmi=replace(df.bmi, 0.0 =&gt; m)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/c22d22c0003005f781683bc3c58ec5d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGSHL7o7o-U550_Q63UOfA.png"/></div></div></figure><p id="b10a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å‡†å¤‡å¥½äº†ã€‚</p><figure class="ko kp kq kr fd ii"><div class="bz dy l di"><div class="lo lp l"/></div></figure><p id="508f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ˜¯æ—¶å€™å¯¹æˆ‘ä»¬çš„åˆ†ç±»å˜é‡åº”ç”¨æ ‡ç­¾ç¼–ç å™¨äº†ã€‚</p><p id="ad4a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘æƒ³å°†<strong class="iw hi">æ ‡ç­¾ç¼–ç å™¨</strong>åº”ç”¨äºä»¥ä¸‹å„åˆ—:</p><p id="e138" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2(æ€§åˆ«)ã€6(æ›¾ç»ç»“è¿‡å©š)ã€7(å·¥ä½œç±»å‹)ã€8(å±…ä½ç±»å‹)ã€11(å¸çƒŸçŠ¶å†µ)</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="0ace" class="kx ky hh kt b fi kz la l lb lc"><a class="ae it" href="http://twitter.com/sk_import" rel="noopener ugc nofollow" target="_blank">@sk_import</a> preprocessing: LabelEncoder</span><span id="2d4c" class="kx ky hh kt b fi lq la l lb lc">labelencoder = LabelEncoder() <br/>categories = [2 6 7 8 11] <br/>for col in categories <br/>     df[col] = fit_transform!(labelencoder, df[col]) <br/>end</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lr"><img src="../Images/b1d435636e50fbf4601a14e0ad0afe64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TqjSGkP1DXiJWu18LiI_5w.png"/></div></div></figure><p id="2e3a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">ä½†æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦id <strong class="iw hi">åˆ—</strong>å—ï¼Ÿä¸ã€‚è®©æˆ‘ä»¬æŠŠ<strong class="iw hi">åˆ æ‰</strong>å§ï¼</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="671e" class="kx ky hh kt b fi kz la l lb lc">deletecols!(df, 1)</span></pre><p id="ecd8" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ­¤å¤–ï¼Œæˆ‘å°†<strong class="iw hi">æ£€æŸ¥ä¸å¹³è¡¡:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="0a88" class="kx ky hh kt b fi kz la l lb lc">countmap(df.stroke)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es ls"><img src="../Images/9223569343956debe901a747b28e6eea.png" data-original-src="https://miro.medium.com/v2/resize:fit:906/format:webp/1*3VzxzfpPpW66Ngl01_CMnw.png"/></div></figure><p id="6f84" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬æœ‰ä¸å¹³è¡¡çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†å®ƒã€‚</p><p id="2662" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬å°†ä½¿ç”¨<strong class="iw hi"> smote </strong>æŠ€æœ¯æ¥å¤„ç†èŒä¸šä¸å¹³è¡¡ã€‚</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="1878" class="kx ky hh kt b fi kz la l lb lc">X2, y2 =smote(df[!,[:gender,:age ,:hypertension, :heart_disease, :ever_married, :work_type, :Residence_type, :avg_glucose_level, :bmi , :smoking_status]], df.stroke, k = 5, pct_under = 150, pct_over = 200)</span><span id="b20c" class="kx ky hh kt b fi lq la l lb lc">df_balanced = X2</span><span id="358a" class="kx ky hh kt b fi lq la l lb lc">df_balanced.stroke = y2</span></pre><p id="6aa1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„å¹³è¡¡æ•°æ®:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="2668" class="kx ky hh kt b fi kz la l lb lc">df = df_balanced</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/c0648de98bc1132cc3439e692a20ced8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5micP5QsTTZdeRG84z9-bw.png"/></div></div></figure><p id="913e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å†æ¬¡è®¡ç®—ç±»åˆ«:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="278d" class="kx ky hh kt b fi kz la l lb lc">countmap(df.stroke)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/96dd41375366e02d6c306a8bfed6d5b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*jmgRrdHqaAPEbk5ffHZrbQ.png"/></div></figure><p id="a92e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬ç°åœ¨æ²¡äº‹äº†ï¼</p><p id="04c4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è®©æˆ‘ä»¬å°†<strong class="iw hi">æ‹†åˆ†ä¸º</strong>è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="3ea4" class="kx ky hh kt b fi kz la l lb lc">using Lathe.preprocess: TrainTestSplit<br/>train, test = TrainTestSplit(df,.70)</span></pre><p id="142f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å¹¶è®­ç»ƒ<strong class="iw hi">é€»è¾‘å›å½’æ¨¡å‹:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="5fa6" class="kx ky hh kt b fi kz la l lb lc">fm = <a class="ae it" href="http://twitter.com/formula" rel="noopener ugc nofollow" target="_blank">@formula</a>(stroke ~ gender+age+hypertension+heart_disease+ever_married+work_type+Residence_type+avg_glucose_level+bmi+smoking_status)</span><span id="24c4" class="kx ky hh kt b fi lq la l lb lc">logit = glm(fm, train, Binomial(), ProbitLink())</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/ef06578fd0a20e61c5090c20fa0ccfc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S41w884aLX3l-tIKVPPTYQ.png"/></div></div></figure><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="8288" class="kx ky hh kt b fi kz la l lb lc">using MLBase: predict #look at the end of the article if you want to avoid headache</span><span id="2e47" class="kx ky hh kt b fi lq la l lb lc">prediction=predict(logit,test)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/37b2b062c23d70b944891aad89ad8941.png" data-original-src="https://miro.medium.com/v2/resize:fit:882/format:webp/1*9JgbMLhAu4ScqDDBqh0EVg.png"/></div></figure><p id="f3e7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æˆ‘ä»¬å°†<strong class="iw hi">å°†æ¦‚ç‡åˆ†æ•°è½¬æ¢ä¸ºç±»:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="ff2c" class="kx ky hh kt b fi kz la l lb lc">prediction_class = [if x &lt; 0.5 0 else 1 end for x in prediction]</span><span id="a28b" class="kx ky hh kt b fi lq la l lb lc">prediction_df = DataFrame(y_actual = test.stroke, y_predicted = prediction_class, prob_predicted = prediction)</span><span id="8c44" class="kx ky hh kt b fi lq la l lb lc">prediction_df.correctly_classified = prediction_df.y_actual .== prediction_df.y_predicted</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es lx"><img src="../Images/eda81ddab9d1f8c6f1eb4bee97bd4b22.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*3WhAGPG-12rKPfLY0LEyXw.png"/></div></figure><p id="ebf4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è¿˜æœ‰â€¦â€¦æˆ‘ä»¬çš„<strong class="iw hi">å‡†ç¡®ç‡å¾—åˆ†</strong>ï¼Ÿ</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="bf6c" class="kx ky hh kt b fi kz la l lb lc">accuracy = mean(prediction_df.correctly_classified)<br/>print("Accuracy of the model is : ",accuracy)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es ly"><img src="../Images/eec4ec3cfeb513f5f220067b92d64365.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*gWKqKBPGn45ERX1mnCDVrg.png"/></div></figure><p id="694c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è¿˜ä¸é”™ï¼</p><figure class="ko kp kq kr fd ii"><div class="bz dy l di"><div class="lz lp l"/></div></figure><p id="9f98" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æœ€åï¼Œè®©æˆ‘ä»¬åˆ›å»º<strong class="iw hi">æ··æ·†çŸ©é˜µ:</strong></p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="0146" class="kx ky hh kt b fi kz la l lb lc">confusion_matrix = MLBase.roc(prediction_df.y_actual, prediction_df.y_predicted)</span></pre><figure class="ko kp kq kr fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/b12834db4c058c5dee0393d6876ffb97.png" data-original-src="https://miro.medium.com/v2/resize:fit:520/format:webp/1*gltmTnnWw92Hx4HsQCVIkg.png"/></div></figure></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="1c9e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">â—ï¸It'så†™ä¸‹äº†æå…¶é‡è¦çš„ä»£ç :</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="7906" class="kx ky hh kt b fi kz la l lb lc">using MLBase: predict</span></pre><p id="550d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å¦‚æœä½ ä¸å†™è¿™ä¸ªï¼Œä½ å¯èƒ½è¦å¤„ç†è¿™ä¸ªé”™è¯¯:</p><pre class="ko kp kq kr fd ks kt ku kv aw kw bi"><span id="d157" class="kx ky hh kt b fi kz la l lb lc">UndefVarError: predict not defined</span></pre><p id="d589" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åŠ è½½äº†å¦ä¸€ä¸ªå¯¼å‡ºé¢„æµ‹çš„åŒ…(åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯GLMåŒ…),å®ƒä¸MLBaseçš„é¢„æµ‹ç›¸å†²çªã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŒ‡å®šä»å“ªé‡Œä½¿ç”¨predictã€‚</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="a978" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æŸ¥çœ‹æˆ‘çš„ç¬”è®°æœ¬<a class="ae it" href="https://github.com/OlgaEle/My_Notebooks/blob/main/Julia/JuliaStrokePredictionLogisticRegression.ipynb" rel="noopener ugc nofollow" target="_blank">è¿™é‡Œ</a>ã€‚</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="8c30" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iw hi">æ”¶å°¾</strong></p><p id="5277" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•åœ¨Juliaä¸­è®­ç»ƒé€»è¾‘å›å½’æ¨¡å‹ï¼</p><p id="432d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">å½“ç„¶ï¼Œæˆ‘ä»¬çš„åˆ†æè¿˜å¯ä»¥æ›´å¥½ã€‚</p><p id="6d70" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ•¬è¯·å…³æ³¨æ›´æ–°ï¼</p></div><div class="ab cl kh ki go kj" role="separator"><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km kn"/><span class="kk bw bk kl km"/></div><div class="ha hb hc hd he"><p id="05d5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼ğŸ¤—</p><div class="mb mc ez fb md me"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mf ab dw"><div class="mg ab mh cl cj mi"><h2 class="bd hi fi z dy mj ea eb mk ed ef hg bi translated">Mlearning.aiæäº¤å»ºè®®</h2><div class="ml l"><h3 class="bd b fi z dy mj ea eb mk ed ef dx translated">å¦‚ä½•æˆä¸ºMlearning.aiä¸Šçš„ä½œå®¶</h3></div><div class="mm l"><p class="bd b fp z dy mj ea eb mk ed ef dx translated">medium.com</p></div></div><div class="mn l"><div class="mo l mp mq mr mn ms in me"/></div></div></a></div></div></div>    
</body>
</html>