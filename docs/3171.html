<html>
<head>
<title>SQL For Data Scientists</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向数据科学家的SQL</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/sql-for-statistics-67bf91443f70?source=collection_archive---------1-----------------------#2022-07-29">https://medium.com/mlearning-ai/sql-for-statistics-67bf91443f70?source=collection_archive---------1-----------------------#2022-07-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="e35c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在本文中，我们将介绍SQL中最重要的统计函数。统计学是数据科学家最重要的工具。我使用PostgreSQL，但你可以使用任何SQL引擎，如MySQL，MSSQL等，语法是非常相同的。我们将介绍SQL中的以下函数</p><ul class=""><li id="937d" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">count()计算一列中元素的数量</li><li id="0808" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">min()，max()查找列的最小值和最大值</li><li id="8eb5" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">sum()、avg()、mode()来计算列的集中趋势</li><li id="a7cb" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">var_pop()、stddev_pop()来计算一列的离差</li><li id="852b" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">round()将数据舍入到小数点后指定的位数。</li><li id="095b" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">PERCENTILE_DISC()、PERCENTILE_CONT()来计算离散和连续的百分位数。</li><li id="4ff8" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">corr()来度量两个列之间的关系强度。</li><li id="f2f8" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">ROW_NUMBER()对数据进行排序。</li><li id="b584" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">regr_slope()来计算直线的斜率。</li><li id="ab76" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">regr_intercept()来查找直线的y轴截距。</li></ul><blockquote class="jq jr js"><p id="a5e7" class="ie if jt ig b ih ii ij ik il im in io ju iq ir is jv iu iv iw jw iy iz ja jb ha bi translated">本文的最后一部分，一步一步地教你如何在PostgreSQL的pgAdmin 4和MySQL的Workbanch中设置数据集。</p></blockquote><p id="9571" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">代码部分分为两部分，第一部分是SQL命令，第二部分是命令的输出。在下图中解释</p><figure class="jy jz ka kb fd kc er es paragraph-image"><div class="er es jx"><img src="../Images/88378e78d7a76f360c6b2cf261f97733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*E-i-Z5cPGbvAqBqmOWRSWg.png"/></div></figure><h2 id="71fd" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">显示前5行</h2><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="594a" class="kf kg hh lb b fi lf lg l lh li">SELECT * <br/>FROM sales <br/>    LIMIT 5;</span><span id="26b8" class="kf kg hh lb b fi lj lg l lh li">##    salesDate dayOfYear empShifts unitsSold  rev monthOfYear<br/>## 1 2017-01-01         1         3       241 2892           1<br/>## 2 2017-01-02         2         3       205 2460           1<br/>## 3 2017-01-03         3         3       200 2400           1<br/>## 4 2017-01-04         4         3       458 5496           1<br/>## 5 2017-01-05         5         3       339 4068           1</span></pre><h2 id="bcf4" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">清点记录</h2><ul class=""><li id="2844" class="jc jd hh ig b ih lk il ll ip lm it ln ix lo jb jh ji jj jk bi translated">查找销售表中的记录总数</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="866c" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    COUNT(*) AS Total_Records <br/>FROM sales;</span><span id="1594" class="kf kg hh lb b fi lj lg l lh li">##   Total_Records<br/>## 1           365</span></pre><ul class=""><li id="fb8c" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在sales表中查找每个月的记录总数，并按“monthOfYear”列的升序对表进行排序。</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="a24b" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    monthOfYear, <br/>    COUNT(*) <br/>FROM sales <br/>    GROUP BY monthofyear <br/>    ORDER BY monthofyear;</span><span id="cc44" class="kf kg hh lb b fi lj lg l lh li">##    monthOfYear COUNT(*)<br/>## 1            1       31<br/>## 2            2       28<br/>## 3            3       31<br/>## 4            4       30<br/>## 5            5       31<br/>## 6            6       30<br/>## 7            7       31<br/>## 8            8       31<br/>## 9            9       30<br/>## 10          10       31<br/>## 11          11       30<br/>## 12          12       31</span></pre><ul class=""><li id="3f13" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中查找最大员工班次</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="4830" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    MAX(empShifts) <br/>FROM sales;</span><span id="1b6f" class="kf kg hh lb b fi lj lg l lh li">##   max(empShifts)<br/>## 1              9</span></pre><ul class=""><li id="f7b4" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中查找最小员工班次</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="1961" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    MIN(empShifts) <br/>FROM sales;</span><span id="7aa3" class="kf kg hh lb b fi lj lg l lh li">##   max(empShifts)<br/>## 1              3</span></pre><ul class=""><li id="b42a" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中查找最小和最大雇佣班次</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="2d8b" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    MIN(empShifts) AS 'Min Employ Shift',  <br/>    MAX(empShifts) AS 'Max Employ Shift' <br/>FROM sales;</span><span id="3485" class="kf kg hh lb b fi lj lg l lh li">##   Min Employ Shift Max Employ Shift<br/>## 1                3                9</span></pre><ul class=""><li id="25fd" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中查找每月的最小和最大雇佣班次</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="c701" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    monthOfYear, <br/>    MIN(empShifts) AS 'Min Employ Shift',  <br/>    MAX(empShifts) AS 'Max Employ Shift' <br/>FROM sales <br/>    GROUP BY monthOfYear <br/>    ORDER BY monthOfYear;</span><span id="fdb0" class="kf kg hh lb b fi lj lg l lh li">##    monthOfYear Min Employ Shift Max Employ Shift<br/>## 1            1                3                3<br/>## 2            2                3                4<br/>## 3            3                4                4<br/>## 4            4                4                4<br/>## 5            5                4                5<br/>## 6            6                5                5<br/>## 7            7                4                5<br/>## 8            8                3                4<br/>## 9            9                3                3<br/>## 10          10                3                4<br/>## 11          11                4                5<br/>## 12          12                5                9</span></pre><h2 id="4599" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">总和、平均值和众数</h2><ul class=""><li id="cfc7" class="jc jd hh ig b ih lk il ll ip lm it ln ix lo jb jh ji jj jk bi translated">在销售表中找出销售单位的总数</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="7ab1" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    SUM(unitsSold) AS 'TOTAL UNIT SOLD'<br/>FROM sales;</span><span id="a4dc" class="kf kg hh lb b fi lj lg l lh li">##   TOTAL UNIT SOLD<br/>## 1          177119</span></pre><ul class=""><li id="46d0" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中找出每月销售量的总和及平均值</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="545a" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    monthOfYear, <br/>    SUM(unitsSold) AS 'TOTAL UNIT SOLD',<br/>    avg(unitsSold) AS 'AVERAGE UNIT SOLD' <br/>FROM sales <br/>    GROUP BY monthOfYear <br/>    ORDER BY monthOfYear;</span><span id="8fa5" class="kf kg hh lb b fi lj lg l lh li">##    monthOfYear TOTAL UNIT SOLD AVERAGE UNIT SOLD<br/>## 1            1            8473          273.3226<br/>## 2            2           12954          462.6429<br/>## 3            3           16134          520.4516<br/>## 4            4           15094          503.1333<br/>## 5            5           16895          545.0000<br/>## 6            6           17506          583.5333<br/>## 7            7           18578          599.2903<br/>## 8            8           15816          510.1935<br/>## 9            9           12413          413.7667<br/>## 10          10            8055          259.8387<br/>## 11          11           16073          535.7667<br/>## 12          12           19128          617.0323</span></pre><ul class=""><li id="2399" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在销售表中查找每月每班的员工人数</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="2a8a" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    monthOfYear,<br/>    MODE() WITHIN GROUP (ORDER BY empShifts) as emp_mode<br/>FROM sales<br/>    GROUP BY monthOfYear;</span><span id="6f1b" class="kf kg hh lb b fi lj lg l lh li">##    monthofyear emp_mode<br/>## 1            1        3<br/>## 2            2        4<br/>## 3            3        4<br/>## 4            4        4<br/>## 5            5        5<br/>## 6            6        5<br/>## 7            7        5<br/>## 8            8        4<br/>## 9            9        3<br/>## 10          10        3<br/>## 11          11        4<br/>## 12          12        7</span></pre><h2 id="5189" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">方差和标准差</h2><ul class=""><li id="9056" class="jc jd hh ig b ih lk il ll ip lm it ln ix lo jb jh ji jj jk bi translated">在销售表中查找每月销售量的总和、平均值、方差和标准偏差</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="c94f" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>    monthOfYear, <br/>    SUM(unitsSold) AS 'TOTAL', <br/>    avg(unitsSold) AS 'AVERAGE', <br/>    VAR_POP(unitsSold) AS 'Variance', <br/>    STDDEV_POP(unitsSold) AS 'Standard_Deviation' <br/>FROM sales <br/>    GROUP BY monthOfYear <br/>    ORDER BY monthOfYear;</span><span id="06fe" class="kf kg hh lb b fi lj lg l lh li">##    monthOfYear TOTAL  AVERAGE  Variance Standard_Deviation<br/>## 1            1  8473 273.3226  8737.702           93.47568<br/>## 2            2 12954 462.6429 27407.015          165.55064<br/>## 3            3 16134 520.4516 13782.119          117.39727<br/>## 4            4 15094 503.1333 15481.716          124.42554<br/>## 5            5 16895 545.0000 24040.065          155.04859<br/>## 6            6 17506 583.5333 14059.916          118.57451<br/>## 7            7 18578 599.2903 14998.851          122.46980<br/>## 8            8 15816 510.1935 12227.382          110.57749<br/>## 9            9 12413 413.7667 20261.912          142.34434<br/>## 10          10  8055 259.8387 11790.845          108.58566<br/>## 11          11 16073 535.7667 28680.246          169.35243<br/>## 12          12 19128 617.0323 41761.580          204.35650</span></pre><ul class=""><li id="3d2f" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">在sales表中查找每月销售量的总和、平均值、方差和标准偏差，并将输出四舍五入到小数点后两位。</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="d42d" class="kf kg hh lb b fi lf lg l lh li">SELECT <br/>   monthOfYear, <br/>   SUM(unitsSold) AS 'TOTAL', <br/>   ROUND(avg(unitsSold), 2) AS 'AVERAGE', <br/>   ROUND(VAR_POP(unitsSold), 2) AS 'Variance',    <br/>   ROUND(STDDEV_POP(unitsSold), 2) AS 'Standard_Deviation'<br/>FROM sales <br/>   GROUP BY monthOfYear <br/>   ORDER BY monthOfYear;</span><span id="4b19" class="kf kg hh lb b fi lj lg l lh li">##    monthOfYear TOTAL AVERAGE Variance Standard_Deviation<br/>## 1            1  8473  273.32  8737.70              93.48<br/>## 2            2 12954  462.64 27407.02             165.55<br/>## 3            3 16134  520.45 13782.12             117.40<br/>## 4            4 15094  503.13 15481.72             124.43<br/>## 5            5 16895  545.00 24040.06             155.05<br/>## 6            6 17506  583.53 14059.92             118.57<br/>## 7            7 18578  599.29 14998.85             122.47<br/>## 8            8 15816  510.19 12227.38             110.58<br/>## 9            9 12413  413.77 20261.91             142.34<br/>## 10          10  8055  259.84 11790.84             108.59<br/>## 11          11 16073  535.77 28680.25             169.35<br/>## 12          12 19128  617.03 41761.58             204.36</span></pre><h2 id="d772" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">百分位数和频率</h2><h2 id="4a29" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">百分位</h2><p id="f6ba" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">一个种群被分成一百个大小相等的群体</p><h2 id="47ad" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">离散百分位数</h2><p id="b6a8" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated"><strong class="ig hi"><em class="jt">【percentile _ disc()】</em></strong>是返回列中值的公式</p><h2 id="f65c" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">连续百分点</h2><p id="d7ee" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated"><strong class="ig hi"><em class="jt">percentile _ cont()</em></strong>是对百分位之间的边界值进行插值并返回值的公式。</p><p id="7a09" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将取第95个离散和连续百分位数，观察它们的值是否不同，因为离散百分位数返回列值中的值，而连续百分位数返回插值。</p><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="e5d3" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY rev) AS Disc_90th,<br/>    PERCENTILE_CONT(0.90) WITHIN GROUP (ORDER BY rev) AS Cont_90th<br/>FROM sales");</span><span id="1613" class="kf kg hh lb b fi lj lg l lh li">##   disc_90th cont_90th<br/>## 1      8568    8563.2</span></pre><p id="b057" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们将找到销售表的收入"<strong class="ig hi"><em class="jt">【rev】</em></strong>"列的5位数汇总。</p><ul class=""><li id="2697" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">计算最小收入</li><li id="84f2" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">计算第一个四分位数Q1</li><li id="edc0" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">计算第二个四分位数Q2(中位数)</li><li id="956f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">计算第三个四分位数Q3</li><li id="59d2" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">计算最大收入</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="1ad4" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>   MIN(rev) as Min_Value,<br/>   PERCENTILE_DISC(0.0) WITHIN GROUP (ORDER BY rev) AS Min_Value,<br/>   PERCENTILE_DISC(0.25) WITHIN GROUP (ORDER BY rev) AS Q1,<br/>   PERCENTILE_DISC(0.50) WITHIN GROUP (ORDER BY rev) AS Q2,<br/>   PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY rev) AS Q3,<br/>   PERCENTILE_DISC(0.999) WITHIN GROUP (ORDER BY rev) AS Max_Value,<br/>   MAX(rev) AS Max_Value<br/>FROM sales;</span><span id="0a3a" class="kf kg hh lb b fi lj lg l lh li">##   min_value   q1   q2   q3 max_value<br/>## 1      1018 4236 5832 7428      9792</span></pre><h2 id="c2a6" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">相互关系</h2><p id="7baa" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">相关性是对两列如何一起变化的度量。它的值总是在-1和1之间。</p><p id="234a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果两列相同，则它们之间存在完全正相关，其值为1，如果相关值接近+1，则两列之间存在强正相关，如果相关值为-1，则两列之间存在完全负相关，如果相关值接近2-1，则两列之间存在强负相关。如果相关值为0或接近于0，则两个变量之间不存在相关性。</p><ul class=""><li id="843f" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">“<strong class="ig hi"><em class="jt"/></strong>”与“<strong class="ig hi"> <em class="jt"> rev </em> </strong>”的相关系数为0.9240828，接近于1，因此是强正相关关系</li><li id="a494" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">“<strong class="ig hi"><em class="jt">【units sold】</em></strong>”和“<strong class="ig hi"><em class="jt">EMP shift</em></strong>”之间的相关性是0.5317558，与“<strong class="ig hi"> <em class="jt"> rev </em> </strong>”相比，这是相对较弱的关系</li><li id="af1f" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">“<strong class="ig hi"><em class="jt"/></strong>”与“<strong class="ig hi"> <em class="jt">月份</em> </strong>”的相关系数为0.1419347，接近于零，关系较弱。</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="0e8d" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    CORR(unitsSold, rev)<br/>FROM sales;</span><span id="ef13" class="kf kg hh lb b fi lj lg l lh li">##        corr<br/>## 1 0.9240828</span><span id="98e3" class="kf kg hh lb b fi lj lg l lh li">SELECT<br/>    CORR(unitsSold, empShifts)<br/>FROM sales;<br/>##        corr<br/>## 1 0.5317558</span><span id="621c" class="kf kg hh lb b fi lj lg l lh li">SELECT<br/>    CORR(unitsSold, monthOfYear)<br/>FROM sales;<br/>##        corr<br/>## 1 0.1419347</span></pre><h2 id="15dc" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">行数函数</h2><p id="127a" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">对行进行排序，但排序方式不依赖于查询的排序顺序。</p><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="a45f" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    salesdate,<br/>    monthOfYear,<br/>    unitsSold,<br/>    ROW_NUMBER() OVER (ORDER BY unitsSold)<br/>FROM sales<br/>    ORDER BY salesdate;</span><span id="6df4" class="kf kg hh lb b fi lj lg l lh li">##      salesdate monthofyear unitssold row_number<br/>## 1   2017-01-01           1       241         40<br/>## 2   2017-01-02           1       205         30<br/>## 3   2017-01-03           1       200         27<br/>## 4   2017-01-04           1       458        157<br/>## 5   2017-01-05           1       339         84<br/>## 6   2017-01-06           1       427        137<br/>## 7   2017-01-07           1       168         17<br/>.<br/>.<br/>.<br/>## 360 2017-12-26          12       204         28<br/>## 361 2017-12-27          12       332         78<br/>## 362 2017-12-28          12       252         45<br/>## 363 2017-12-29          12       299         55<br/>## 364 2017-12-30          12       159         16<br/>## 365 2017-12-31          12       360         95</span></pre><h2 id="8786" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">线性模型</h2><h2 id="c738" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">估计值</h2><ul class=""><li id="6c4e" class="jc jd hh ig b ih lk il ll ip lm it ln ix lo jb jh ji jj jk bi translated">我们刚刚开展了一次大规模的广告宣传活动，预计会比平时卖出更多的商品。我们应该雇佣多少员工？</li><li id="de33" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">我们预计网络流量会增加。我们的集群中需要多少台服务器来容纳流量？</li></ul><p id="2506" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用回归技术可以回答这类问题，在本文中，我们将重点讨论线性回归。</p><figure class="jy jz ka kb fd kc er es paragraph-image"><div role="button" tabindex="0" class="lt lu di lv bf lw"><div class="er es ls"><img src="../Images/9331d31b27dc8c539766956284e0f981.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n-XuNXtSlX1KjUrmbUGFnw.png"/></div></div></figure><p id="5b0d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们需要斜率和y轴截距(c)。</p><p id="65c1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">雇员= m*单位_售出+ c</p><h2 id="a601" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">计算Y轴截距</h2><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="e2e3" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    regr_intercept(empShifts, unitsSold) AS c<br/>FROM sales;</span><span id="a5f0" class="kf kg hh lb b fi lj lg l lh li">##          c<br/>## 1 2.713541</span></pre><p id="3b08" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">c = 2.713541</p><h2 id="4f2f" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">计算斜率</h2><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="6839" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    regr_slope(empShifts, unitsSold) AS m<br/>FROM sales</span><span id="b33c" class="kf kg hh lb b fi lj lg l lh li">##             m<br/>## 1 0.002978549</span></pre><p id="b2d7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">m = 0.002978549</p><p id="f776" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果unit_sold = 1500，则计算雇员数</p><h2 id="543d" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">解决办法</h2><p id="c950" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">c = 2.713541</p><p id="1bfb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">m = 0.002978549</p><p id="3b7c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">单位_售出= 1500</p><p id="2187" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">雇员= m*单位_售出+ c</p><p id="63f4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">员工数= 0.002978549* 1500 + 2.713541</p><p id="4df4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">雇员= 7.181364</p><p id="d123" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们在SQL中计算这个操作</p><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="8c90" class="kf kg hh lb b fi lf lg l lh li">SELECT<br/>    regr_slope(empShifts, unitsSold) * 1500 +    regr_intercept(empShifts, unitsSold) as Employees<br/>FROM sales</span><span id="8766" class="kf kg hh lb b fi lj lg l lh li">##   employees<br/>## 1 7.181364</span></pre><p id="6c31" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">雇员= 7.181364</p><h1 id="81f5" class="lx kg hh bd kh ly lz ma kl mb mc md kp me mf mg ks mh mi mj kv mk ml mm ky mn bi translated">资料组</h1><p id="b9a1" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">点击以下链接从google drive下载<strong class="ig hi"> <em class="jt"> sales.sql </em> </strong>文件。</p><div class="mo mp ez fb mq mr"><a href="https://drive.google.com/file/d/1OKiYfO7q-wyWrHjfGz0bDBGV2udoBosj/view?usp=sharing" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hi fi z dy mw ea eb mx ed ef hg bi translated">销售. sql</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">编辑描述</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">drive.google.com</p></div></div></div></a></div><p id="6488" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">你要把代码选择复制粘贴到<strong class="ig hi"><em class="jt">MySQL work bench</em></strong>的查询编辑器中，执行命令。</p><ul class=""><li id="124c" class="jc jd hh ig b ih ii il im ip je it jf ix jg jb jh ji jj jk bi translated">删除数据库"<strong class="ig hi"> <em class="jt"> mystore </em> </strong>"如果已经存在</li><li id="5b21" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">创建一个数据库<strong class="ig hi"> <em class="jt"> mystore </em> </strong></li><li id="7cc8" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">激活数据库<strong class="ig hi"> <em class="jt"> mystore </em> </strong></li><li id="1b5b" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">在“<strong class="ig hi"><em class="jt">【my store】</em></strong>”数据库中创建一个“<strong class="ig hi"><em class="jt"/></strong>”销售表</li><li id="a310" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">在“销售”表中插入记录。</li><li id="3c84" class="jc jd hh ig b ih jl il jm ip jn it jo ix jp jb jh ji jj jk bi translated">如果您正在使用“<strong class="ig hi"> pg </strong> Admin 4”，那么您不需要执行前三个命令。只需使用GUI创建“mystore”数据库，并执行表的模式和插入命令。</li></ul><pre class="jy jz ka kb fd la lb lc ld aw le bi"><span id="fc19" class="kf kg hh lb b fi lf lg l lh li">DROP DATABASE IF EXISTS mystore;<br/>CREATE DATABASE mystore;<br/>use mystore;<br/>CREATE TABLE sales<br/>(<br/>    salesDate date NOT NULL,<br/>    dayOfYear integer NOT NULL,<br/>    empShifts integer,<br/>    unitsSold integer,<br/>    rev integer,<br/>    monthOfYear integer<br/>);<br/>insert into sales values ('2017-01-01',1,3,241,2892,1);<br/>insert into sales values ('2017-01-02',2,3,205,2460,1);<br/>insert into sales values ('2017-01-03',3,3,200,2400,1);<br/>insert into sales values ('2017-01-04',4,3,458,5496,1);<br/>.<br/>.<br/>.</span></pre><h2 id="9095" class="kf kg hh bd kh ki kj kk kl km kn ko kp ip kq kr ks it kt ku kv ix kw kx ky kz bi translated">结论</h2><p id="a103" class="pw-post-body-paragraph ie if hh ig b ih lk ij ik il ll in io ip lp ir is it lq iv iw ix lr iz ja jb ha bi translated">在本文中，我们将介绍SQL中常见的统计函数。我们涵盖了线性回归，集中趋势，分散，五个数字的总结和相关性。</p><div class="mo mp ez fb mq mr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ms ab dw"><div class="mt ab mu cl cj mv"><h2 class="bd hi fi z dy mw ea eb mx ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="my l"><h3 class="bd b fi z dy mw ea eb mx ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mz l"><p class="bd b fp z dy mw ea eb mx ed ef dx translated">medium.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf kd mr"/></div></div></a></div></div></div>    
</body>
</html>