<html>
<head>
<title>Topic detection and sentiment analysis for Netflix descriptions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网飞描述的主题检测和情感分析</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/topic-detection-and-sentiment-analysis-for-netflix-descriptions-c7314d244413?source=collection_archive---------5-----------------------#2022-02-28">https://medium.com/mlearning-ai/topic-detection-and-sentiment-analysis-for-netflix-descriptions-c7314d244413?source=collection_archive---------5-----------------------#2022-02-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/02cb321a82b87418724dd198bcdf92bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q-Ns-4NT-V51YZIcYw8Wiw.png"/></div></div></figure><p id="a4e5" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">网飞是最受欢迎的媒体和视频流媒体平台之一。他们的平台上有超过8000部电影或电视节目，截至2021年年中，他们在全球拥有超过2亿用户。</p><p id="52d8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在下面的分析中，我们将查看电影/连续剧描述变量中的文本数据，我们将应用自然语言处理来获取复合情感和主题。</p><h2 id="bc37" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">数据集:</h2><p id="f8c8" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">这个表格数据集由在<a class="ae jn" href="https://www.kaggle.com/shivamb/netflix-shows" rel="noopener ugc nofollow" target="_blank">网飞</a>上可获得的所有电影和电视节目的列表组成，下面是数据集中出现的所有列</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ko"><img src="../Images/3e6d705b9f44d61627ccc5131bf4142a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DXyywERAURQYhlcu1bc3Rw.png"/></div></div></figure><h2 id="a795" class="jo jp hh bd jq jr js jt ju jv jw jx jy ja jz ka kb je kc kd ke ji kf kg kh ki bi translated">数据清理:</h2><p id="0e73" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated"><strong class="ir hi">删除空值:</strong>空值会降低模型性能并扭曲数据。从下面的屏幕截图中，我们看到导演、演员和国家/地区具有最多的空值，基于冗余变量，我们删除了导演和演员列。在下一步中，我们使用dropna()函数删除所有包含空值的行。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es kt"><img src="../Images/a9b932a84ef50752cdc926e0271a2b0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*cyNpkXYMcdqKLuM1Sv47fw.png"/></div></figure><p id="d710" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">删除冗余变量:</strong>包含链接、描述等不重要数据的变量会降低模型性能。删除了“显示标识”、“类型”、“国家”、“评级”、“添加日期”、“持续时间”、“列出日期”等列。</p><p id="6908" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">减少高方差的数据过滤器:</strong>为了防止数据具有高方差，我们对列应用过滤器并减少行数。从下图中我们可以看到数据向右倾斜，为了标准化数据，我们过滤了release_year &gt; 1980。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ku"><img src="../Images/264b40703cbd976b850bbc51e7a988ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kfoqQija8yWv0wd9a9iHhg.png"/></div></div><figcaption class="kv kw et er es kx ky bd b be z dx">Distribution Plot</figcaption></figure><h1 id="9002" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">文本数据清理:</h1><p id="b649" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated">文本数据是一种复杂的自然语言(英语、德语、法语等)，文本数据的本质是非结构化的，我们需要对其进行清理和转换，以便python能够理解和解释。</p><p id="71da" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">以下是我们清理文本数据的步骤:</p><p id="07d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">标记化:</strong>标记化是一个从语句中提取单数词的过程——我们导入nlkt的<strong class="ir hi"> word_tokenize </strong>函数，为数据集中所有电影/连续剧的描述创建标记。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lq"><img src="../Images/ab8d796dd26387c769d8bb7cb2975524.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7H10l3QwONzXIoEAte2yFA.png"/></div></div></figure><p id="8011" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">删除停用词:</strong>停用词是对分析没有任何价值的词，只是自然语言的填充词，例如“the”、“a”、“an”、“is”等。要删除停用词，我们需要导入停用词词典或创建一个手动词典。我已经从<strong class="ir hi"> Spacy </strong>文本造型库中导入了停用词词典。为了删除停用词，我创建了一个函数来应用标记化，并从空间中删除停用词词典中匹配的标记。</p><p id="89a3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">词条化:</strong>这是将一个单词的屈折形式组合在一起的过程，这样它们就可以作为一个单独的项目进行分析，通过该单词的<a class="ae jn" href="https://en.wikipedia.org/wiki/Lemma_(morphology)" rel="noopener ugc nofollow" target="_blank">词条</a>或字典形式来识别。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div class="er es lr"><img src="../Images/767b6d9863281c3a210cbcbfbecef5fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*TV4f0CUw6i4nicu9MRXXhg.png"/></div></figure><p id="6d6b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是我们运行的代码，用于对数据集中的描述文本应用标记化、删除停用词和词条化:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ls"><img src="../Images/4bf026f06f6b6fbe54ea2529fe7f3d8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Lqq47tw89lVyToFyvBjvQ.png"/></div></div></figure><p id="12b2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是应用文本数据清理前后的步骤:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/e84b9919464c2e0a062fc74fc191e5dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cfww4oCmlm_jUFs7ehTuug.png"/></div></div></figure><h1 id="215c" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">VADER的情感分析:</h1><p id="eb7d" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated"><strong class="ir hi">VADER(V</strong>alence<strong class="ir hi">A</strong>ware<strong class="ir hi">D</strong>ictionary<strong class="ir hi">T11】和s<strong class="ir hi">E</strong>ntiment<strong class="ir hi">R</strong>easoner<strong class="ir hi">)</strong>是一款专门针对社交媒体中表达的情绪的词汇和基于规则的情绪分析工具。<strong class="ir hi"> VADER </strong>使用情感词汇的组合是词汇特征(例如，单词)的列表，其通常根据它们的语义取向被标记为正面或负面。VADER </strong>不仅告诉我们积极和消极，还通过给出积极分数、消极分数、中性分数和三个分数相加的综合分数来告诉我们一种情绪是积极还是消极。</p><p id="00db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是应用Vader情绪分析的代码片段:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lu"><img src="../Images/49e3d9fcd677b95349f8f33336291c15.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fd3_PeJXVgkiH2PCEU9udA.png"/></div></div></figure><p id="e2b6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下面是包含复合情感得分和情感类型的10行代码片段:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lv"><img src="../Images/f448fea5dcf8794ba0a3b0fc1cf57404.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vBGXo_r7z0KgpmmcugErZg.png"/></div></div></figure><h1 id="71cb" class="kz jp hh bd jq la lb lc ju ld le lf jy lg lh li kb lj lk ll ke lm ln lo kh lp bi translated">使用LDA的主题检测:</h1><p id="7651" class="pw-post-body-paragraph ip iq hh ir b is kj iu iv iw kk iy iz ja kl jc jd je km jg jh ji kn jk jl jm ha bi translated"><a class="ae jn" href="https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation" rel="noopener ugc nofollow" target="_blank">潜在狄利克雷分配</a>是一种无监督学习算法，它将文档表示为主题的混合物，这些主题以一定的概率吐出单词。</p><p id="7905" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">LDA的缺点:</strong></p><ol class=""><li id="7ef6" class="lw lx hh ir b is it iw ix ja ly je lz ji ma jm mb mc md me bi translated">用户必须定义要创建的主题数量。</li><li id="0a01" class="lw lx hh ir b is mf iw mg ja mh je mi ji mj jm mb mc md me bi translated">用户必须根据分配给主题的单词的概率来解释什么是主题。</li></ol><p id="6664" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了让python理解文本数据，我们需要使用计数矢量器对其进行矢量化，经过拟合变换后，我们会得到一个大的字数矩阵。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mk"><img src="../Images/35de2731d8a48667a4a34727a0a406c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vwKYaOTYiyPgNwIFJ-6Xig.png"/></div></div></figure><p id="7376" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从sklearn库导入LDA，创建一个实例并将其应用于矩阵spit out of Count矢量器:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ml"><img src="../Images/d9979bb367dca54f86f32d9764695e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j9QMbmOs2-_AVlszRmDivw.png"/></div></div></figure><p id="4cc8" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">打印与每个主题相关的前15个单词:</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mm"><img src="../Images/d11702f6c119c81b167a364aaff897f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5HQpXr8pIqRNG5C0_I2ciA.png"/></div></div></figure><p id="f726" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">下一步是手动的，完全是主观的，用户解释与上面的主题列表相关联的最高概率的单词，并给主题分配一个类别名称。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/57636342979ba88a40f0981d879f657c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Dh3NMaBoPoPNITWS7jVEJw.png"/></div></div></figure><p id="4606" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们使用LDA模型转换dtm矩阵，创建LDA模型是为了给每个描述单元分配每个主题的混合概率。我们采用使用argmax()函数分配的顶部主题。</p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lt"><img src="../Images/b7f934cb0fa60fb564aaa1404edd8695.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9IQhsMHjTBC9xvb184buA.png"/></div></div></figure><p id="4755" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">输出:</strong></p><figure class="kp kq kr ks fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/6eab0f1fadd25219802e822dea41dde5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r2m8ljtHzBhBh-sVLFtR3A.png"/></div></div></figure><div class="mp mq ez fb mr ms"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mt ab dw"><div class="mu ab mv cl cj mw"><h2 class="bd hi fi z dy mx ea eb my ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mz l"><h3 class="bd b fi z dy mx ea eb my ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="na l"><p class="bd b fp z dy mx ea eb my ed ef dx translated">medium.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng in ms"/></div></div></a></div></div></div>    
</body>
</html>