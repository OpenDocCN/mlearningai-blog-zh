<html>
<head>
<title>How to calculate ELO score for international teams using python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用python计算国际团队的ELO分数</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/how-to-calculate-elo-score-for-international-teams-using-python-66c136f01048?source=collection_archive---------4-----------------------#2022-02-13">https://medium.com/mlearning-ai/how-to-calculate-elo-score-for-international-teams-using-python-66c136f01048?source=collection_archive---------4-----------------------#2022-02-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="6c54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用python中的历史比赛数据比较国际球队表现的简单方法</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es jj"><img src="../Images/62c4b3b7b8b6b8226af4fe595d79bd04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sHl8XVDa7_lZP5nCjKBolA.png"/></div></div><figcaption class="jv jw et er es jx jy bd b be z dx">Fifa ELO Ranking (<a class="ae jz" href="https://www.fifa.com/fifa-world-ranking/men?dateId=id13372" rel="noopener ugc nofollow" target="_blank">source</a>)</figcaption></figure><p id="afb3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从历史上看，人们一直在讨论哪个国家队在当时是最好的。有人说欧洲球队总是更好，因为足球诞生在那里，有人说美国球队更好，带来了巴西的5届世界杯和许多出生在这个国家的天才球员，讨论一直在继续。跟着走。幸运的是，我们可以依靠数据来估计哪支球队是当时最好的，这是通过ELO系统(事实上，这是国际足联目前在官方排名中使用的系统)实现的。使用Python和<a class="ae jz" href="https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017" rel="noopener ugc nofollow" target="_blank">Kaggle</a><strong class="ig hi"/>中的数据集，你可以找出有史以来最好和最差的5个选择。</p><p id="d7f3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">什么是ELO体系？</strong></p><p id="d764" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">ELO系统的名字应归功于Arpad Elo，他是一名国际象棋选手和数学家，他开发了这个评分系统来确定一名国际象棋选手的技能水平。比赛后计算Elo等级的公式考虑了当前自己的等级、赢得比赛的概率、比赛结果和调整系数k。公式如下:</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es ka"><img src="../Images/1215fa5859189f54a4e78dbd1c2031a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qsMRinOvrRtJcbmmdevZtQ.png"/></div></div></figure><p id="aa92" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">其中“t-1”处的P是比赛前的得分，K是调整系数，“a”处的S是比赛结果(如果他们赢了，则为1，如果他们输了，则为0.5，如果平局，则为0.5)。</p><p id="5a8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">“a”处的e是使用逻辑函数计算的比赛期望值，并且将两个球员的Elo评级作为参数。计算如下。</p><figure class="jk jl jm jn fd jo er es paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="er es kb"><img src="../Images/2100cf9224842ed2f458ed94d73349bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zj97HpTY-y6T56wg29aKiQ.png"/></div></div></figure><p id="cd36" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就足球而言，自2018年以来，国际足联一直在官方排名中使用这一系统。调整系数K作为比赛的重要性，友谊赛取值5，四分之一决赛取值60。国际足联世界杯决赛或之后。</p><p id="ff1a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">如何用Python计算国家队的ELO分数？</strong></p><p id="f751" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了计算一段时间内国家队的ELO得分，有必要获得一段时间内国家队之间发生的所有比赛。多亏了Mart Jürisoo，这些信息可以在<a class="ae jz" href="https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017" rel="noopener ugc nofollow" target="_blank">这里</a>找到。而我接下来要展示的jupyter笔记本可以在<a class="ae jz" href="https://github.com/danielguerreros/InternationalELo" rel="noopener ugc nofollow" target="_blank">我的GitHub </a>上看到。</p><p id="110c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在加载数据并将其命名为df之后，我们将只选择我们将使用的列。它们是什么:</p><p id="e715" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">日期</p><p id="f428" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Home_team</p><p id="e1aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">客场_球队</p><p id="8926" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">首页_分数</p><p id="e418" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">客场得分</p><p id="cf4a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">锦标赛</p><p id="276b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">对于变量K，我们将在国际友谊赛中使用10，在FIFA世界杯预选赛中使用25，在联合会比赛中使用40，在FIFA世界杯比赛中使用55，在其他比赛中使用5。</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="bd2b" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了计算预期结果(E_a)，我们将创建一个函数，该函数采用主队的Elo和客场队的Elo，并返回一个数组，其中第一个条目是主队获胜的概率，而第二个数组是客场队获胜的概率。</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="1fdc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了获得实际结果(R_a ),我们创建了一个函数，该函数将两支球队的目标作为参数，并返回一个数组，其中主队的结果位于第一个位置，而客场队的结果位于第二个位置。</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="87c9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最后，我们将使用上面创建的函数来创建我们的主函数，该函数在一场比赛后计算两个队的等级。该功能需要比赛中的进球，正在进行的比赛，以及球队以前的评级。</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="10bc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">将创建一个字典来存储每个团队的最后Elo分数。这个字典会在球队每次比赛的时候更新。创建这个字典后，我们可以迭代数据集，以获得每次匹配前后的评级。</p><figure class="jk jl jm jn fd jo"><div class="bz dy l di"><div class="kc kd l"/></div></figure><p id="fdc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">通过这种方式，我们获得了国家队所有历史比赛的数据框架，以及他们在每个时间点的Elo得分。因此，我们将有一个客观的衡量标准来判断当前哪些选择是最好的，哪些是最差的。根据这一分数，有史以来排名前五的国家队是:</p><ol class=""><li id="eb56" class="ke kf hh ig b ih ii il im ip kg it kh ix ki jb kj kk kl km bi translated">德国(2014年)。Elo = 1795.7</li><li id="a007" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">西班牙(2010年)。Elo = 1795.5</li><li id="bff4" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">法国(2021年)。Elo =1775.6</li><li id="0b19" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">巴西(2021年)。Elo = 1771.3</li><li id="e69a" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">荷兰(2010年)。Elo =1759.4</li></ol><p id="ac88" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">最差的五个是:</p><ol class=""><li id="d4c5" class="ke kf hh ig b ih ii il im ip kg it kh ix ki jb kj kk kl km bi translated">卢森堡(2006年)。Elo = 879.4</li><li id="7858" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">圣马力诺(2021年)。Elo =895.5</li><li id="ea5d" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">列支敦士登(2021年)。Elo = 987.8</li><li id="06df" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">安道尔(2016年)。Elo = 993.1</li><li id="4581" class="ke kf hh ig b ih kn il ko ip kp it kq ix kr jb kj kk kl km bi translated">斯里兰卡(2021年)。Elo =1005</li></ol><p id="170c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">免责声明:</strong>请注意，这些结果取决于选择的权重和用于计算预期结果的公式。如果这些参数发生变化，分数可能会有所不同。请随意更改重量并分享您的结果！</p><p id="f2ac" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">感谢阅读这篇文章，评论中的反馈将会很受欢迎。在接下来的几周里，我会上传一些新的帖子，介绍如何在streamlit中可视化这些数据，以及如何通过sckit learn将ELO分数用于创建国际比赛的预测模型。要了解这些新帖子，可以考虑在本页关注我的博客，或者在<a class="ae jz" href="https://www.linkedin.com/in/daniel-guerrero-santaren/" rel="noopener ugc nofollow" target="_blank"> Linkedin </a>上关注我的个人资料。</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="652d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">[1]“Elo评级系统”维基百科。【https://en.wikipedia.org/wiki/Elo_rating_system T4】</p><p id="bf0e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">数据来源:<a class="ae jz" href="https://www.kaggle.com/martj42/international-football-results-from-1872-to-2017" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/martj 42/international-football-results-from-1872-to-2017</a></p><div class="ks kt ez fb ku kv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hi fi z dy la ea eb lb ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">medium.com</p></div></div><div class="le l"><div class="lf l lg lh li le lj jt kv"/></div></div></a></div></div></div>    
</body>
</html>