<html>
<head>
<title>Comparing classifiers (Friedman and Nemenyi tests)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">比较分类器(Friedman和Nemenyi检验)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/comparing-classifiers-friedman-and-nemenyi-tests-32294103ee12?source=collection_archive---------0-----------------------#2021-10-02">https://medium.com/mlearning-ai/comparing-classifiers-friedman-and-nemenyi-tests-32294103ee12?source=collection_archive---------0-----------------------#2021-10-02</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/6b48e80292351ce1617fdcfe81b237ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5_BF4dDp7DBd9cgw"/></div></div></figure><p id="dba4" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当我们在处理我们打算使用机器学习来解决的问题时，我们需要处理分类器。有时很容易知道一个分类器如何优于另一个分类器，例如，如果我们有两个分类器，其中一个有80%的准确率，另一个有50%，因此我们很容易看出第一个分类器是最好的(考虑到准确率)。然而，如果我们有许多分类器，并且它们之间的差异小于1%，我们如何进行可靠的分析来检查它们中是否真的有一个比其他的好，或者它们是否根本没有区别？</p><p id="234e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">本文的目标是一步一步地展示如何检查一个分类器是否真的比另一个好。我们将使用基本的统计数据和真实的数据集。您可以有不同的上下文，这里我们考虑五个分类器和四个指标，我们比较这些指标来进行分析。您还可以看到这样的情况，我们只有一个指标评估，但有许多<a class="ae jn" href="https://www.jmlr.org/papers/volume7/demsar06a/demsar06a.pdf" rel="noopener ugc nofollow" target="_blank">数据集</a>。</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jo"><img src="../Images/7f7497b994494cd68b8d6581c44c4b39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8QRSiCF29TIjd5lR"/></div></div></figure><p id="390c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">统计学的主要目的之一是检验假设。在统计推断中，我们有一个过程，从总体中抽取一个样本，并评估这个样本如何代表总体。在假设检验中，我们制定一个假设，在样本中对其进行评估，并检查该假设是否正确。</p><p id="e190" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们需要根据我们的问题(比较分类器)创建一个零假设(H₀)和一个替代假设(H₁)。两种假设都必须是简洁的陈述，是事实的两种版本。这些版本是相互排斥和详尽的(它们涵盖了所有的可能性)。在我们的案例中:</p><blockquote class="jt ju jv"><p id="6a2f" class="ip iq jw ir b is it iu iv iw ix iy iz jx jb jc jd jy jf jg jh jz jj jk jl jm ha bi translated">H₀::量词是平等的。</p><p id="1bac" class="ip iq jw ir b is it iu iv iw ix iy iz jx jb jc jd jy jf jg jh jz jj jk jl jm ha bi translated">H₁::量词是不同的。</p></blockquote><h1 id="5dbf" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">比较量词</strong></h1><p id="e2c3" class="pw-post-body-paragraph ip iq hh ir b is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji lc jk jl jm ha bi translated">我们的比较使用了两个测试:Friedman和Nemenyi。Friedman是第一个测试，如果H₀被拒绝(H₁被接受)，我们将使用Nemenyi来知道最佳分类器。这里我们有五个分类器，贝叶斯高斯、KNN、Parzen、逻辑回归和后四个分类器的集成(多数投票)。使用的数据集是<a class="ae jn" href="https://archive.ics.uci.edu/ml/datasets/Yeast" rel="noopener ugc nofollow" target="_blank">酵母数据集</a>。</p><h1 id="ba15" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">弗里德曼试验</strong></h1><p id="7ade" class="pw-post-body-paragraph ip iq hh ir b is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji lc jk jl jm ha bi translated">为了进行弗里德曼测试，我们选择了4个评估指标作为我们的参考。这两个表分别显示了每个指标和排名的平均值。</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ld"><img src="../Images/a5ffca4a7eb69a5a6b9ae865d535d89c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hGOV6jSlGaS8v2OJF61QTQ.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">Mean values of the 4 metrics (we applied Stratified K fold Validation with K = 5)</figcaption></figure><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es li"><img src="../Images/92975574a99dfa34cc45631a6b8d2405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ERKM3rw0FKRC7fWNfj3Pyg.png"/></div></div><figcaption class="le lf et er es lg lh bd b be z dx">Ranking</figcaption></figure><p id="effc" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦我们有了排名表，我们计算卡方，如下面的表达式:</p><figure class="jp jq jr js fd ii er es paragraph-image"><div class="er es lj"><img src="../Images/18b494bfaa82d2487d917b68b9957877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/0*lqHrJKC_ox-o0Wx3"/></div></figure><p id="f61c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在我们的例子中，N = 4(行数)e k = 5(分类器数)。R是平均排名，你可以在排名表的“平均”一行看到。</p><p id="b505" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">一旦我们有了卡方，现在我们计算FF:</p><figure class="jp jq jr js fd ii er es paragraph-image"><div class="er es lk"><img src="../Images/224ed1faf6cff5bbd8df89a2750aee04.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/0*vuF3QKiDH4ykpkRJ"/></div></figure><p id="11ff" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">用FF值，我们与评论家f·ₖ-₁,(ₖ-₁)(ₙ-₁).值进行比较如果FF大于临界值，H₀必须被拒绝，在这种情况下，我们可以说我们的分类器之间有显著差异。</p><p id="3c0e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们得到卡方= 13，4，FF值为15，46。现在我们用一个F表来得到评论值。注意，我们有4个和12个自由度，α为0，05。</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ll"><img src="../Images/1812af611d242ff0ce690cd3bef90b56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*L7CPVT-YrfnChueL"/></div></div></figure><p id="2de9" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从上表可以看出，临界值是32592。该值低于FF，因此H₀被拒绝，我们需要进行下一个测试(Nemenyi)。</p><h1 id="8543" class="ka kb hh bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx bi translated"><strong class="ak">内梅尼测试</strong></h1><p id="df34" class="pw-post-body-paragraph ip iq hh ir b is ky iu iv iw kz iy iz ja la jc jd je lb jg jh ji lc jk jl jm ha bi translated">在Nemenyi测试中，我们需要获得所有分类器(比较分类器对)之间的平均排名(排名表的平均行)的差异。如果这种差异大于或等于CD(临界距离)，我们可以说这两个分类器彼此显著不同。CD的计算公式为:</p><figure class="jp jq jr js fd ii er es paragraph-image"><div class="er es lm"><img src="../Images/52bb68b223549377eeefc8768787ac60.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/0*vYXWCXXQh4-B5ySv"/></div></figure><p id="5728" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">qα项由(α = 0，05)获得:</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ln"><img src="../Images/401cd9e0d23c12f951cc75561a243f78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WxqY9mO6kxk4VV0e"/></div></div></figure><p id="2331" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们的k是5，所以qα是2728。</p><p id="456d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">对于我们的分类器，只有Parzen和Logistic回归获得了高于CD的差异，所以我们可以说它们是显著不同的，Parzen优于Logistic回归。</p><p id="855b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">谢谢大家！</p></div></div>    
</body>
</html>