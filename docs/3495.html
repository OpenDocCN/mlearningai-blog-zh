<html>
<head>
<title>Visualizing Line Charts in Seaborn library of Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Python的Seaborn库中可视化折线图</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/visualizing-line-charts-in-seaborn-library-of-python-7f2e98cbcce6?source=collection_archive---------4-----------------------#2022-09-11">https://medium.com/mlearning-ai/visualizing-line-charts-in-seaborn-library-of-python-7f2e98cbcce6?source=collection_archive---------4-----------------------#2022-09-11</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/358a9171bc18b782df453f6cd2251567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zD9pnbcOMqmwOksP3vY05A.jpeg"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx"><a class="ae it" href="https://www.pexels.com/photo/graph-and-line-chart-printed-paper-590045/" rel="noopener ugc nofollow" target="_blank">Photo by Lukas</a></figcaption></figure><p id="f39e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们讨论在Seaborn中创建折线图的不同可视化技术。</p><p id="327d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">Seaborn是python中最流行的可视化工具之一。它流行的主要原因是在一行代码中创建复杂图表的简单性。</p><p id="930e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">当我们谈到python中的折线图时，有许多方法可以创建一个简单的折线图。在seaborn中，我们有一个名为line plot的快捷函数。</p><p id="0256" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">第一步是在我们当前的环境中安装seaborn。<br/>如果您正在使用Anaconda，您可以使用下面的命令(在anaconda.org中提到过):</p><p id="c3cf" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js">康达安装-c巨蟒之灾</em></p><p id="775f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">否则，下一个选择是使用pypi.org提到的命令，即，</p><p id="e51e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="js"> pip安装seaborn </em></p><p id="9461" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">安装完成后，下一步是使用下面的命令导入seaborn库:</p><p id="85f9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">将seaborn作为sns导入</p><p id="ceb0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里，“sns”是简写，也称为seaborn的别名，也就是说，每当我们在代码中看到“sns”，我们就可以推断我们正在使用seaborn库。</p><p id="e01e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要查看一些图，让我们在我们的环境中加载一些数据。</p><p id="593b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将使用Seaborn库的内置数据集。最初，我们不知道哪些数据集已经可用。</p><p id="661d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要获得数据集名称的列表，我们可以使用。seaborn的get_dataset_names()方法。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jt"><img src="../Images/5e967289aa32d54a7c5410b5eb6e02c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x90xrbUtwZ5dtY7L6S0C2w.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="badc" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">上面的命令为我们提供了一个包含22个数据集的列表，我们可以使用这些数据集进行分析。</p><p id="0bab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们选择道琼斯数据集并创建一个线图。</p><p id="cc54" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们使用“load_dataset()”方法，将信息读入一个名为df的数据帧。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jy"><img src="../Images/8ec74d4e5ec960d2d82ab978f7b23e81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fhzzmawxl1s0icXInaLimQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="3c1b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在让我们使用head方法检查前五行数据。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jz"><img src="../Images/b34140805a1c25d7a499468aff26f99c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p9zIO68qE49SfnFZBvqbRA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="b987" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们注意到我们有日期和价格列。让我们画一个不同日期对应的价格线图。</p><p id="8108" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们运行以下命令:</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ka"><img src="../Images/a4ff77fb0e0948e2cdb79e6d258f50de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jfGDbLtEWUg2XC8FCYySOg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="4202" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们指定x轴包含日期，y轴包含价格。<br/>数据参数将通知seaborn数据位置。</p><p id="3ba7" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这里，我们看到生成的图在x轴上是误导性的，即日期全部重叠为一，因为我们只能看到一条粗黑线。</p><p id="66df" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们检查列的数据类型，如果需要的话做一些预处理。</p><p id="e17b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将使用info()方法来检查数据类型。或者，我们可以使用“dtypes”属性来检查数据类型。</p><p id="81b6" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">df.info()或df.dtypes</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kb"><img src="../Images/1adad27b4e5a3661d5a305c814441eed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G47ePdjpg7goeOIDYO20aA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="e159" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们看到日期是一个字符串对象。让我们导入pandas库并使用to_datetime()方法来纠正数据类型。</p><p id="eb56" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">进口熊猫作为pd</p><p id="8d9e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">正如前面讨论的wrt别名，这里的“pd”是熊猫的别名，而“sns”是seaborn的别名。</p><p id="8010" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">使用to_datetime()，我们可以将字符串转换为适当的日期时间对象。</p><p id="da7a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们运行以下命令:</p><p id="2b00" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">df[' Date ']= PD . to _ datetime(df[' Date '])</p><p id="078d" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里，我们将日期列转换为日期时间对象，然后将其重新分配给日期列。</p><p id="2352" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">完成转换后，让我们将日期格式化为“%Y-%m-%d”。</p><p id="baa0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我将使用matplotlib库来调整图表大小。因此，让我们将matplotlib添加到库导入部分。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kc"><img src="../Images/8fb9fb8293f68e7d1159f273bd224f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NWeu1QUHUzjBsv8roB57EQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="c464" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们将使用matplotlib的pyplot组件。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kd"><img src="../Images/abff3a4321f797791af693f03616fb85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cbgTq7VcC9NBP9c96T6Thg.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="476e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们一行一行地破解代码，理解它。<br/>在第一行中，我们声明了一个名为‘fig’的图形和一个名为‘ax’的轴。<br/>把图形想象成一张空白的纸，我们可以在上面画点什么。<br/>在第二行，我们使用了line plot命令。<br/>接下来，我们将日期时间对象格式化为年、月和日。接下来，我们将它旋转45度，这样日期就不会重叠。<br/>最后，我们展示了使用plt的结果。show()方法。</p><p id="f450" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所有步骤结合起来生成下面的输出。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ke"><img src="../Images/b51f42784288a0ea785135eddf7771ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Zaq9kn2vJZlKVYRmdNSGDA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Line Chart (Image by Author)</figcaption></figure><p id="ab07" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">以上是seaborn中折线图的一个简单例子。</p><p id="893f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们考虑另一个数据集，并检查线形图函数最常用的参数。</p><p id="055a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们在下一组例子中使用企鹅的数据集。</p><p id="12d4" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们将使用前面显示的相同命令用企鹅的数据覆盖道琼斯数据。</p><p id="e37e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">df = sns.load_dataset('企鹅')</p><p id="40ab" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这里，让我们画出票据长度和票据深度。为了区分企鹅的类型，让我们使用“色调”参数根据企鹅种类给数据点着色。</p><p id="a13e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">sns.lineplot(x = '账单长度mm '，y= '账单深度mm '，数据=df，色调= '物种')</p><p id="9389" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从图中我们可以看出，每个物种都有不同的颜色。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kf"><img src="../Images/c5833536bac4cd7591e043a9e28a0b43.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u-pitGHrApoxRfuhwuWuFA.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="521f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">因此，hue参数帮助我们根据另一列分离数据。</p><p id="e1f9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">接下来，我们使用“style”参数来表示不同数据点的不同虚线。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kg"><img src="../Images/c39078604e1acfbc92c4d7e251dcc96d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zfB-QZECu_fCyyJWMm8GMQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="69c0" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在上面的图中，虚线是根据岛屿绘制的。</p><p id="a28b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">接下来，我们有“调色板”参数，它是调色板的缩写，用于改变图表颜色。</p><p id="6639" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">到目前为止，我们一直使用seaborn提供的默认颜色。如果我们想改变生成的图表的颜色组合，我们可以使用调色板参数。</p><p id="0ae9" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我使用的技术之一是给调色板参数一个随机字符串，执行命令并检查错误块。Seaborn将告知我们该参数的可接受值。</p><p id="075e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在下图中，你可以看到我给了一个随机字符串“ABC ”, Python为调色板参数的所有有效选项生成了一个值错误</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kh"><img src="../Images/674c89dbc7749f358575f42f0aad36d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s97ZkEKUPLJL5Dx6slfAOQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="41c2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我正在为调色板选择“Gnuplot”选项。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ki"><img src="../Images/aa8aed91eae22ab4b2d8e40c7d07c032.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pttc6CvVk8HGpJNse8a-VQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="1f42" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">你可以尝试所有可能的颜色选项，并为未来的情节挑选几个最喜欢的。</p><p id="a9c5" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后，我们有线条宽度，它允许我们修改在图形表面上绘制的图表线条的粗细。</p><p id="916e" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要使线条粗细加倍，我们需要使用参数‘lw’，它是线条宽度的缩写。</p><figure class="ju jv jw jx fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kj"><img src="../Images/c4c68ff9a21ed5600b43c8cfcdda8b81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bD3VdBUWqfUg5rjRdBipXQ.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image by Author</figcaption></figure><p id="4dcb" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">默认情况下，行宽是1，可以根据需要增加或减少，例如，将整数传递给double、triple等。，或者用0.5，0.8之类的浮点数，让线条变细。</p><p id="9070" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">下次见！</p><div class="kk kl ez fb km kn"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ko ab dw"><div class="kp ab kq cl cj kr"><h2 class="bd hi fi z dy ks ea eb kt ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ku l"><h3 class="bd b fi z dy ks ea eb kt ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="kv l"><p class="bd b fp z dy ks ea eb kt ed ef dx translated">medium.com</p></div></div><div class="kw l"><div class="kx l ky kz la kw lb in kn"/></div></div></a></div></div></div>    
</body>
</html>