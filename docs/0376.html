<html>
<head>
<title>Adele’s lyrics analysis in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">《R》中阿黛尔的歌词分析</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/adeles-lyrics-analysis-in-r-dbca81a80487?source=collection_archive---------2-----------------------#2021-04-01">https://medium.com/mlearning-ai/adeles-lyrics-analysis-in-r-dbca81a80487?source=collection_archive---------2-----------------------#2021-04-01</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="4267" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">“你好，是我”背后站着什么？</h2></div><p id="6dc8" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">阿黛尔是音乐界有史以来最伟大的歌手之一。爱黛儿·劳丽·布鲁·亚金斯是一位英国创作型歌手，已经赢得了15项格莱美奖(共18项提名)！她的音乐以独特著称，而她的歌词丰富而深刻。作为一个Adele和音乐分析的粉丝，我不能错过这个借助r中的文本分析工具来分析歌手歌词的机会。</p><p id="a902" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">本次分析的重点是阿黛尔在整个职业生涯中制作的三张专辑(让我们期待第四张即将到来)。每张专辑在制作过程中都以歌手的年龄命名。</p><ul class=""><li id="a4bb" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr jx jy jz ka bi translated"><strong class="iy hi"> 19是首张录音室专辑。</strong> <a class="ae kb" href="https://archive.ph/20090404132447/http://blogcritics.org/archives/2008/07/16/084115.php" rel="noopener ugc nofollow" target="_blank">阿黛尔独自创作了这张专辑的大部分素材，但也与一些精选的作家和制作人合作，包括吉姆·艾比斯、Eg·怀特和萨莎·斯卡贝克。他们的合作创造了一个蓝眼睛的灵魂专辑，歌词描述了心碎，怀旧和关系。</a></li><li id="38b3" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated"><strong class="iy hi"> 21是第二张录音室专辑。21分享了她2008年首张专辑《19》中的民谣和摩城灵魂音乐的影响，但她在2008-2009年与阿黛尔的北美巡演中接触到的美国乡村和南方布鲁斯音乐进一步激发了她的灵感。这张专辑是在这位歌手与当时的伴侣分手后创作的，代表了忏悔型创作歌手在探索心碎、自省和宽恕方面近乎休眠的传统。</strong></li><li id="55cf" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated"><strong class="iy hi"> 25是第三张录音室专辑。她的上一张专辑《21岁》(2011)在国际上大获成功，五年后发行，这张专辑的标题是她25岁时的生活和心态的反映，被称为“化妆记录”。根据《滚石》杂志对阿黛尔的采访，其抒情内容以阿黛尔“对旧日自我的向往，她的怀旧”和“关于时间流逝的忧郁”为主题。</strong></li></ul><h1 id="8a76" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">摘要</h1><p id="2d4b" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">在加载必要的包之后，Adele的三个相册中的数据被加载和清理。然后，我继续对歌曲和专辑及其各个方面进行文本挖掘。接下来，我运用三种不同的方法来分析阿黛尔歌曲中的情感。最后，构建了阿黛尔的歌曲网络，并强调了一些关键的见解。</p><h1 id="ca22" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">装载包</h1><p id="8ee2" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">首先，我们需要下载相应的软件包。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="c5df" class="ln ki hh lj b fi lo lp l lq lr"><strong class="lj hi">library(dplyr)</strong> #God of all packages <br/><strong class="lj hi">library(tidyverse)</strong> #Goddess of all packages <br/><strong class="lj hi">library(genius)</strong> #lyrics<br/><strong class="lj hi">library(tidytext)</strong> #text tidying<br/><strong class="lj hi">library(extrafont)</strong> #personalizzed fonts to ggplot output<br/><strong class="lj hi">library(scales)</strong> #percentage scales in ggplot<br/><strong class="lj hi">library(widyr)</strong> #correlations between songs<br/><strong class="lj hi">library(ggraph)</strong> #network maps<br/><strong class="lj hi">library(igraph)</strong> #network analysis<br/><strong class="lj hi">library(knitr)</strong> #output formatting<br/><strong class="lj hi">library(kableExtra)</strong> #output formatting<br/><strong class="lj hi">library(wordcloud2)</strong> #word cloud visualization <br/><strong class="lj hi">library(formattable)</strong> #output formatting<br/><strong class="lj hi">library(textdata)</strong> #working with lyrics <br/><strong class="lj hi">library(ggrepel)</strong> #extra geoms for ggplot <br/><strong class="lj hi">library(yarrr)</strong> #pirate plot</span></pre><h1 id="ace7" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">下载数据</h1><p id="a484" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">借助genius-package，我们可以从阿黛尔的专辑中获得歌词。在这里，我正在使用<strong class="iy hi"> genius_album </strong>功能下载阿黛尔的一张张专辑。我们只需要给这个函数指定艺术家的名字和我们想要的专辑，它就会得到歌词。作为输出，我们得到一个tible，每个句子占一行，包含曲目标题、曲目编号和歌曲行的信息，而专辑名称必须单独添加。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="b8c0" class="ln ki hh lj b fi lo lp l lq lr">a_25 &lt;- genius_album(artist = "Adele", album = "25") %&gt;%<br/>  mutate(album = "25")<br/><br/>a_21 &lt;- genius_album(artist = "Adele", album = "21") %&gt;%<br/>  mutate(album = "21")<br/><br/>a_19 &lt;- genius_album(artist = "Adele", album = "19") %&gt;%<br/>  mutate(album = "19")</span></pre><p id="1736" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">此外，专辑“19”有歌曲的现场版本(从曲目13开始)，因此，它们需要被过滤掉，以避免相同的歌词出现两次。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f583" class="ln ki hh lj b fi lo lp l lq lr">a_19 &lt;- a_19 %&gt;%<br/>  filter (!track_n %in% c(13:22))</span></pre><p id="897e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">下载完所有东西后，我把所有专辑的歌词放在一个叫做<strong class="iy hi">的文件夹里。</strong></p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="fe86" class="ln ki hh lj b fi lo lp l lq lr">adele_data &lt;- rbind(a_25, a_21, a_19)</span></pre><p id="f662" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后，我保存数据集，因为再次下载数据可能会很耗时。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="cd1e" class="ln ki hh lj b fi lo lp l lq lr">save(adele_data, file = "adele_data.Rdata")</span></pre><h1 id="6e28" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">数据准备</h1><p id="f721" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">让我们来看看最终的数据集。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="b2f2" class="ln ki hh lj b fi lo lp l lq lr">str(adele_data)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ls"><img src="../Images/995c22cb6ad38bcb58070e02aa8be7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-PsFe3QgQk6LZjzp48GjjA.png"/></div></div></figure><p id="7243" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">到目前为止，我们有阿黛尔歌曲的927行歌词，有5列，分别是曲目编号、歌词、曲目标题和专辑。我们还可以查看表格的摘要。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="c711" class="ln ki hh lj b fi lo lp l lq lr">summary(adele_data)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ma"><img src="../Images/96908443e469b4efec3069bda1b0478c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_5pSiVpuWjJ-knfor_0zIQ.png"/></div></div></figure><p id="fbde" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在摘要中，我们可以看到一些需要删除的NA。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="539c" class="ln ki hh lj b fi lo lp l lq lr">adele_data &lt;- na.omit(adele_data)</span></pre><p id="3825" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">所以现在我们有了一个包含阿黛尔900多行歌词的表格。但是根据<strong class="iy hi">整齐的文本格式</strong>，我们需要“每行每文档一个标记”的格式，在我们的例子中是一个单词。我们可以通过tidytext 中的<strong class="iy hi"> unnest_tokens函数将歌曲转换成这种格式，这将获取我们的数据帧并逐字拆分每个句子。</strong></p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="6236" class="ln ki hh lj b fi lo lp l lq lr">adele_tok &lt;- adele_data%&gt;%<br/>  #word is the new column, lyric the column to retrieve the information from<br/>  unnest_tokens(word, lyric)</span></pre><p id="e898" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们的新数据集有<strong class="iy hi">6474个观察值</strong>，每行代表歌词中的一个单独的单词。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f7a8" class="ln ki hh lj b fi lo lp l lq lr">adele_tok %&gt;%<br/>  mutate(album = color_tile("lightblue","lightblue")(album)) %&gt;%<br/>  mutate(word = color_tile("lightgreen", "lightgreen")(word)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "Lyrics in Adele's Songs") %&gt;%<br/>  kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = FALSE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mb"><img src="../Images/0d3c6ce968689a13b8f908c12a463bec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UbL7Z2T3FK2jEqKMepc_gQ.png"/></div></div></figure><p id="f8f9" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这个输出中，我们已经可以看到许多代词、介词等。，这当然没有任何意义。这些就是所谓的<strong class="iy hi">【停用词】</strong>，可以用<strong class="iy hi">停用词字典</strong>从<strong class="iy hi"> tidytext包中轻松删除。</strong>此外，我们还可以删除少于三个字符的<strong class="iy hi">单词</strong>(常用于音乐中的语音效果)和一些手动选择的<strong class="iy hi">不需要的单词</strong>(例如“耶”)。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="fca6" class="ln ki hh lj b fi lo lp l lq lr">adele_tidy &lt;- adele_tok %&gt;%<br/>  filter(word != "lea",<br/>         word != "aye",<br/>         word != "yeah",<br/>         word != "da",<br/>         word != "after",<br/>         word != "where",<br/>         word != "were",<br/>         word != "such",<br/>         word != "from",<br/>         word != "ooh",<br/>         word != "set",<br/>         word != "lay",<br/>         word != "would've",<br/>         word != "gonna") %&gt;% <br/>  filter(!nchar(word) &lt; 3) %&gt;% <br/>  anti_join(stop_words)</span></pre><h1 id="c483" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">文本挖掘</h1><p id="ee29" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">现在歌曲已经有了整齐的格式，我们可以分析它们了。文本挖掘的目的是在词频、密度和词汇多样性的层面上从阿黛尔的歌词中发现相关的见解。</p><p id="67e1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">首先，我们可以通过歌曲来检查词频(包括停用词和不必要的词)。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="f062" class="ln ki hh lj b fi lo lp l lq lr">adele_data$album &lt;- as.factor(adele_data$album)<br/><br/>word_count &lt;- adele_data %&gt;%<br/>  unnest_tokens(word, lyric) %&gt;%<br/>  group_by(track_title,album) %&gt;%<br/>  summarise(num_words = n()) %&gt;%<br/>  arrange(desc(num_words))</span></pre><p id="7ae4" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们来看看单词量最高的歌曲。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="56c7" class="ln ki hh lj b fi lo lp l lq lr">word_count[1:10,] %&gt;%<br/>  ungroup(num_words, track_title) %&gt;%<br/>  mutate(num_words = color_bar("skyblue")(num_words)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "Songs with the Highest Word Count") %&gt;%<br/> kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = TRUE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mb"><img src="../Images/7b68f400c3d52eadc777bd8e0c0c2a74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UHnK3Dsog4fKNCUmU8A8OQ.png"/></div></div></figure><p id="fd3a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">显然，阿黛尔的歌曲《他不会走》拥有最高的字数:453个单词。据genius.com称，歌曲<a class="ae kb" href="https://genius.com/Adele-he-wont-go-lyrics#about" rel="noopener ugc nofollow" target="_blank">的灵感主要来自阿黛尔的两个朋友，他们是在她的第一张唱片《19》发行后认识的。这名男性是一名海洛因成瘾者，一直在前往康复中心的途中。这对夫妇的关系帮助这只雄性克服了毒瘾，这真的让阿黛尔很感动，她说她为他们俩感到骄傲，因为这只雄性已经“戒了毒”一年多了。</a></p><p id="0e2c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">而且我们还可以通过专辑直观的看到单词的分布。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1eb1" class="ln ki hh lj b fi lo lp l lq lr">word_count %&gt;%<br/>  ggplot() +<br/>    geom_density(aes(x = num_words, fill = album), alpha = 0.5, position = 'stack') +<br/>    ylab("Song Density") + <br/>    xlab("Word Count per Song") +<br/>    ggtitle("Word Count Distribution") +<br/>   theme_minimal()+<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), legend.position="bottom")</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mc"><img src="../Images/4934344ff340228973bc96b7478f3e6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CL8YmQl4ZBaGDhJiSH8qQg.png"/></div></div></figure><p id="133a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们可以观察到，<strong class="iy hi">字数最高的是专辑《19》</strong>，后面的专辑字数较少。</p><p id="1547" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">让我们做一个简单的计数调用，看看哪些是基于“干净”数据集的最频繁的单词。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="e6b8" class="ln ki hh lj b fi lo lp l lq lr">adele_tidy %&gt;%<br/>  count(word, sort = TRUE) %&gt;%<br/>  arrange(desc(n, .by_group = TRUE)) %&gt;%<br/>  top_n(10) %&gt;%<br/>  mutate(n = color_tile("#FFE4B5", "#FF4500")(n)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "The Most Frequent Words in Adele's Songs") %&gt;%<br/>  kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = TRUE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ma"><img src="../Images/853d1533fbd34d9403cc779360cd3f38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T9RkybwVNWDGqsCBCzLt_Q.png"/></div></div></figure><p id="0624" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">阿黛尔的歌曲中一个明显的主导是“爱”这个词(被提到118次！鉴于阿黛尔歌曲的总体特点，这也就不足为奇了。接下来常见的词是谣言(63次)、时间(33次)、心(27次)和高低(都是16次)。令人兴奋，不是吗？</p><p id="9211" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们也可以画出最常用的词。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="0b4e" class="ln ki hh lj b fi lo lp l lq lr">adele_tidy %&gt;%<br/>  count(word, sort = TRUE) %&gt;%<br/>  #filtering to get only the information we want on the plot<br/>  filter(n &gt; 13)%&gt;%<br/>ggplot(aes(x = reorder(word, n), y = n, fill = -n)) +<br/>  #Use `fill = -word_count` to make the larger bars darker<br/>  geom_col()+<br/>  geom_text(aes(label = reorder(word, n)), <br/>            hjust = 1.2,vjust = 0.3, color = "white", <br/>            size = 5)+<br/>  labs(y = "Number  of times mentioned", <br/>       x = NULL,<br/>       title = "Most Frequent Words in Adele's Lyrics")+<br/>  coord_flip()+<br/>  ylim(c(0,130))+ <br/>  theme_minimal() + <br/>  theme(plot.title = element_text( hjust = 0.5,vjust = 1, face = "bold"),<br/>        axis.text.y = element_blank(), legend.position = "none")</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es md"><img src="../Images/338f74672368a9eedd4928d0c84f7f42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OFocO53pa_7r7fBFsua22Q.png"/></div></div></figure><p id="6fef" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">再者，我们可以用阿黛尔歌曲中出现频率最高的词创建一个词云。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="99f9" class="ln ki hh lj b fi lo lp l lq lr">adele_words_counts &lt;- adele_tidy %&gt;%<br/>  count(word, sort = TRUE)</span><span id="9836" class="ln ki hh lj b fi me lp l lq lr">wordcloud2(adele_words_counts[1:50, ], size = .5)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mf"><img src="../Images/7db816b60763f22b838c12bbc1bf3357.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oWTp-IMuOA9628Nlwnpy1g.png"/></div></div></figure><p id="caf5" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">基于最常见的词，我们已经可以说阿黛尔的歌曲是忧郁的，并围绕着爱的主题。但是最常见的单词在不同专辑中的分布情况如何呢？</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="868b" class="ln ki hh lj b fi lo lp l lq lr">words_albums &lt;- adele_tidy %&gt;%<br/>  group_by(album) %&gt;%<br/>  count(word, album, sort = TRUE) %&gt;%<br/>  slice(seq_len(10)) %&gt;%<br/>  ungroup() %&gt;%<br/>  arrange(album, n) %&gt;%<br/>  mutate(row = row_number())</span><span id="dce0" class="ln ki hh lj b fi me lp l lq lr">words_albums %&gt;%<br/>  ggplot(aes(row, n, fill = album)) +<br/>    geom_col(show.legend = NULL) +<br/>    labs(x = NULL, y = "Word count") +<br/>    ggtitle("Words Across Albums") + <br/>    theme_minimal() +   <br/>    facet_wrap(~album, scales = "free") +<br/>   scale_x_continuous(  # This handles replacement of row <br/>      breaks = words_albums$row, # notice need to reuse data frame<br/>      labels = words_albums$word) +<br/>    coord_flip() +<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"))</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mg"><img src="../Images/fa233d891680b169376bc11606c77c7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZGPr-9k4v_nF7Hn2RwF5g.png"/></div></div></figure><p id="f482" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">一个有趣的事实:<strong class="iy hi">“爱”这个词在阿黛尔的最后两张专辑《21》和《25》中非常突出</strong>，而在首张专辑《19》中，它甚至没有进入前10名。</p><p id="4e54" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">最后但同样重要的是，我们可以检查每张专辑的词汇多样性，或者简单地说出每张专辑的词汇。为此，我们可以使用yarrr包中的<strong class="iy hi">盗版情节。</strong>该图是绘制连续因变量(如字数)作为分类自变量(如album)函数的高级方法。同样，在这种情况下，我们使用的是“凌乱的”数据集，包含所有的停顿和短词。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="2b37" class="ln ki hh lj b fi lo lp l lq lr">word_summary &lt;- adele_tok %&gt;%<br/>  group_by(album, track_title) %&gt;%<br/>  mutate(word_count = n_distinct(word)) %&gt;%<br/>  select(track_title, word_count) %&gt;%<br/>  distinct() %&gt;% #To obtain one record per song<br/>  ungroup()</span><span id="efda" class="ln ki hh lj b fi me lp l lq lr"><strong class="lj hi">pirateplot</strong>(formula = word_count ~ album, <br/>             data = word_summary, #Data frame<br/>   xlab = "Album", ylab = "Song Distinct Word Count", #Axis labels<br/>   main = "Lexical Diversity Per Album", #Plot title<br/>   pal = "google", #Color scheme<br/>   point.o = .6, #Points<br/>   avg.line.o = 1, #Turn on the Average/Mean line<br/>   theme = 0, #Theme<br/>   point.pch = 16, #Point `pch` type<br/>   point.cex = 1.5, #Point size<br/>   jitter.val = .1, #Turn on jitter to see the songs better<br/>   cex.lab = .9, cex.names = .7) #Axis label size</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mh"><img src="../Images/5a1f25c6da79a63040af51c6322c8162.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6HYex0Ax-xAWtHBizAPswg.png"/></div></div></figure><p id="8361" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这个海盗情节中的每个彩色圆圈代表一首歌。在第二和第三张专辑中，每首歌曲的平均独特字数略有下降，然而，<strong class="iy hi">总体而言，专辑的词汇多样性似乎几乎处于同一水平。</strong></p><h2 id="524d" class="ln ki hh bd kj mi mj mk kn ml mm mn kr jf mo mp kt jj mq mr kv jn ms mt kx mu bi translated">术语频率-逆文档频率(TD-IDF)</h2><p id="2f11" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">到目前为止，我们已经查看了整个数据集，但没有分析歌词中某些词的重要性。衡量一个单词重要性的方法之一是它的<strong class="iy hi">术语频率(tf) </strong>，即一个单词在文档中出现的频率。另一种方法是查看<strong class="iy hi">术语的反向文档频率(idf) </strong>，这降低了常用单词的权重，增加了文档集中不常使用的单词的权重。这可以与术语频率相结合来计算术语的TF-IDF(两个量相乘在一起)，术语的频率根据其使用频率进行调整。为此，我们首先需要计算每个相册中每个单词的<strong class="iy hi"> tf、idf和tf_idf度量</strong>。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="4ca5" class="ln ki hh lj b fi lo lp l lq lr">tfidf_words &lt;- adele_tidy%&gt;%<br/>  count(album, word, sort = TRUE) %&gt;%<br/>  ungroup() %&gt;%<br/>  bind_tf_idf(word, album, n)</span><span id="4798" class="ln ki hh lj b fi me lp l lq lr">tfidf_words [1:12,] %&gt;%<br/>  mutate(tf = color_tile("#FFA07A", "#FF0000")(tf)) %&gt;%<br/>  mutate(idf = color_tile("#98FB98", "#32CD32")(idf)) %&gt;%<br/>  mutate(tf_idf = color_tile("#E0FFFF", "#00BFFF")(tf_idf)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "Term Frequency-Inverse Document Frequency in Adele's Songs") %&gt;%<br/>  kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = FALSE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mv"><img src="../Images/695ecb4d7e9a32318f9fed9d7d96e293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kFkw-yM6QIm9_lEEnSjuGg.png"/></div></div></figure><p id="cb8f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">不过，“爱”和“谣言”这两个词似乎有很高的TF-ID指标。</strong>那么让我们选出每张专辑最重要的10个单词…</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="75bb" class="ln ki hh lj b fi lo lp l lq lr">top_tfidf_words_album &lt;- tfidf_words %&gt;% <br/>  group_by(album) %&gt;% <br/>  slice(seq_len(10)) %&gt;%<br/>  ungroup() %&gt;%<br/>  arrange(album, tf_idf) %&gt;%<br/>  mutate(row = row_number())</span></pre><p id="404b" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">…我们也可以设计它们。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="7d72" class="ln ki hh lj b fi lo lp l lq lr">top_tfidf_words_album %&gt;%<br/>  ggplot(aes(x = row, tf_idf, fill = album)) +<br/>  geom_col(show.legend = NULL) +<br/>  labs(x = NULL, y = "TF-IDF") + <br/>  ggtitle("Important Words using TF-IDF by Album") +<br/>  theme_minimal() +  <br/>  facet_wrap(~album,<br/>             scales = "free") +<br/>  scale_x_continuous(  # this handles replacement of row <br/>    breaks = top_tfidf_words_album$row, # notice need to reuse data frame<br/>    labels = top_tfidf_words_album$word) +<br/>  coord_flip() +<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"))</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mw"><img src="../Images/ec290cafee309bdb7940e899447dd2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Szz5GRk83va0GOA_jOpAsQ.png"/></div></div></figure><p id="2375" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">根据TD-IDF方法，专辑《19》中最重要的词是<strong class="iy hi">“累了”</strong>，而专辑《21》和《25》中最重要的词分别是<strong class="iy hi">“谣言”</strong>和<strong class="iy hi">“爱”</strong>。从“疲倦”到“谣言”,再到一些“爱”……多好的组合啊！</p><h1 id="6198" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">情绪分析</h1><p id="6034" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">现在我们用r深入分析阿黛尔的歌曲内容。一个有趣的技巧是情感分析。情感分析是一种文本挖掘，用来识别文本内容的整体“情绪”，就歌词而言，它可以揭示艺术家的态度，甚至文化影响。R中的情感分析可以通过<strong class="iy hi"> tidytext package </strong>及其不同的情感词汇进行。三个通用词汇是:</p><ul class=""><li id="2c6e" class="js jt hh iy b iz ja jc jd jf ju jj jv jn jw jr jx jy jz ka bi translated">Finn RUP Nielsen的AFINN</li><li id="0734" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">李冰来自刘冰及其合作者；</li><li id="66c7" class="js jt hh iy b iz kc jc kd jf ke jj kf jn kg jr jx jy jz ka bi translated">来自赛义夫·穆罕默德和彼得·特尼的NRC。</li></ul><blockquote class="mx my mz"><p id="d5e5" class="iw ix na iy b iz ja ii jb jc jd il je nb jg jh ji nc jk jl jm nd jo jp jq jr ha bi translated">所有这三个词汇都基于单个单词。</p></blockquote><h2 id="bfa0" class="ln ki hh bd kj mi mj mk kn ml mm mn kr jf mo mp kt jj mq mr kv jn ms mt kx mu bi translated">冰情</h2><p id="164e" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">必应词典以二元方式将单词分为积极和消极两类。让我们先比较一下阿黛尔歌曲的积极和消极。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="e374" class="ln ki hh lj b fi lo lp l lq lr">adele_bing_plot &lt;- adele_tidy %&gt;%<br/>  inner_join(get_sentiments("bing"))<br/><br/>bing_plot &lt;- adele_bing_plot %&gt;%<br/>  group_by(sentiment) %&gt;%<br/>  summarise(word_count = n()) %&gt;%<br/>  ungroup() %&gt;%<br/>  mutate(sentiment = reorder(sentiment, word_count)) %&gt;%<br/>  ggplot(aes(sentiment, word_count, fill = sentiment)) +<br/>  geom_col() +<br/>  guides(fill = FALSE) +<br/>  labs(x = NULL, y = "Word Count") +<br/>  ggtitle("Adele Bing Sentiment") +<br/>  coord_flip() +<br/>  theme_minimal()+<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), legend.position="bottom")</span><span id="f6ab" class="ln ki hh lj b fi me lp l lq lr">bing_plot</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ne"><img src="../Images/ca56ab116fe41f72e268738a5372e1ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*opeSsD8o3BZQrYVREiYrPA.png"/></div></div></figure><p id="45ad" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这里我们可以看到，根据bing方法，<strong class="iy hi">阿黛尔的歌曲是消极的略多于积极的。</strong></p><p id="bc91" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这一部分，我将通过计算积极情绪和消极情绪之间的差异，来计算阿黛尔每首歌中积极情绪和消极情绪的总量。首先，我将执行一个与所选词典的内部连接，这将添加一个列来指定一个单词是否具有与之相关的积极或消极情绪。然后，我用计数呼叫来计算一首歌中出现的正面和负面单词的总数。最后，我进行一些基本的数据争论来创建一个期望的表。更多关于<strong class="iy hi"> tidytext包</strong>及其功能的信息，请咨询<a class="ae kb" href="https://www.tidytextmining.com/sentiment.html" rel="noopener ugc nofollow" target="_blank">本教程</a>，强烈推荐！</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="de42" class="ln ki hh lj b fi lo lp l lq lr">adele_bing&lt;- adele_tidy%&gt;%<br/>  inner_join(get_sentiments("bing"))%&gt;% <br/>  count(album, track_title, sentiment) %&gt;%<br/>  spread(sentiment, n, fill = 0) %&gt;%<br/>  mutate(sentiment = positive - negative)</span><span id="40f9" class="ln ki hh lj b fi me lp l lq lr">adele_bing [1:10,] %&gt;%<br/>  mutate(negative = color_tile("#FFA07A", "#FF0000")(negative)) %&gt;%<br/>  mutate(positive = color_tile("#98FB98", "#32CD32")(positive)) %&gt;%<br/>  mutate(sentiment = color_tile("#E0FFFF", "#00BFFF")(sentiment)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "Bing Sentiment of Adele's Songs") %&gt;%<br/>  kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = TRUE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mv"><img src="../Images/d1ae1cd2235179e60ebc62669c983f1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PK-LLhAq--UvSKAZnlIPXw.png"/></div></div></figure><p id="87e1" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在，我们可以根据bing词典绘制不同专辑和曲目的情感。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="996c" class="ln ki hh lj b fi lo lp l lq lr">adele_bing%&gt;%<br/>  ggplot(aes(reorder(track_title, sentiment), sentiment, fill = album)) +<br/>  geom_col(show.legend = TRUE) + <br/>  scale_fill_manual(values = c("#D8BFD8", "#FFD700", "#AFEEEE"))+<br/>  labs(x = NULL,<br/>       y = "Sentiment",<br/>       title = "Adele's Songs Ranked by Bing Sentiment")+<br/>  theme_minimal()+<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), legend.position="bottom")+<br/>  coord_flip()</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es nf"><img src="../Images/2e5458847a8675875faa503b38dce4d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cBaoqUOjytZRgktumm5gbQ.png"/></div></div></figure><p id="149d" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">配合剧情<strong class="iy hi">最正面的歌曲是《25》专辑中的《你为什么爱我》。这首歌的确有非常积极的基调。与其他专辑相比，专辑“21”有许多负面歌曲，这是有道理的，因为这张专辑是在艰难分手后创作的，象征着原谅和心碎。</strong></p><h2 id="89d6" class="ln ki hh bd kj mi mj mk kn ml mm mn kr jf mo mp kt jj mq mr kv jn ms mt kx mu bi translated">NRC情绪</h2><p id="2827" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">NRC情绪词典是一个英语单词列表，列出了八种基本情绪(愤怒、恐惧、期待、信任、惊讶、悲伤、快乐和厌恶)和两种情绪(消极和积极)。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="10fe" class="ln ki hh lj b fi lo lp l lq lr">adele_nrc &lt;- adele_tidy %&gt;%<br/>  inner_join(get_sentiments("nrc"))</span></pre><p id="9c7c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">根据NRC的方法，现在我们可以看到阿黛尔的更多歌词是积极的还是消极的。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="d904" class="ln ki hh lj b fi lo lp l lq lr">nrc_plot &lt;- adele_nrc %&gt;%<br/>  group_by(sentiment) %&gt;%<br/>  summarise(word_count = n()) %&gt;%<br/>  ungroup() %&gt;%<br/>  mutate(sentiment = reorder(sentiment, word_count)) %&gt;%<br/>  #Use `fill = -word_count` to make the larger bars darker<br/>  ggplot(aes(sentiment, word_count, fill = -word_count)) +<br/>  geom_col() +<br/>  geom_text(aes(label = word_count), <br/>            hjust = 1.3,vjust = 0.5, color = "white", <br/>            size = 4)+<br/>  labs(x = NULL, y = "Word Count") +<br/>  ggtitle("Adele NRC Sentiment") +<br/>  coord_flip() +<br/>  theme_minimal()+<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), legend.position="bottom")</span><span id="003d" class="ln ki hh lj b fi me lp l lq lr">nrc_plot + guides(fill=FALSE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ng"><img src="../Images/ad0ee2e7533d36e01d534e7f848b2424.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4UJX8u9z9RpVxpjoPy8efg.png"/></div></div></figure><p id="56fd" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">与bing方法相反，这里正面情绪压倒负面情绪</strong>，但是，必须记住，除了正面/负面情绪，还存在其他可能被归类为“正面”或“负面”的类别，例如，“快乐”或“悲伤”。</p><p id="f451" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在我们可以继续分析由NRC词典确定的属于不同情感的单词。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="df8a" class="ln ki hh lj b fi lo lp l lq lr">plot_words &lt;- adele_nrc %&gt;%<br/>  group_by(sentiment) %&gt;%<br/>  count(word, sort = TRUE) %&gt;%<br/>  arrange(desc(n)) %&gt;%<br/>  slice(seq_len(8)) %&gt;% #consider top_n() from dplyr also<br/>  ungroup()</span></pre><p id="012a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">对于可视化，<a class="ae kb" href="https://www.datacamp.com/community/tutorials/sentiment-analysis-R" rel="noopener ugc nofollow" target="_blank">可以创建一个特殊主题。</a></p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="bbbc" class="ln ki hh lj b fi lo lp l lq lr">theme_lyrics &lt;- function(aticks = element_blank(),<br/>                         pgminor = element_blank(),<br/>                         lt = element_blank(),<br/>                         lp = "none")<br/>{<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), #Center the title<br/>        axis.ticks = aticks, #Set axis ticks to on or off<br/>        panel.grid.minor = pgminor, #Turn the minor grid lines on or off<br/>        legend.title = lt, #Turn the legend title on or off<br/>        legend.position = lp) #Turn the legend on or off<br/>}</span></pre><p id="6dbe" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在我们可以想象单词本身。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="59ed" class="ln ki hh lj b fi lo lp l lq lr">plot_words %&gt;%<br/>  #Set `y = 1` to just plot one variable and use word as the label<br/>  ggplot(aes(word, 1, label = word, fill = sentiment)) +<br/>  #You want the words, not the points<br/>  geom_point(color = "transparent") +<br/>  #Make sure the labels don't overlap<br/>  geom_label_repel(force = 1,nudge_y = .5,  <br/>                   direction = "y",<br/>                   box.padding = 0.04,<br/>                   segment.color = "transparent",<br/>                   size = 3) +<br/>  facet_grid(~sentiment) +<br/>  theme_lyrics() +<br/>  theme(axis.text.y = element_blank(), axis.text.x = element_blank(),<br/>        axis.title.x = element_text(size = 6),<br/>        panel.grid = element_blank(), panel.background = element_blank(),<br/>        panel.border = element_rect("lightgray", fill = NA),<br/>        strip.text.x = element_text(size = 9)) +<br/>  xlab(NULL) + ylab(NULL) +<br/>  ggtitle("Adele NRC Sentiment") +<br/>  coord_flip()</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es nh"><img src="../Images/e2e106c4bb81b1375d9f47f33ae5c546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ui_qOmp9FyXxHt74vaTmbg.png"/></div></div></figure><p id="9a23" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">从情节上可以看出，将单词分配到预定义的情感中绝对有意义。<strong class="iy hi">有些词，比如“终于”、“真”、“上帝”，同时以不同的情绪展现。</strong>有趣的是，“男孩”这个词被归类为“消极”和“厌恶”。NRC肯定知道些什么！</p><h2 id="50db" class="ln ki hh bd kj mi mj mk kn ml mm mn kr jf mo mp kt jj mq mr kv jn ms mt kx mu bi translated">狂热的情绪</h2><p id="6a47" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">AFINN词典给单词打分在-5到5之间，负分表示消极情绪，正分表示积极情绪。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="5018" class="ln ki hh lj b fi lo lp l lq lr">adele_afinn &lt;- adele_tidy %&gt;%<br/>  inner_join(get_sentiments("afinn")) %&gt;%<br/>  group_by(album, track_title) %&gt;%<br/>  summarize(mean = mean(value, na.rm=TRUE))</span></pre><p id="c66f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">现在让我们想象一下。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="df86" class="ln ki hh lj b fi lo lp l lq lr">adele_afinn%&gt;%<br/>  ggplot(aes(reorder(track_title, mean), mean, fill = album)) +<br/>  geom_col(show.legend = TRUE) + <br/>  scale_fill_manual(values = c("#D8BFD8", "#FFD700", "#AFEEEE"))+<br/>  labs(x = NULL,<br/>       y = "Sentiment",<br/>       title = "Adele's Songs Ranked by AFINN Sentiment")+<br/>  theme_minimal()+<br/>  theme(plot.title = element_text(hjust = 0.5,vjust = 1, face = "bold"), legend.position="bottom")+<br/>  coord_flip()</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es nf"><img src="../Images/06fad61d592f5a1fd90a2af4d0cb98dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7VEsZjsHWhU32rZyGeCxQ.png"/></div></div></figure><p id="3584" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">根据AFINN lexicon，<strong class="iy hi">最积极的阿黛尔的歌曲是专辑《25》中的《放下我》，而最消极的是《为你疯狂》和《19》中的《累了》。</strong>在这里，专辑“25”中的歌曲被归类为积极的，尽管该专辑主要是关于遗憾和失去的时间。<a class="ae kb" href="https://phoenixsound.co.uk/products/adele-25-lp" rel="noopener ugc nofollow" target="_blank">阿黛尔说:“我的上一张唱片是分手唱片，如果非要给这张唱片贴上标签，我会称之为和好唱片。弥补失去的时间。弥补我做过和没做过的一切。25岁是为了在不知不觉中了解自己变成了什么样的人。我很抱歉花了这么长时间，但是，你知道，生活发生了。”</a></p><h2 id="6b88" class="ln ki hh bd kj mi mj mk kn ml mm mn kr jf mo mp kt jj mq mr kv jn ms mt kx mu bi translated">词汇的比较</h2><p id="6c48" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">最后，我们来比较一下这三个词典，以及它们是如何定义情绪的。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="4bd1" class="ln ki hh lj b fi lo lp l lq lr">afinn &lt;- adele_tidy %&gt;% <br/>  inner_join(get_sentiments("afinn")) %&gt;% <br/>  group_by(index = line) %&gt;% <br/>  summarise(sentiment = sum(value)) %&gt;% <br/>  mutate(method = "AFINN")</span><span id="1e2b" class="ln ki hh lj b fi me lp l lq lr">bing_and_nrc &lt;- bind_rows(<br/>  adele_tidy %&gt;% <br/>    inner_join(get_sentiments("bing")) %&gt;%<br/>    mutate(method = "Bing et al."),<br/>  adele_tok %&gt;% <br/>    inner_join(get_sentiments("nrc") %&gt;% <br/>                 filter(sentiment %in% c("positive", <br/>                                         "negative"))<br/>    ) %&gt;%<br/>    mutate(method = "NRC")) %&gt;%<br/>  count(method, index = line, sentiment) %&gt;%<br/>  spread(sentiment, n, fill = 0) %&gt;%<br/>  mutate(sentiment = positive - negative)</span></pre><p id="925f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">我们现在有了对每个情感词典的每一行歌曲中的净情感(正面-负面)的估计。让我们把它们捆绑起来，并把它们形象化。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="afed" class="ln ki hh lj b fi lo lp l lq lr">bind_rows(afinn, <br/>          bing_and_nrc) %&gt;%<br/>  ggplot(aes(index, sentiment, fill = method)) +<br/>  geom_col(show.legend = FALSE) +<br/>  facet_wrap(~method, ncol = 1, scales = "free_y") + <br/>  labs(x = "Index",<br/>       y = "Sentiment") + <br/>  theme_bw()</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es ni"><img src="../Images/5382a7b92a7720737a03bb8ca52eefdf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-B33nN7jHX_kKW03LP3sWQ.png"/></div></div></figure><p id="5fc6" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">用于计算情感的三种词汇产生了不同的绝对结果，然而在阿黛尔的歌曲中却有着相似的轨迹。我们确实可以在歌曲的相同地方观察到相似的情绪低谷和高峰。AFINN词典绝对值最大，正值高。Bing等人的词典具有较低的绝对值。NRC结果相对于其他两个结果偏移得更高，更积极地标记文本，但在文本中检测到类似的相对变化。</p><h1 id="48b2" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">歌曲网络</h1><p id="5e3e" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">在我们后面很远的地方！到目前为止，我们已经下载了歌词，整理了数据，进行了基本的文本挖掘，并通过不同的方法分析了阿黛尔歌曲的情感。现在我们可以检查一下阿黛尔的歌曲在歌词方面是如何相互关联的。为此，我们将采用网络分析法。<a class="ae kb" href="https://www.sciencedirect.com/topics/social-sciences/network-analysis" rel="noopener ugc nofollow" target="_blank">网络分析是一套综合技术，用于描述行动者之间的关系，并分析这些关系循环出现的社会结构。</a></p><p id="0ad8" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">首先，我们需要检查歌曲的成对相关性。</p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="1ee0" class="ln ki hh lj b fi lo lp l lq lr">adele_cor &lt;- adele_tidy %&gt;%<br/>  pairwise_cor(track_title, word, sort = TRUE)</span><span id="310b" class="ln ki hh lj b fi me lp l lq lr">adele_cor %&gt;%<br/>  arrange(desc(correlation, .by_group = TRUE)) %&gt;%<br/>  top_n(10) %&gt;%<br/>  mutate(correlation = color_tile("lightgreen", "skyblue")(correlation)) %&gt;%<br/>  kable("html", escape = FALSE, align = "c", caption = "Correlation between Adele's Songs") %&gt;%<br/>  kable_styling(bootstrap_options = <br/>                  c("striped", "condensed", "bordered"), <br/>                  full_width = TRUE)</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es mb"><img src="../Images/c9cff00670e8283d7e81761ebae8f673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vB5V5iuhUwYCw9LCsFy6vQ.png"/></div></div></figure><p id="fa9e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">这么多的关联，会很难出好看的剧情。因此，首先我们需要过滤掉相关性，例如，让我们只留下那些相关性高于0.1的歌曲对。<em class="na">快速提示:每次运行该函数时，R可能会产生不同的图，因此，建议首先设置一个种子。</em></p><pre class="le lf lg lh fd li lj lk ll aw lm bi"><span id="7e13" class="ln ki hh lj b fi lo lp l lq lr">set.seed(123)</span><span id="9917" class="ln ki hh lj b fi me lp l lq lr">adele_cor %&gt;%<br/>  filter(correlation &gt; .1) %&gt;%<br/>  graph_from_data_frame() %&gt;%<br/>  ggraph(layout = "fr") +<br/>  geom_edge_link( show.legend = FALSE, aes(edge_alpha = correlation)) +<br/>  geom_node_point(color = "#BA55D3", size = 5) +<br/>  geom_node_text(aes(label = name), repel = TRUE, size = 3.5, color = "black") +<br/>  theme_void()</span></pre><figure class="le lf lg lh fd lt er es paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="er es nj"><img src="../Images/61b7137f0219661da597f66236f129ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ehADtaSy81iHOvhtQspCVA.png"/></div></div></figure><p id="3bf3" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这里我们可以看到，阿黛尔的歌曲在歌词方面没有那么紧密的联系，这意味着阿黛尔的歌曲的确是独一无二的，她不会重复自己。《我找到了一个男孩》和《放火烧雨》和网络其余部分根本没有联系。</p><h1 id="90d3" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">关键见解</h1><p id="4509" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">总而言之，以上对阿黛尔专辑的分析无疑提供了许多值得思考的东西。<strong class="iy hi">以下是一些发现的摘要。</strong></p><p id="aa0a" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">1.阿黛尔的《他不会走》(专辑《21》)字数最高:453字。</p><p id="8344" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">2.专辑《25》的词密度最高。</p><p id="a68e" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">3.阿黛尔歌曲中出现频率最高的词是“爱”(118次)，其次是“谣言”(63次)和“时间”(33次)。</p><p id="21e9" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">4.在专辑《19》中最常用的词是“累”，而在专辑《21》和《25》中分别是“谣言”和“爱”。</p><p id="ea9c" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">5.所有三张专辑的词汇多样性水平几乎相同(歌词中独特词的比例)。</p><p id="d4cb" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">6.根据TD-IDF方法，每张专辑最重要的词仍然是“累”(专辑“19”)、“谣言”(专辑“21”)和“爱”(专辑“25”)。</p><p id="de3f" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">7.对于情感分析，使用了三种不同的词汇。根据必应词典，阿黛尔的歌曲稍微消极一些，与阿芬方法相反。根据美国国家研究委员会的情感分析，阿黛尔歌曲中的许多词被归类为“积极”、“快乐”、“消极”和“期待”情感。</p><p id="58cd" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">8.情感分析方法显示了一些相似性，然而，正面和负面情感的分布略有不同。</p><p id="4fe4" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">9.基于网络分析方法，阿黛尔的歌曲在歌词方面没有那么紧密地联系在一起。</p><h1 id="9d63" class="kh ki hh bd kj kk kl km kn ko kp kq kr in ks io kt iq ku ir kv it kw iu kx ky bi translated">用于进一步分析的有用链接</h1><p id="2176" class="pw-post-body-paragraph iw ix hh iy b iz kz ii jb jc la il je jf lb jh ji jj lc jl jm jn ld jp jq jr ha bi translated">当然，以上分析并没有呈现歌词分析的方方面面。对于进一步的研究，Spotify功能的集成将是相关的。此外，这里有几个链接，人们可以从中找到进一步工作的灵感和想法:<br/><a class="ae kb" href="https://www.datacamp.com/community/tutorials/sentiment-analysis-R" rel="noopener ugc nofollow" target="_blank">https://www . data camp . com/community/tutorials/情操分析-R</a><br/><a class="ae kb" href="https://www.tidytextmining.com/index.html" rel="noopener ugc nofollow" target="_blank">https://www.tidytextmining.com/index.html</a><br/><a class="ae kb" href="https://uc-r.github.io/sentiment_analysis" rel="noopener ugc nofollow" target="_blank">https://uc-r.github.io/sentiment_analysis</a></p><p id="8479" class="pw-post-body-paragraph iw ix hh iy b iz ja ii jb jc jd il je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><strong class="iy hi">综上所述，阿黛尔歌曲的歌词远远超越了数字和统计，它们简直是永恒的！</strong></p></div></div>    
</body>
</html>