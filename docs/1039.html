<html>
<head>
<title>Applications of Ramer-Douglas-Peucker Algorithm in Machine Learning That You Might Not Have Heard of.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Ramer-Douglas-Peucker算法在你可能没听说过的机器学习中的应用。</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/applications-of-ramer-douglas-peucker-algorithm-in-machine-learning-that-you-might-not-have-heard-63b0c4f15a43?source=collection_archive---------0-----------------------#2021-09-20">https://medium.com/mlearning-ai/applications-of-ramer-douglas-peucker-algorithm-in-machine-learning-that-you-might-not-have-heard-63b0c4f15a43?source=collection_archive---------0-----------------------#2021-09-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="6ebf" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">介绍</h1><p id="1b34" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">Ramer-Douglas-Peucker算法，又称<strong class="je hi">Douglas–peu cker算法</strong>和<strong class="je hi">迭代端点拟合算法，</strong>是一种制图/线综合算法。它基本上减少了曲线/直线中的点的数量，而不损失曲线/直线的形状，基于一些公差参数‘ε’(ε)。这有广泛的应用，从机器人到矢量图形。这与GPS和地图应用中用于航路点简化的算法相同。虽然现在已经有了相当大的改进，并且使用了新的东西，但是这已经超出了本文的范围。</p><h1 id="ced5" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">RDP和机器学习</h1><p id="b6a4" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这种算法在制图综合领域非常流行，但是它的潜力已经被ML社区回避太久了。这就是为什么我决定写这篇文章来展示这个算法在需要有限的坐标/点的应用中是多么有用。因此，主要是它的应用可以在物联网行业中看到，由于资源(计算和内存)有限，我们只能向设备发送有限的数据。然后，我们将看到这也可以用来平滑时间序列数据，而不会丢失太多的信息。但是它也有许多其他的应用。我会在最后提到他们所有人。</p><h1 id="3683" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">RDP算法是如何工作的？</h1><p id="a49e" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这里简单介绍一下算法本身。这是一个简单的迭代算法。它首先绘制一条连接曲线的第一个和最后一个点的线，然后检查这两个点之间哪个点离线最远(它使用“垂直距离”来计算点到线的距离)。如果该点比阈值(ε)更近，则该点被移除，如果不是，则曲线被分成两部分:</p><ol class=""><li id="b852" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">从第一个点一直到异常值，包括异常值。</li><li id="2039" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">异常值和剩余点。</li></ol><p id="b9a0" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">这在两条曲线上递归地进行，直到具有低阈值的所有点都被移除。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es kt"><img src="../Images/acae1ebba506cdf12dfaf86eb09a741a.png" data-original-src="https://miro.medium.com/v2/resize:fit:944/1*qkAXc7fJGy2EYteTq0ywZg.gif"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Source: <a class="ae lf" href="https://karthaus.nl/rdp/" rel="noopener ugc nofollow" target="_blank">https://karthaus.nl/rdp/</a></figcaption></figure><h2 id="4ea9" class="lg if hh bd ig lh li lj ik lk ll lm io jn ln lo is jr lp lq iw jv lr ls ja lt bi translated">来自维基百科的伪代码:</h2><pre class="ku kv kw kx fd lu lv lw lx aw ly bi"><span id="5cd3" class="lg if hh lv b fi lz ma l mb mc"><strong class="lv hi">function</strong> DouglasPeucker(PointList[], epsilon)<br/>    // Find the point with the maximum distance<br/>    dmax = 0<br/>    index = 0<br/>    end = length(PointList)<br/>    <strong class="lv hi">for</strong> i = 2 to (end - 1) {<br/>        d = perpendicularDistance(PointList[i], Line(PointList[1], PointList[end])) <br/>        <strong class="lv hi">if</strong> (d &gt; dmax) {<br/>            index = i<br/>            dmax = d<br/>        }<br/>    }<br/>    <br/>    ResultList[] = empty;<br/>    <br/>    // If max distance is greater than epsilon, recursively simplify<br/>    <strong class="lv hi">if</strong> (dmax &gt; epsilon) {<br/>        // Recursive call<br/>        recResults1[] = DouglasPeucker(PointList[1...index], epsilon)<br/>        recResults2[] = DouglasPeucker(PointList[index...end], epsilon)<br/><br/>        // Build the result list<br/>        ResultList[] = {recResults1[1...length(recResults1) - 1], recResults2[1...length(recResults2)]}<br/>    } <strong class="lv hi">else</strong> {<br/>        ResultList[] = {PointList[1], PointList[end]}<br/>    }<br/>    // Return the result<br/>    <strong class="lv hi">return</strong> ResultList[]<br/><strong class="lv hi">end</strong></span></pre><h2 id="0115" class="lg if hh bd ig lh li lj ik lk ll lm io jn ln lo is jr lp lq iw jv lr ls ja lt bi translated">粗略的实现:</h2><figure class="ku kv kw kx fd ky"><div class="bz dy l di"><div class="md me l"/></div></figure><h1 id="f5a8" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">RDP在实际机器学习中的应用</h1><p id="3b85" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">在现实世界的使用案例中有许多场景，您只能将“n”个点或坐标部署到一个设备，无论是因为低计算、内存还是带宽。对于需要根据一些数字来计算东西的物联网设备来说尤其如此。近年来，带ML的物联网越来越流行，主要障碍是小型控制器/设备可以保存的数据。</p><p id="4ba5" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">例如，基于ML的传感器校准系统无法在其低内存中存储训练好的模型，但您可以将模型的坐标发送给它，它可以基于线性插值或任何其他首选技术进行预测。在这种情况下，发送大量的坐标是对资源的浪费，这就是RDP的用武之地，它平滑了曲线/直线而又不失去它的形状。</p><p id="c46a" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">我们在这里举一个小例子，用一个小的合成坐标集。</p><pre class="ku kv kw kx fd lu lv lw lx aw ly bi"><span id="7074" class="lg if hh lv b fi lz ma l mb mc">coords = [<br/>          [0.0, 0.0],[3.0, 8.0],[5.0, 2.0],<br/>          [5.0, 4.0],[6.0, 20.0],[6.4, 15.5],<br/>          [7.0, 25.0],[9.1, 16.9],[10.0, 10.0],<br/>          [11.0, 5.5], [17.3, 3.2], [27.8, 0.1]<br/>         ]</span></pre><p id="7a6a" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">在应用ε为1的RDP前后看起来是这样的。</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es mf"><img src="../Images/7e724168105c4f38798b25befb970362.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*cp3mP6YKeckkVaAK8RRi9g.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Plot of original Coordinates</figcaption></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es mf"><img src="../Images/e1a2b7a30339599f371e6b6acdeaa0d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*7iIZh1LmLEchnwnzuJE5aQ.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Plot of reduced coordinates</figcaption></figure><p id="cb5e" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">下面是曲线相似程度的比较:</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/9ac178e996f77eb708154daf066d5f0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qYgAjroNOGBZrQK2BCy57Q.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Comparison on How close the Curves are in terms of its shape.</figcaption></figure><p id="20f9" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">简化的坐标:</p><pre class="ku kv kw kx fd lu lv lw lx aw ly bi"><span id="de92" class="lg if hh lv b fi lz ma l mb mc">coords = [<br/>          [0.0, 0.0],[3.0, 8.0],[5.0, 2.0],<br/>          [7.0, 25.0],[11.0, 5.5],[27.8, 0.1]<br/>         ]</span></pre><p id="6a25" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">再举一个<strong class="je hi">时间序列</strong>数据的例子:</p><p id="8dd3" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">我们将使用洗发水销售数据，你可以在这里下载:<a class="ae lf" href="https://raw.githubusercontent.com/jbrownlee/Datasets/master/shampoo.csv" rel="noopener ugc nofollow" target="_blank">数据</a></p><p id="9d02" class="pw-post-body-paragraph jc jd hh je b jf kc jh ji jj kd jl jm jn kq jp jq jr kr jt ju jv ks jx jy jz ha bi translated">让我们看看类似于上面比较的图。这里ε值是1.5</p><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es mf"><img src="../Images/59a1029bffb5360702f66cee6b7cd88f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*OSxwSUDRIySPRmkhw7IZWQ.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Original Time series Data</figcaption></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div class="er es mf"><img src="../Images/03647b27c242743bbb3773429a256412.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*bgUdmmOnCV2MajgPGr1ASQ.png"/></div><figcaption class="lb lc et er es ld le bd b be z dx">Smoothed Time series data</figcaption></figure><figure class="ku kv kw kx fd ky er es paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="er es mg"><img src="../Images/0724c1ff7f55e5579344cf1f12578fff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qNW2XOSjJx9vUT7g_xiLWw.png"/></div></div><figcaption class="lb lc et er es ld le bd b be z dx">Side by Side Comparison</figcaption></figure><h1 id="a8a6" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">其他应用</h1><p id="7846" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">这种算法的应用还有很多，这也催生了这个领域更多成功的算法。下面列出了其中的一些，包括我们用代码展示的那些:</p><ol class=""><li id="5cb1" class="ka kb hh je b jf kc jj kd jn ke jr kf jv kg jz kh ki kj kk bi translated">处理矢量图形。</li><li id="bd7d" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">制图综合/航路点简化。</li><li id="0fe8" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">用于机器人技术中，对旋转距离扫描仪采集的距离数据进行简化和去噪。</li><li id="45b2" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">平滑时间序列数据(汇总)，主要是在金融技术用例中，这比<strong class="je hi">宁滨</strong>表现更好。</li><li id="b797" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">这也可用于找到图形或曲线的转折点。给定足够的ε。</li><li id="4242" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk bi translated">为了可视化的目的，在降维之后简化坐标的绘制。(如果坐标有很多边，就太麻烦了，没有任何意义)。</li></ol><h1 id="c15d" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated"><strong class="ak">结论</strong></h1><p id="8beb" class="pw-post-body-paragraph jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ha bi translated">我想说的是，这是机器学习中非常容易被忽视的算法，它在现实世界中有很好的用途。我最近开始了解它，它在我的用例中帮助了我很多。想把它放在那里给那些可能不知道它的人。虽然这很好，但它有几个缺点，这导致了更好算法的发现。此外，找到最短的距离可能会比找到垂直距离得到更好的结果(这也是我们在代码中所做的)。如果你喜欢这篇文章，并有任何疑问或事情要分享，请在下面的评论中联系我。</p><h1 id="03f3" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">参考</h1><ul class=""><li id="55ae" class="ka kb hh je b jf jg jj jk jn ml jr mm jv mn jz mo ki kj kk bi translated"><a class="ae lf" href="https://en.wikipedia.org/wiki/Ramer%E2%80%93Douglas%E2%80%93Peucker_algorithm" rel="noopener ugc nofollow" target="_blank">维基百科</a></li><li id="caff" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz mo ki kj kk bi translated"><a class="ae lf" href="https://www.sciencedirect.com/science/article/pii/S0146664X72800170?via%3Dihub" rel="noopener ugc nofollow" target="_blank"> Urs Ramer: <em class="mp">平面曲线多边形逼近的迭代程序。计算机图形和图像处理。第1卷，第3期，第244–256页</em>，1972年</a></li><li id="247f" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz mo ki kj kk bi translated">大卫·道格拉斯，托马斯·普克:<em class="mp">减少表示一条数字化线或其漫画所需点数的算法。国际地理信息和地理可视化杂志。第10卷，第2期，第112-122页</em>，1973年</li><li id="1205" class="ka kb hh je b jf kl jj km jn kn jr ko jv kp jz mo ki kj kk bi translated"><a class="ae lf" href="https://karthaus.nl/rdp/" rel="noopener ugc nofollow" target="_blank">卡特乌斯</a></li></ul></div></div>    
</body>
</html>