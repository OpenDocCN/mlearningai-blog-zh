<html>
<head>
<title>Univariate Time Series Forecasting using FBProphet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于FBProphet的单变量时间序列预测</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/univariate-time-series-forecasting-using-fbprophet-ad9ad68e59bc?source=collection_archive---------2-----------------------#2022-01-29">https://medium.com/mlearning-ai/univariate-time-series-forecasting-using-fbprophet-ad9ad68e59bc?source=collection_archive---------2-----------------------#2022-01-29</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="493c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">今天，我们将讨论开发一个模型的最简单的方法，该模型将帮助我们使用脸书广泛提供的库(即FBProphet)来预测单变量的时间序列。我觉得这是开发预测模型的最可靠和最简单的方法之一。看起来，这是最简单的方法之一，我们必须跟进一些我将在下面展示给你的过程。</p><p id="8702" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇特别的文章中，我们将尝试考虑一个具有年度趋势的数据集，我们将尝试在现有的数据集上训练我们的模型，然后预测未来日期的预测。让我向您展示样本数据集及其外观。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jc"><img src="../Images/9e7e6621f7cc4610bb448c8d854d1c5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:512/format:webp/1*yKhMX7AyRa2UIXkc15WumA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Top Head Data</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jo"><img src="../Images/49d0390a057f31561b2434edc73a75f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:318/format:webp/1*x7FnbMy7CKVzzJbkWBrvyw.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Tail Dataset</figcaption></figure><p id="4552" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上述数据包含从1960年1月到1968年12月每个月发生的周期销售信息。我计划将数据集分为训练和测试数据集，我将尝试为1960年1月到1967年12月的数据集训练模型，并尝试预测1968年周期的销售值。这是因为它将帮助我将预测值与实际值进行比较，并了解我的模型是否工作正常。希望听起来不错。让我们深入研究编码，理解它是如何如此快速地实现的。</p><p id="80ef" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们尝试导入非常基本的模块:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jp"><img src="../Images/19e46128fc662d56d867dbb1dc31a39a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*26JWEuLOMuBagO939__RQA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Importing the basic modules</figcaption></figure><p id="fe35" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">读取csv并将数据集分成训练和测试数据集。由于我们的主要重点是学习FBProphet的实现，这就是为什么我选择了一个简单的数据集，在这里我不必处理数据集的清理和标准化。按照计划，96条记录由8年的数据集组成，将用于训练我们的模型，该模型又将用于预测1968年的销售额。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jq"><img src="../Images/49cdf672153b3d153fd0d052b2ed1694.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*jTMuK5ITEulsqAARqoctqg.png"/></div></figure><p id="83d2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">检查数据框的形状，并对其进行观察和感受。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jr"><img src="../Images/61b51eb6d5cedaef97eb2682dd06f1f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:816/format:webp/1*6L5HB_y0zXv6RO21jUVyag.png"/></div></figure><p id="7375" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">测试数据框的一瞥。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es js"><img src="../Images/b4fd71bd11101b5e71203c4a27876ccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*0CqtTba18ecvmJoeyBMFyQ.png"/></div></figure><p id="4ed7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">需要小心的重要一步。日期列必须转换为熊猫数据框中的日期时间。然后，日期列必须重命名为ds，预测列可以重命名为y。这是强制性的，如果您想使用FBProphet模型，必须遵循。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es jt"><img src="../Images/f5484319638a8d81957cb591c6ecfc13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fe-sqni6mUgW_wsuEdNjTQ.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Ignore the warnings please :-)</figcaption></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jy"><img src="../Images/1281444bb71539711bef9ff8e7121986.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*OBL7cdywKVh71GWYUtEtbQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">Renamed my column as discussed</figcaption></figure><p id="4ef9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为我们试图预测的值绘制图表，以了解季节性趋势。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es jz"><img src="../Images/9a9909cd8f6b9955c988a5aebbd19103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*0-fsLLvrmc-9MTuqsyuXyQ.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">predicted with time value</figcaption></figure><p id="0291" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">从图表中我们可以看出，趋势是向上的，季节性在本质上是每年一次的。</p><p id="6960" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们应用FBProphet模型，将年度趋势设为真。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ka"><img src="../Images/220098d1b2fe81f2e69d81183f440ff0.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/1*_5E04ebyJqLlI0EAa_lgyg.png"/></div></figure><p id="2018" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们的模型已经训练好了，现在我们必须创建一个数据框，并在其上应用我们的模型。数据框必须仅包含列名为“ds”的预测日期。希望你得到它。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kb"><img src="../Images/6c3ffe3cb75821c6e6ab841cdf79255b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YoKqmardbj2Dh3TstOKLQQ.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Looks Good the date columns were extracted for each month</figcaption></figure><p id="7f43" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用相同的模型来预测新预测日期的销售额。这就是必须要做的事情:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kc"><img src="../Images/112ee3e0ea24c7101556b1126ca25393.png" data-original-src="https://miro.medium.com/v2/resize:fit:1180/format:webp/1*L7voU8sZFozvsvVTnbAx5g.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es kd"><img src="../Images/f94744600ce156233129051c9a0f3e24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*wSMNxR1ypD-T-5Tu55m-iA.png"/></div><figcaption class="jk jl et er es jm jn bd b be z dx">ds-represents the monthly values for year 1968, yhat-predicted values for sales</figcaption></figure><p id="9858" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尝试合并两个不同的数据框架，这将有助于我们比较实际值和预测值。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es ke"><img src="../Images/2444ee18d24422812c39c6832727bb10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wl2qTz15LCBzoKrEHFlq8w.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">Actual Test Dataframe</figcaption></figure><p id="b916" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">尝试合并预测数据框和实际数据框，以并排检查它们对应的值。让我们来看看:</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kf"><img src="../Images/9afaae00c4ad47c59278f6f909de0d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KM5YH6Ptr-W14R3r9SkdDA.png"/></div></div></figure><p id="d50f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们想象一下1968年每个月的销售额。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ju jv di jw bf jx"><div class="er es kg"><img src="../Images/c5ebcd15424d804b189c86eac02d7990.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fawqtJX2z8KjOKPpSJe5RQ.png"/></div></div><figcaption class="jk jl et er es jm jn bd b be z dx">My blue follows Red very well except in few unexceptional spikes</figcaption></figure><p id="d336" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">希望，你喜欢我的博客使用FB Prophet软件包解决单变量时间序列问题。如果你想给我提供反馈，请在评论中提供。谢谢大家！！！</p><p id="30d3" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我将很快使用FBProphet发布多元时间序列预测。</p><div class="kh ki ez fb kj kk"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kl ab dw"><div class="km ab kn cl cj ko"><h2 class="bd hi fi z dy kp ea eb kq ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="kr l"><h3 class="bd b fi z dy kp ea eb kq ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ks l"><p class="bd b fp z dy kp ea eb kq ed ef dx translated">medium.com</p></div></div><div class="kt l"><div class="ku l kv kw kx kt ky ji kk"/></div></div></a></div></div></div>    
</body>
</html>