<html>
<head>
<title>How to import a csv in MongoDB using MongoDB Database Tools</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用MongoDB数据库工具在MongoDB中导入csv</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/importing-a-csv-to-mongodb-atlas-3274ccb6e829?source=collection_archive---------1-----------------------#2022-11-26">https://medium.com/mlearning-ai/importing-a-csv-to-mongodb-atlas-3274ccb6e829?source=collection_archive---------1-----------------------#2022-11-26</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/746c914f7d83c843dfd2ae08896b9c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vOaetphjJgOufaAt"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Photo by <a class="ae it" href="https://unsplash.com/@rubaitulazad?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Rubaitul Azad</a> on <a class="ae it" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="25be" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">MongoDB是开发人员中最受NoSQL(不仅代表SQL)数据库欢迎的工具。在MongoDB数据库中，数据存储为保存在集合中的文档。</p><p id="cc86" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在这篇文章中，我将讲述使用MongoDB数据库工具将本地csv文件导入到我们的云托管MongoDB Atlas数据库的过程。这在构建分析或数据驱动的应用程序时非常有用。</p><p id="4316" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">注意:本教程主要针对Debian用户。</p><p id="ee5b" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">先决条件:</p><ul class=""><li id="3576" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated">安装了Debian Linux</li><li id="514e" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated">MongoDB Atlas数据库集群</li></ul><h1 id="676d" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">安装MongoDB数据库工具</h1><p id="8442" class="pw-post-body-paragraph iu iv hh iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr ha bi translated">要上传我们的csv文件，我们首先需要在我们的机器上安装MongoDB数据库工具。这将允许我们使用mongoimport工具和许多其他与mongodb相关的工具，例如:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="ee87" class="ls kh hh lo b be lt lu l lv lw">mongodump<br/>mongorestore<br/>bsondump<br/>mongoimport<br/>mongoexport<br/>mongostat<br/>mongotop<br/>mongofiles</span></pre><p id="5cec" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要做到这一点，你需要选择你的操作系统并在这里下载软件包<a class="ae it" href="https://www.mongodb.com/try/download/database-tools" rel="noopener ugc nofollow" target="_blank"/>。如果你像我一样使用Debian(在我的例子中是WSL2 ),你可以直接使用以下命令之一:</p><h1 id="ca7d" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">Debian 11</h1><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="103e" class="ls kh hh lo b be lt lu l lx lw">wget https://fastdl.mongodb.org/tools/db/mongodb-database-tools-debian11-x86_64-100.6.1.deb <br/>sudo apt install ./mongodb-database-tools-debian11-x86_64-100.6.1.deb</span></pre><h1 id="c7de" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">Debian 10</h1><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="de09" class="ls kh hh lo b be lt lu l lx lw">wget https://fastdl.mongodb.org/tools/db/mongodb-database-tools-debian10-x86_64-100.6.1.deb <br/>sudo apt install ./mongodb-database-tools-debian10-x86_64-100.6.1.deb</span></pre><p id="e35c" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">然后应该安装所有提到的工具！</p><h1 id="408f" class="kg kh hh bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">使用mongoimport命令上传csv文件</h1><p id="bbbc" class="pw-post-body-paragraph iu iv hh iw b ix le iz ja jb lf jd je jf lg jh ji jj lh jl jm jn li jp jq jr ha bi translated">mongoimport命令可以与以下语法一起使用:</p><p id="b7ce" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><code class="du ly lz ma lo b">mongoimport &lt;options&gt; &lt;connection-string&gt; &lt;file&gt;</code></p><p id="d772" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">其中，连接字符串是您的mongodb集群连接字符串，格式如下:<br/> <code class="du ly lz ma lo b">mongodb+srv://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;/&lt;database&gt;<br/></code>或</p><p id="4713" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">文件参数是你想要上传的csv文件的路径，比如<code class="du ly lz ma lo b">imdb_data.csv</code></p><p id="1bad" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">选项是您可以使用的许多其他配置，例如</p><ul class=""><li id="dfb0" class="js jt hh iw b ix iy jb jc jf ju jj jv jn jw jr jx jy jz ka bi translated"><code class="du ly lz ma lo b">--headerline</code>:让mongodb使用csv的第一行作为字段引用</li><li id="09e4" class="js jt hh iw b ix kb jb kc jf kd jj ke jn kf jr jx jy jz ka bi translated"><code class="du ly lz ma lo b">--collection=&lt;collection_name&gt;</code>:定义在您的数据库中使用哪些集合，否则mongo将使用csv文件的名称创建一个集合</li></ul><p id="b3e2" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">要获得所有选项的详细信息，您可以使用<code class="du ly lz ma lo b">mongoimport --help</code>查阅帮助</p><p id="dc9f" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">在我的例子中，我使用下面的命令来确保事情做对了:</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="5df2" class="ls kh hh lo b be lt lu l lx lw">mongoimport \<br/> --uri=mongodb+srv://USERNAME:PASSWORD@HOST \ <br/>--db=DB\ <br/>--type=csv \ <br/>--headerline \ <br/>--DATA.csv \</span></pre><p id="7e9a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">额外收获:对于json文件来说，这甚至更简单</p><pre class="lj lk ll lm fd ln lo lp bn lq lr bi"><span id="4ac3" class="ls kh hh lo b be lt lu l lx lw">mongoimport --uri=mongodb+srv://USERNAME:PASSWORD@HOST --db=DB data.json</span></pre><p id="6254" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">就是这样！你可以在下面评论你的想法和问题👇</p></div><div class="ab cl mb mc go md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ha hb hc hd he"><p id="8c3a" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated"><em class="mi">原载于2022年11月26日</em><a class="ae it" href="https://dev.to/duranbe/importing-a-csv-to-mongodb-atlas-on-debian-with-mongoimport-26i6" rel="noopener ugc nofollow" target="_blank"><em class="mi">https://dev . to</em></a><em class="mi">。</em></p><div class="mj mk ez fb ml mm"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mn ab dw"><div class="mo ab mp cl cj mq"><h2 class="bd hi fi z dy mr ea eb ms ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mt l"><h3 class="bd b fi z dy mr ea eb ms ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mu l"><p class="bd b fp z dy mr ea eb ms ed ef dx translated">medium.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na in mm"/></div></div></a></div><p id="b0f1" class="pw-post-body-paragraph iu iv hh iw b ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr ha bi translated">MongoDB文档:<a class="ae it" href="https://www.mongodb.com/docs/database-tools/mongoimport/" rel="noopener ugc nofollow" target="_blank">https://www.mongodb.com/docs/database-tools/mongoimport/</a></p></div></div>    
</body>
</html>