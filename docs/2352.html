<html>
<head>
<title>GPT2 — Text Generation Transformer: How to Use &amp; Serve with HuggingFace and Pinferencia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GPT2 —文本生成转换器:如何使用HuggingFace和Pinferencia</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/gpt2-text-generation-transformer-how-to-use-how-to-serve-1cad1476bc2a?source=collection_archive---------2-----------------------#2022-04-18">https://medium.com/mlearning-ai/gpt2-text-generation-transformer-how-to-use-how-to-serve-1cad1476bc2a?source=collection_archive---------2-----------------------#2022-04-18</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="fafd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">什么是文本生成？输入一些文本，模型会预测后面的文本会是什么。</p><p id="899d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">听起来很有趣。不自己试模型怎么会有意思？</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="9d65" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">GPT2是HuggingFace上下载量最多的机型之一。</p><p id="875e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jj" href="https://huggingface.co/" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi">拥抱脸</strong> </a>只需几行就能轻松使用预训练模型。</p><p id="75b4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><a class="ae jj" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> Pinferencia </strong> </a>只需三条额外的线就能轻松为模特服务。</p></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><h1 id="b2dc" class="jk jl hh bd jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh bi translated">如何使用</h1><p id="e0c4" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">该模型将自动下载。</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/4de98da1f1b1cc6ae12f96145061d3a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d_MfomT1GgqGBTmoJrAkeQ.png"/></div></div></figure><p id="44d6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">就是这样！</p><p id="fcf6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们稍微尝试一下:</p><pre class="ko kp kq kr fd kz la lb lc aw ld bi"><span id="97d1" class="le jl hh la b fi lf lg l lh li">predict("You look amazing today,")</span></pre><p id="96f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果是:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es lj"><img src="../Images/c60f932024508940f8ec31e42232d010.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7ZlrLOkqdpi3XCz4WGSETQ.png"/></div></div></figure><p id="1cfc" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">让我们来看看第一个结果。</p><blockquote class="lk ll lm"><p id="aefb" class="ie if ln ig b ih ii ij ik il im in io lo iq ir is lp iu iv iw lq iy iz ja jb ha bi translated">伙计们，你们今天看起来棒极了。如果你还在学校，你还有一份在田间工作的工作…你现在会看起来很可笑，你会看起来真的很可笑。"</p><p id="4877" class="ie if ln ig b ih ii ij ik il im in io lo iq ir is lp iu iv iw lq iy iz ja jb ha bi translated">他转向他的朋友</p></blockquote><p id="f2f9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">🤣这就是我们要找的东西！如果你再次运行预测，它每次都会给出不同的结果。</p><h1 id="abd7" class="jk jl hh bd jm jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh bi translated">如何部署</h1><p id="cdd2" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">使用<a class="ae jj" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> Pinferencia </a>，只需再添加三行代码，您的模型就可以上线了！</p><p id="7059" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">没听说过<a class="ae jj" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> Pinferencia </a>？现在还不晚。去它的<a class="ae jj" href="https://github.com/underneathall/pinferencia" rel="noopener ugc nofollow" target="_blank"> GitHub </a>看看吧。别忘了给它一颗星。</p><h2 id="0d1c" class="le jl hh bd jm lw lx ly jq lz ma mb ju ip mc md jy it me mf kc ix mg mh kg mi bi translated">安装Pinferencia</h2><pre class="ko kp kq kr fd kz la lb lc aw ld bi"><span id="7931" class="le jl hh la b fi lf lg l lh li">pip install "pinferencia[uvicorn]"</span></pre><h2 id="56c3" class="le jl hh bd jm lw lx ly jq lz ma mb ju ip mc md jy it me mf kc ix mg mh kg mi bi translated">服务</h2><p id="875c" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">只需在我们之前的代码中添加三行代码，并将其保存为<code class="du mj mk ml la b">app.py</code>。</p><figure class="ko kp kq kr fd ks"><div class="bz dy l di"><div class="mm mn l"/></div></figure><p id="1fd8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在去终端跑。</p><pre class="ko kp kq kr fd kz la lb lc aw ld bi"><span id="d862" class="le jl hh la b fi lf lg l lh li">uvicorn app:service --reload</span></pre><p id="d212" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">您的服务已上线！</strong>进入<a class="ae jj" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8000 </a>查看API。</p><h1 id="432b" class="jk jl hh bd jm jn lr jp jq jr ls jt ju jv lt jx jy jz lu kb kc kd lv kf kg kh bi translated">测试服务</h1><p id="a881" class="pw-post-body-paragraph ie if hh ig b ih ki ij ik il kj in io ip kk ir is it kl iv iw ix km iz ja jb ha bi translated">卷曲</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/a904a4aab09347b43cd4c5cb2efa5e45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGlQq9gnN_UD_7_QmHA8mg.png"/></div></div></figure><p id="6c71" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">结果:</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es kn"><img src="../Images/8e190c263a48eb807334c907bf8f208c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4uAC7Ld7LnIE0IeJUTuQiQ.png"/></div></div></figure><p id="5844" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">或者只使用在<a class="ae jj" href="http://127.0.0.1:" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1: </a>提供的交互式UI</p><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mo"><img src="../Images/3ba55e9607f1e1a68ce177282bf26f23.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E4Q0tgp8WV2Gv8e210HI5A.jpeg"/></div></div></figure><figure class="ko kp kq kr fd ks er es paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="er es mp"><img src="../Images/8c2cc09353e6486003019235d6aeb7e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FLvPJVQyx0JrslTwcRlSaw.jpeg"/></div></div></figure></div><div class="ab cl jc jd go je" role="separator"><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh ji"/><span class="jf bw bk jg jh"/></div><div class="ha hb hc hd he"><p id="67ed" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">如果你喜欢https://github.com/underneathall/pinferencia的T21，别忘了给它一颗星。</p><div class="mq mr ez fb ms mt"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mu ab dw"><div class="mv ab mw cl cj mx"><h2 class="bd hi fi z dy my ea eb mz ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="na l"><h3 class="bd b fi z dy my ea eb mz ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nb l"><p class="bd b fp z dy my ea eb mz ed ef dx translated">medium.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kx mt"/></div></div></a></div></div></div>    
</body>
</html>