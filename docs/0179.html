<html>
<head>
<title>Improving local food processing with Amazon Lookout for Vision</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用亚马逊瞭望视野改善当地食品加工</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/improving-local-food-processing-with-amazon-lookout-for-vision-b831aa9e6b88?source=collection_archive---------4-----------------------#2021-02-27">https://medium.com/mlearning-ai/improving-local-food-processing-with-amazon-lookout-for-vision-b831aa9e6b88?source=collection_archive---------4-----------------------#2021-02-27</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/ffeba5b17aed6d54ce6a9d789123830f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_qUkT9itKW6mg7Z9_lhZLA.png"/></div></div></figure><p id="f6c2" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">亚马逊在AWS Re:Invent 2020上发布的Lookout for Vision引起了我的好奇心，我想知道如何应用它。应用程序，而不是从现实生活中的问题，我可以在成长过程中联系起来，而不仅仅是从博客的角度。过去，我写过关于亚马逊网络服务计算机视觉人工智能服务的文章:</p><ol class=""><li id="db7c" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated"><a class="ae jw" href="https://www.slideshare.net/AWSAktuell/serverless-product-recommendations-using-aws-rekognition" rel="noopener ugc nofollow" target="_blank">亚马逊重新确认的无服务器产品推荐</a></li><li id="c9df" class="jn jo hh ir b is jx iw jy ja jz je ka ji kb jm js jt ju jv bi translated"><a class="ae jw" href="https://towardsdatascience.com/augment-pneumonia-diagnosis-with-amazon-rekognition-custom-labels-6f2fb79a986d" rel="noopener" target="_blank">用亚马逊Rekognition定制标签增强肺炎胸部x光诊断</a></li></ol><p id="bd4d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">这些帖子虽然可以理解，但并没有谈到我在尼日利亚奥贡州的成长经历。</p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="a9cd" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">节日期间，我们去奥贡州的Ago Iwoye看望了我的祖母。伊杰布省奥贡州的这一部分因其被称为Garri的可食用木薯片而广受欢迎。这是尼日利亚不太富裕的人的主食。那时候，我经常看着工人们在当地加工、碾磨和烘烤木薯片。然而，至今仍然存在的主要挑战之一是木薯块茎的感染。这影响了木薯片的总产量，从而减少了这种“基本商品”的供应。</p><p id="007d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">当Amazon Lookout for Vision宣布时，我问自己这项服务是否能帮助当地人(和工业规模的加工商)提高木薯片的质量。</p><blockquote class="kj kk kl"><p id="e662" class="ip iq km ir b is it iu iv iw ix iy iz kn jb jc jd ko jf jg jh kp jj jk jl jm ha bi translated">假设:如果当地木薯片生产商可以利用人工智能以低廉的价格提高木薯片的质量，而对人工智能的工作原理一无所知，会怎么样？</p></blockquote><h1 id="a9ae" class="kq kr hh bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">这项工作</h1><p id="589e" class="pw-post-body-paragraph ip iq hh ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">在我们继续之前，有人可能会问:“亚马逊期待的愿景是什么”？</p><blockquote class="kj kk kl"><p id="1299" class="ip iq km ir b is it iu iv iw ix iy iz kn jb jc jd ko jf jg jh kp jj jk jl jm ha bi translated">Amazon Lookout for Vision是一项机器学习(ML)服务，它使用计算机视觉(CV)来发现视觉表示中的缺陷和异常。借助Amazon Lookout for Vision，制造公司可以通过快速识别大规模物体图像的差异来提高质量和降低运营成本。</p></blockquote><p id="45ce" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">将这一定义与我们的假设联系起来，亚马逊视觉观察似乎是发现缺陷以廉价提高质量的完美匹配。</p><h2 id="c24f" class="lt kr hh bd ks lu lv lw kw lx ly lz la ja ma mb le je mc md li ji me mf lm mg bi translated">数据准备</h2><p id="4515" class="pw-post-body-paragraph ip iq hh ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">为了训练一个亚马逊视觉模型，一个人至少需要30张图片:20张正常的图片和10张异常的图片。为此，我主要从<a class="ae jw" href="https://plantvillage.psu.edu/topics/cassava-manioc/infos" rel="noopener ugc nofollow" target="_blank"> PlantVillage网站</a>和其他一些网站收集木薯图片。为了这篇文章的目的，我收集了一手高质量的图片。然而，对于实际生产部署，我建议对图像数据集进行一些数据扩充，将可用于训练的图像数量至少增加5倍。</p><figure class="mi mj mk ml fd ii er es paragraph-image"><div class="er es mh"><img src="../Images/852ace6b0a2d148521d41b7534d47af7.png" data-original-src="https://miro.medium.com/v2/resize:fit:894/format:webp/1*FPC-2vidirikyoBthfDwmg.png"/></div><figcaption class="mm mn et er es mo mp bd b be z dx">Amazon Lookout for Vision Training Image Upload — Cassava Root Images</figcaption></figure><figure class="mi mj mk ml fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mq"><img src="../Images/83d15e0733dce646a783f1215bfc35d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KICUDzdQehChCeCkUnR0jg.png"/></div></div><figcaption class="mm mn et er es mo mp bd b be z dx">Add data labels to images from Amazon Lookout for Vision console — Cassava Root Images</figcaption></figure><h2 id="199f" class="lt kr hh bd ks lu lv lw kw lx ly lz la ja ma mb le je mc md li ji me mf lm mg bi translated">模特培训</h2><p id="8008" class="pw-post-body-paragraph ip iq hh ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">一旦数据集准备就绪，下一步就是通过模型训练让Amazon Lookout for Vision旋转起来。然而，我的第一次模特训练失败了——我指的是第一次有效的训练。失败是由于图像没有相同的尺寸，这是我在使用Amazon Rekognition自定义标签时从未观察到的。</p><figure class="mi mj mk ml fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mr"><img src="../Images/0cad3d2c75f8592fc6d8e97b7b3f9aba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n11DNLyg8xRy3WI0cnHRUA.png"/></div></div><figcaption class="mm mn et er es mo mp bd b be z dx">Amazon Lookout for Vision fails when images in dataset are not of the same dimensions</figcaption></figure><p id="1953" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我立刻启动了本地Jupyter环境来调整图像大小，并将调整后的图像上传到我的S3桶中。这一次，我使用S3路径选项向Amazon Lookout for Vision提供训练数据集:</p><figure class="mi mj mk ml fd ii er es paragraph-image"><div class="er es ms"><img src="../Images/327408a77f7978d268b482cc7f5c300b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*K7a2SqLttsGTh8L1MclJLg.png"/></div><figcaption class="mm mn et er es mo mp bd b be z dx">Import images from S3 bucket to Amazon Lookout for Vision — Cassava Root Images</figcaption></figure><h2 id="5961" class="lt kr hh bd ks lu lv lw kw lx ly lz la ja ma mb le je mc md li ji me mf lm mg bi translated">结果</h2><figure class="mi mj mk ml fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mt"><img src="../Images/809e76c8e18e39b6844624eac555156f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U96cbvGzmOIs3CH18Tn7UA.png"/></div></div><figcaption class="mm mn et er es mo mp bd b be z dx">Amazon Lookout for Vision model metrics for Cassava Root Images</figcaption></figure><p id="c216" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在包括20个正常木薯根图像和11个异常木薯根图像的31个训练图像上实现80%的<a class="ae jw" href="https://en.wikipedia.org/wiki/F-score" rel="noopener ugc nofollow" target="_blank"> <strong class="ir hi"> F1分数</strong> </a>对于第一次运行来说是不错的。在生产规模上，我们将考虑数以千计的原始图像，我们稍后将增加这些图像，以建立一个真正多样化的数据集。</p><h2 id="105d" class="lt kr hh bd ks lu lv lw kw lx ly lz la ja ma mb le je mc md li ji me mf lm mg bi translated">部署</h2><p id="3e38" class="pw-post-body-paragraph ip iq hh ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">像亚马逊Rekognition定制标签一样，<a class="ae jw" href="https://aws.amazon.com/lookout-for-vision/pricing/" rel="noopener ugc nofollow" target="_blank">亚马逊Lookout for Vision定价</a>起价4美元，但随着时间的推移会根据推理小时数而降低。</p><figure class="mi mj mk ml fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mu"><img src="../Images/12bbe4284296d8a29826557efacc0ad8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pcc6tZzLN4nnGeDIC9nTQw.png"/></div></div><figcaption class="mm mn et er es mo mp bd b be z dx">Amazon Lookout for Vision Pricing</figcaption></figure><p id="cb7a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">因此，在我的用例中，假设我的木薯质量检测服务每天8小时，每月20个工作日，那么每月的总成本是640美元。据《福布斯》报道，考虑到全球第五大作物<a class="ae jw" href="https://www.forbes.com/sites/daphneewingchow/2019/08/31/food-feed-and-fuel-cassava-is-the-caribbeans-diamond-in-the-rough/?sh=42b7a8ded401" rel="noopener ugc nofollow" target="_blank">的潜在使用规模，这个解决方案物有所值。</a></p><blockquote class="kj kk kl"><p id="6fc4" class="ip iq km ir b is it iu iv iw ix iy iz kn jb jc jd ko jf jg jh kp jj jk jl jm ha bi translated">在171，593公顷的收获面积上，木薯的年产量为487，117公吨，是世界上第五大作物。</p></blockquote><div class="mv mw ez fb mx my"><a href="https://www.forbes.com/sites/daphneewingchow/2019/08/31/food-feed-and-fuel-cassava-is-the-caribbeans-diamond-in-the-rough/?sh=42b7a8ded401" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab dw"><div class="na ab nb cl cj nc"><h2 class="bd hi fi z dy nd ea eb ne ed ef hg bi translated">食物、饲料和燃料:木薯是加勒比海的“毛坯钻石”</h2><div class="nf l"><h3 class="bd b fi z dy nd ea eb ne ed ef dx translated">木薯的收获面积为171，593公顷，年产量为487，117公吨，是世界第五大木薯产区</h3></div><div class="ng l"><p class="bd b fp z dy nd ea eb ne ed ef dx translated">www.forbes.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm in my"/></div></div></a></div><h2 id="2c05" class="lt kr hh bd ks lu lv lw kw lx ly lz la ja ma mb le je mc md li ji me mf lm mg bi translated">近期工作</h2><p id="6611" class="pw-post-body-paragraph ip iq hh ir b is lo iu iv iw lp iy iz ja lq jc jd je lr jg jh ji ls jk jl jm ha bi translated">Amazon Lookout for Vision还不支持边缘设备上的模型部署，因此我们必须寻找创造性的方法来使木薯食品加工者能够访问这项服务。一种选择是通过廉价的Android手机进行推理，这可能无法扩展。另一个，我即将开始工作，是RaspberryPi Zero，带有摄像头和WiFi/3G模块。</p></div><div class="ab cl kc kd go ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="ha hb hc hd he"><p id="984d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">迫不及待地想知道你会用<a class="ae jw" href="https://aws.amazon.com/lookout-for-vision/" rel="noopener ugc nofollow" target="_blank"> Amazon Lookout for Vision </a>构建什么。你可以通过<a class="ae jw" href="mailto:elesin.olalekan@gmail.com" rel="noopener ugc nofollow" target="_blank">电子邮件</a>联系我，在<a class="ae jw" href="https://twitter.com/elesinOlalekan" rel="noopener ugc nofollow" target="_blank">推特</a>关注我，或者在<a class="ae jw" href="https://www.linkedin.com/in/elesinolalekan/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>联系我。</p></div></div>    
</body>
</html>