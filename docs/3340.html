<html>
<head>
<title>Azure ML Processing Audio Spectrum analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Azure ML处理音频频谱分析</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/azure-ml-processing-audio-spectrum-analysis-209fa927455f?source=collection_archive---------6-----------------------#2022-08-20">https://medium.com/mlearning-ai/azure-ml-processing-audio-spectrum-analysis-209fa927455f?source=collection_archive---------6-----------------------#2022-08-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><h1 id="595d" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">使用Azure ML处理音频频谱分析</h1><h1 id="c08f" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">先决条件</h1><ul class=""><li id="8a17" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">Azure帐户</li><li id="e20f" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure机器学习工作区</li><li id="f5c9" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">Azure存储</li><li id="c070" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">样本音频文件</li><li id="b447" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">使用的音频文件是我从互联网上得到的样本</li><li id="1d49" class="jc jd hh je b jf ju jh jv jj jw jl jx jn jy jp jq jr js jt bi translated">这些图只是样本</li></ul><h1 id="5065" class="ie if hh bd ig ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb bi translated">密码</h1><ul class=""><li id="8b97" class="jc jd hh je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt bi translated">读取音频文件</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="7363" class="ki if hh ke b fi kj kk l kl km">from scipy.io import wavfile # scipy library to read wav files<br/>import numpy as np</span><span id="d39e" class="ki if hh ke b fi kn kk l kl km">AudioName = "input.wav" # Audio File<br/>fs, Audiodata = wavfile.read(AudioName)</span></pre><ul class=""><li id="cc78" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">绘制输出</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="e9c7" class="ki if hh ke b fi kj kk l kl km"># Plot the audio signal in time<br/>import matplotlib.pyplot as plt<br/>plt.plot(Audiodata)<br/>plt.title('Audio signal in time',size=16)</span></pre><figure class="jz ka kb kc fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es kt"><img src="../Images/d091026fa63d910d52cccf7ca9c5f82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aknmieffWrKe1xDc.jpg"/></div></div></figure><ul class=""><li id="ecc6" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">现在光谱分析</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="6d96" class="ki if hh ke b fi kj kk l kl km"># spectrum<br/>from scipy.fftpack import fft # fourier transform<br/>n = len(Audiodata) <br/>AudioFreq = fft(Audiodata)<br/>AudioFreq = AudioFreq[0:int(np.ceil((n+1)/2.0))] #Half of the spectrum<br/>MagFreq = np.abs(AudioFreq) # Magnitude<br/>MagFreq = MagFreq / float(n)<br/># power spectrum<br/>MagFreq = MagFreq**2<br/>if n % 2 &gt; 0: # ffte odd <br/>    MagFreq[1:len(MagFreq)] = MagFreq[1:len(MagFreq)] * 2<br/>else:# fft even<br/>    MagFreq[1:len(MagFreq) -1] = MagFreq[1:len(MagFreq) - 1] * 2</span></pre><ul class=""><li id="eab2" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">绘制输出</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="46e9" class="ki if hh ke b fi kj kk l kl km">plt.figure()<br/>freqAxis = np.arange(0,int(np.ceil((n+1)/2.0)), 1.0) * (fs / n);<br/>plt.plot(freqAxis/1000.0, 10*np.log10(MagFreq)) #Power spectrum<br/>plt.xlabel('Frequency (kHz)'); plt.ylabel('Power spectrum (dB)');</span></pre><figure class="jz ka kb kc fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es lb"><img src="../Images/b007e791a2124fb9b4e1e10ec8e6c523.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ZHkx0Hc48j9GdjI1.jpg"/></div></div></figure><ul class=""><li id="7884" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">现在分析频率</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="8cd0" class="ki if hh ke b fi kj kk l kl km">from scipy.fft import fft, fftfreq</span><span id="20f8" class="ki if hh ke b fi kn kk l kl km">yf = fft(Audiodata)<br/>xf = fftfreq(n, 1 / SAMPLE_RATE)</span><span id="3b8f" class="ki if hh ke b fi kn kk l kl km">plt.plot(xf, np.abs(yf))<br/>plt.show()</span></pre><figure class="jz ka kb kc fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es lc"><img src="../Images/b78cb06b90236924bd131ffd8a22721c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ys8XdQSTI86eULOS.jpg"/></div></div></figure><ul class=""><li id="8253" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">逆频率</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="c78a" class="ki if hh ke b fi kj kk l kl km">from scipy.fft import irfft</span><span id="1c2e" class="ki if hh ke b fi kn kk l kl km">new_sig = irfft(yf)</span><span id="f08c" class="ki if hh ke b fi kn kk l kl km">plt.plot(new_sig[:1000])<br/>plt.show()</span></pre><figure class="jz ka kb kc fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es ld"><img src="../Images/0f48d690f83935d5db836b03cab4d21b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mQvNvYZLDzD9YPYx.jpg"/></div></div></figure><ul class=""><li id="0722" class="jc jd hh je b jf ko jh kp jj kq jl kr jn ks jp jq jr js jt bi translated">现在是频率过滤和频谱分析</li></ul><pre class="jz ka kb kc fd kd ke kf kg aw kh bi"><span id="9dd6" class="ki if hh ke b fi kj kk l kl km">mag_spectrum = np.abs(AudioFreq)<br/>plt.figure(figsize=(18,5))<br/>frequency = np.linspace(0, SAMPLE_RATE, len(mag_spectrum))<br/>num_frequency_bins = int(len(frequency) * 0.1)<br/>plt.plot(frequency[:num_frequency_bins], mag_spectrum[:num_frequency_bins])<br/>plt.xlabel("Frequency (hz)")<br/>plt.ylabel("Sawblade")<br/>plt.show()</span></pre><figure class="jz ka kb kc fd ku er es paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="er es le"><img src="../Images/e42d3a7b2ba3936a530ea59d502de877.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*gZbcGRc-3AtZrIot.jpg"/></div></div></figure></div><div class="ab cl lf lg go lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="ha hb hc hd he"><p id="10e4" class="pw-post-body-paragraph lm ln hh je b jf ko lo lp jh kp lq lr jj ls lt lu jl lv lw lx jn ly lz ma jp ha bi translated"><em class="mb">最初发表于</em><a class="ae mc" href="https://github.com/balakreshnan/Samples2022/blob/main/AzureML/audiofft.md" rel="noopener ugc nofollow" target="_blank"><em class="mb">【https://github.com】</em></a><em class="mb">。</em></p><div class="md me ez fb mf mg"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mh ab dw"><div class="mi ab mj cl cj mk"><h2 class="bd hi fi z dy ml ea eb mm ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mn l"><h3 class="bd b fi z dy ml ea eb mm ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mo l"><p class="bd b fp z dy ml ea eb mm ed ef dx translated">medium.com</p></div></div><div class="mp l"><div class="mq l mr ms mt mp mu kz mg"/></div></div></a></div></div></div>    
</body>
</html>