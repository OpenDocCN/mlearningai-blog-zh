<html>
<head>
<title>Applying Machine Learning for A/B Hypothesis Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">应用机器学习进行A/B假设检验</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/applying-machine-learning-for-a-b-hypothesis-testing-d7cf57720bbf?source=collection_archive---------5-----------------------#2022-09-04">https://medium.com/mlearning-ai/applying-machine-learning-for-a-b-hypothesis-testing-d7cf57720bbf?source=collection_archive---------5-----------------------#2022-09-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div class="er es ie"><img src="../Images/eaf15401c67d59d3d85b07974dbe140e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/0*rrctvKtgLUIg6GGH"/></div></figure><h1 id="83e8" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">什么是A/B测试？</strong></h1><p id="d00b" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">A/B测试是一种比较某个东西的两个版本，以找出哪个版本性能更好的方法。虽然它最常与网站和应用程序联系在一起，但这种方法已有近100年的历史，是随机控制实验的最简单形式之一。</p><p id="4601" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">本质上，A/B测试消除了网站优化中的所有猜测，让有经验的优化者做出数据驱动的判断。</p><p id="9b59" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">要测试的两个版本可分为:对照组，那些被展示产品或服务当前状态的人和治疗组，那些被展示测试产品或服务的人。</p><p id="8676" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后监控每组的转化率，以确定哪一组更好。A/B测试中的随机性是隔离变更影响和减少混杂变量潜在影响的关键。</p><h1 id="b27f" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">什么是假设检验？</strong></h1><p id="cf5c" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">假设检验是一种统计推断方法，用于确定手头的数据是否足以支持特定的假设。</p><p id="e3e0" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">假设检验是循证决策的基石。A/B测试框架是最常用的统计框架，用于在当今商业的各个方面进行渐进但重要的变革。</p><p id="2f3e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在这个项目中，我们使用了三种方法来进行A/B假设检验。</p><ul class=""><li id="bb9f" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">传统(经典)A/B测试</li><li id="4ebf" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">顺序A/B测试</li><li id="0588" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">使用ML算法的A/B测试</li></ul><p id="c03a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在这里，我尝试对每种方法及其优点和局限性做一个预演。但是首先让我们了解一下我们使用的数据。</p><p id="cfca" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">数据</strong></p><p id="60f9" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">随机抽样用于生成该项目的数据。生物数据是在线用户对以下问题的“是”和“否”的回答。</p><p id="7c84" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi"> <em class="la">问:</em> </strong> <em class="la">你知道力士这个品牌吗？</em></p><ul class=""><li id="e96a" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">是</li><li id="0f13" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">不</li></ul><p id="47bc" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这是一次测试，主要目的是验证您构建的假设算法。SmartAd于2020年7月3日至10日开展了这项活动。根据以下规则选择向其提供上述问卷的用户:</p><ul class=""><li id="f38d" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><strong class="jl hi">控制</strong>:显示虚假广告的用户</li><li id="b7de" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi"> Exposed </strong>:向用户展示SmartAd为客户设计的创意(广告)。</li></ul><p id="0966" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">数据可以在这里<a class="ae lb" href="https://drive.google.com/file/d/1taCPRDAy4w_nrp33YvFRWpzlDe_JGXxY/view?usp=sharing" rel="noopener ugc nofollow" target="_blank">找到。它包含以下几列。</a></p><ul class=""><li id="6357" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><strong class="jl hi"> auction_id </strong>:在线用户的唯一id。在标准术语中，这被称为印象id。用户可能会看到简历问卷，但选择不回答。在这种情况下,“是”和“否”列都为零。</li><li id="9daf" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">实验</strong>:用户属于哪一组——控制还是暴露。</li><li id="820a" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">日期</strong>:YYYY-MM-DD格式的日期</li><li id="7772" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">小时</strong>:HH格式的一天中的小时。</li><li id="22f0" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi"> device_make </strong>:用户拥有的设备类型名称，如三星</li><li id="d904" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi"> platform_os </strong>:用户拥有的操作系统的id。</li><li id="cb77" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">浏览器</strong>:用户用来查看简历问卷的浏览器名称。</li><li id="5a40" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">是</strong> : 1如果用户为生物问卷选择“是”单选按钮。</li><li id="bf8a" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">否</strong> : 1如果用户选择生物问卷的“否”单选按钮。</li></ul><h1 id="a558" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">经典A/B测试</strong></h1><p id="80e2" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">它的原则非常简单:</p><ol class=""><li id="e95d" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg lc ks kt ku bi translated">定义基线转换和最小可检测效应(MDE):</li></ol><ul class=""><li id="fa82" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><strong class="jl hi">基线转化率</strong> n —定义您要测试的广告的当前转化率的百分比。</li><li id="e4c5" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">最小可检测效应(MDE </strong> ) —最小预期转换升程。</li></ul><p id="6452" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">2.使用上述变量和统计功效以及显著性水平，计算有意义实验所需的样本量。</p><ul class=""><li id="094f" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><strong class="jl hi">统计功效</strong> —检测到最小效应尺寸的时间百分比，假设其存在。通常，80%是一个最佳的统计功效。</li><li id="64d0" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">显著性水平</strong> —差异(MDE)被检测到的时间百分比，假设差异不存在。简单地说，它是一个测试证明你的假设的时间百分比，而实际上这个假设是错误的。在SmartAd A/B测试中使用了5% ( 𝛼=0.05)的显著性水平。</li></ul><p id="ca6e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">3.驱动流量到你的变化，直到你达到每个变化的目标样本。</p><p id="ca90" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">4.最后，评估你的A/B测试结果。</p><p id="0519" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">如果变体之间的性能差异达到或超过MDE，则证明您的实验的假设是正确的，否则，有必要从头开始测试。</p><p id="8df4" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">选择的指标</strong></p><p id="e955" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">正如我们在数据上看到的，它有两列包含对问卷的选择。我们为这个项目选择的衡量标准是转化率，也就是说，回答“是”的人数除以回答总数。</p><p id="6715" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">陈述假设</strong></p><p id="7a8c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们想要测试的假设是，我们给控制组的假广告和有创意的智能广告之间的表现是否有差异。为此，我们对其转换率的统计显著差异感兴趣。</p><ul class=""><li id="32ea" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><strong class="jl hi">零假设</strong>:说明控制组和暴露组的敬业度得分没有统计学意义。</li><li id="4254" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><strong class="jl hi">替代假设</strong>:说明控制组和变异组敬业度得分有不同的结果，其中一个具有统计学意义。</li></ul><p id="1312" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们想拒绝零假设，这样我们就可以说实验是成功的，不是偶然发生的。这将使我们的实验具有可重复性。</p><p id="c01e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">基线转化率</strong></p><p id="f0ca" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">BCR的计算方法是用回答“是”的人数除以总人数。即<em class="la"> bcr=num。是/总人数</em>。这是我们得到的数据结果。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es ld"><img src="../Images/f14ca3033112104ffa7b0870ffd11c3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/0*80cqGwMcn01juZnx"/></div></figure><p id="bbbb" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">所需样本量</strong></p><p id="6699" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们计算了进行有意义实验所需的样本量，结果是每个实验组有<strong class="jl hi"> 38932 </strong>个样本。但是我们每个对照组和暴露组分别有586个和657个。可以得出结论，我们的样本量太小了。</p><p id="448a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">计算p值和z值</strong></p><p id="383e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><em class="la"> p值</em>是一种统计测量值，用于根据观测数据验证假设。它帮助我们确定当假设零假设为真时，得到特定结果的可能性有多大。</p><p id="8dd6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">p值是使用零假设下的检验统计的抽样分布、样本数据和所做的检验类型(下尾检验、上尾检验或双边检验)来计算的。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es li"><img src="../Images/b3df1576a1057ee03f00e2ebd729fe8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jSKM2eyTQDSCN1QS"/></div></div></figure><ul class=""><li id="92dd" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">p值或概率值告诉您数据在零假设下出现的可能性有多大。如果假设零假设是真的，p值给我们一个样本有多奇怪的估计。</li><li id="f222" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">如果p值非常小(&lt;0.05) then we are likely to reject the null hypothesis. Here we can see the p-value we got is 0.25917, which is greater than the significance level (0.05).</li></ul><p id="b9ef" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">Thus, we fail to reject the null hypothesis. So, we came to the conclusion that there is no statistically significant difference between the two campaigns that SmartAd ran.</p><p id="6e12" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">传统A/B测试的局限性</strong></p><ul class=""><li id="2e7e" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">运行A/B测试可能比其他测试方法需要更长的时间，并且会消耗资源和时间</li><li id="524b" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">它假设了一个不变的世界观，没有考虑到趋势和消费者行为的变化。</li></ul><h1 id="168a" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">顺序A/B测试</strong></h1><p id="60a9" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">在序贯AB检验中，AB检验停止时的最终样本量取决于我们在检验过程中观察到的数据。因此，如果我们在开始时观察到更多的极端结果，测试可以更早结束。</p><p id="7a8d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">顺序A/B测试最棒的地方在于，它给用户一个更早完成实验的机会，而不会增加错误结果的可能性。听起来很棒，不是吗？现在让我们弄清楚这种类型的测试是如何工作的，以及是什么使得快速得到结果成为可能。</p><p id="061f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">为了实现这一点，绘制了一对统计边界，例如基于我们希望在测试中获得的I类错误率。对于我们获得的每一个新数据点，我们的数据的对数似然比之和将与这些边界进行比较。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ln"><img src="../Images/f5a6e00aea9f9089328d8e2bd80f4070.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*g5n3oBuKWGq-apYL"/></div></div><figcaption class="lo lp et er es lq lr bd b be z dx">Sequential testing result</figcaption></figure><p id="da7f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在上图中可以看到有3条线。顶部和底部的两条线描述了统计边界。中间一行是实验的累计值。</p><ul class=""><li id="f35b" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">如果累计值线穿过或收敛于上限，我们拒绝零。</li><li id="cad8" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">如果累计值线穿越或收敛于下限，我们接受零。即各组之间没有统计学上的显著差异。</li></ul><p id="0a7d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">可以看出该行不拒绝也不接受空值。我们需要继续测试，看看它是否收敛到上界，拒绝零。</p><p id="61af" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">顺序测试的优势</strong></p><ul class=""><li id="77aa" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">让您有机会在不增加错误结果可能性的情况下提前完成实验</li><li id="ec4d" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">优化必要的观察(样本大小)</li><li id="13ba" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">降低出错的可能性</li></ul><p id="7537" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">顺序测试的缺点</strong></p><ul class=""><li id="7722" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">如果我们关心保留类型I错误，我们需要认识到我们正在做多重比较</li><li id="131b" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">允许在不增加错误结果风险的情况下提前完成研究。在三次数据分析后，我们有三种非独立的可能性产生第一类错误。</li><li id="5771" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">对于固定的样本大小和显著性水平，与等待所有数据进入相比，顺序测试最终会降低功耗。</li></ul><h1 id="97ca" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">使用机器学习的A/B测试</strong></h1><p id="6cd1" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">机器学习是指系统在没有人类直接控制的情况下学习输入和输出数据之间的关系。该过程用于创建算法和模型，这些算法和模型能够理解数据，而无需由人类程序员直接编写模型。这些算法可用于决策、数据分类或执行复杂任务。</p><p id="bf2d" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">使用机器学习的A/B测试的主要优势是我们可以从两个以上的变量(控制/暴露)中收集洞察力。它允许我们从复杂的系统中获得洞察力。</p><p id="50a0" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">使用算法，我们可以模拟复杂的系统，包括所有正在进行的事件、用户特征等等。</p><p id="3d4e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">带有机器学习的A/B测试可以结合起来:</p><ul class=""><li id="91d9" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">测试和改进新机器学习模型的部署。</li><li id="5279" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">自动化A/B测试，使流程更加高效和有效。</li><li id="89c7" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">在开发或调整算法时，发现关于数据集和变量的有用信息。</li></ul><p id="516a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">为了使用ML测试假设，我们选择使用三种机器学习算法，并试图确定每个模型的准确性分数。</p><p id="f6b6" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这些算法是:</p><ul class=""><li id="7351" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">逻辑回归</li><li id="fd92" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">Xgboost</li><li id="1d71" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">决策树</li></ul><p id="1767" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">对于每个模型，我们将数据分为70%的训练集、20%的验证集和10%的测试集。</p><p id="2e3c" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">用于使ML流程可重复且端到端的工具</strong></p><p id="d9f3" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi"> Git/Github: <em class="la"> Git </em> </strong>是一个版本控制工具(软件)，用于跟踪源代码的变化。<strong class="jl hi"> <em class="la"> GitHub </em> </strong>是一个基于网络的云服务，用来托管你的源代码(Git仓库)。这是一个中央集权的系统。Git不需要GitHub，但是GitHub需要Git</p><p id="f927" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi"> DVC(数据版本控制)</strong>——是一个类似Git的开源控制系统，用于单独处理和跟踪我们的数据。DVC的一些用途是:</p><ul class=""><li id="9243" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">像捕获代码一样跟踪和保存数据和机器学习模型；</li><li id="6bbb" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">轻松创建数据版本和ML模型并在它们之间切换。</li><li id="2a2e" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">理解数据集和ML工件最初是如何构建的。</li><li id="955a" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">比较实验中的模型度量。</li></ul><p id="d012" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi"> MLflow: </strong>是一个开源工具，最初由DataBricks推出，它帮助管理ML生命周期的多个阶段。它让我们可以使用任何库来训练、重用和部署模型，并将它们打包成可重复的步骤，其他数据科学家可以将其用作“黑盒”，甚至不必知道您正在使用哪个库。一般来说，MLflow有这些优点。MLflow项目是打包可重用数据科学代码的标准格式。</p><p id="9fd8" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">交叉验证(样本外测试)</strong></p><p id="7d04" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">交叉验证是一种重采样方法，它使用数据的不同部分在不同的迭代中测试和训练模型</p><p id="18dc" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">对于这个项目，我们使用K-fold ( <strong class="jl hi"> k=5 </strong>)交叉验证重采样方法。我们使用K-fold是因为它确保了原始数据集中的每个观察值都有机会出现在训练和测试集中。将数据随机分成5个折叠，在k-1个折叠中训练模型，同时保留一个折叠来测试模型。在我们的例子中，数据首先被分成训练集和测试集。训练数据集用于交叉验证。</p><p id="33a0" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">为了用ML方法测试我们的假设，我们通过按浏览器和platform_os分割干净数据来创建干净数据的版本，并将它们保存在CSV文件中。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/c54108251e62c3ca94780260b4cb73a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pSCr17CPC0XEW5PU"/></div></div></figure><h1 id="dcbe" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">逻辑回归</strong></h1><p id="934c" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">我们使用逻辑回归函数创建了一个线性回归模型。然后，我们使用之前保存的所有版本的数据来训练线性回归模型。为模型选择的参数使用5重交叉验证来确定，以防止过度拟合和欠拟合。然后，我们使用测试数据评估我们的模型。</p><p id="3b40" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">下面是我们使用5重交叉和逻辑回归得到的一些准确性结果。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/712d1abcef2caa1383d7584b571b5af0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/0*J80ChZYRmTi2Bwdl"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lt"><img src="../Images/fc9db8b2c407e4ec18ccc7b992d14bb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/0*HH6cjE3W36m5a_rX"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/7cffd7d7e1c432373b19d8c07c6ffbc3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kPMggAHry1rXQZ06"/></div></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/567f07120f9adab02dafb80fe5a20e7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rsNWUJrCzuKuEXWO"/></div></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ls"><img src="../Images/63e8d4e2a3ae45d5844981e9a1862363.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bKzs0nbUZWYTspFB"/></div></div></figure><ul class=""><li id="3589" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">如果我们仔细观察，5倍逻辑回归的最大准确度是0.75。</li><li id="f1f9" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">这可能意味着数据不足或模型不是最适合的，因为精度小于0.8，即80%。</li></ul><p id="a42a" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">在训练了模型之后，我们试图将用于训练回归模型的特征的重要性可视化。</p><p id="2f64" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">特征重要性</strong>指的是为给定模型的所有输入特征计算分数的技术——分数仅仅代表每个特征的“重要性”。较高的分数意味着特定特征将对用于预测某个变量的模型产生较大的影响。</p><p id="34af" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">下面是一些拆分数据的例子。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/58f4d02627c52b0d3515a38840edbeb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/0*NgYrf9ZXuq8VYkhB"/></div><figcaption class="lo lp et er es lq lr bd b be z dx">feature importance of chrome mobiledata</figcaption></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lu"><img src="../Images/25c3346bebe33a8de0f39dea34c279c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/0*pMmAhXWFyA07J1v-"/></div><figcaption class="lo lp et er es lq lr bd b be z dx">fig: feature importance of chrome webview data</figcaption></figure><h1 id="399a" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak"> XGboost </strong></h1><p id="b5e8" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">XGBoost是梯度提升机器的可扩展和精确的实现，它已经证明推动了提升树算法的计算能力的极限，因为它是为了模型性能和计算速度的唯一目的而构建和开发的。</p><p id="9256" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">这里是我们使用xgboost和5重交叉验证得到的一些结果。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/ff12d1e6f8c7c83db46f969840121711.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*xfI3mCaOO3joTeBr"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/6430c6b41f7b3813c4d74950303fc3c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*4oxh5QN6kgGnp9Ha"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/14dc0f664bc7289221fe34c673cd3be7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*63WrggLSx3j57jp2"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/bbe55e0175e23ffc82ba07b2bc043f28.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*0BHSaQ5YKyVKE5Zw"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lv"><img src="../Images/aa98ed763782fd4ea795ee6f4ee476dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/0*-8CH_n5pMiO9PGuk"/></div></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/3dae923a1a727f1241f7c8a599303a2e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/0*GgQ3RzXMQM-Pbhmp"/></div><figcaption class="lo lp et er es lq lr bd b be z dx">fig : feature importance of chrome data using xgboost</figcaption></figure><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es lw"><img src="../Images/52d004a9cef3dbbcdba457ab0c2410fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/0*fC2gLSQDLqIF2Ine"/></div><figcaption class="lo lp et er es lq lr bd b be z dx">fig: feature importance of chrome webview data</figcaption></figure><h1 id="74e5" class="il im hh bd in io ip iq ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji bi translated"><strong class="ak">决策树</strong></h1><p id="cdc0" class="pw-post-body-paragraph jj jk hh jl b jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg ha bi translated">决策树是一种用于分类和回归的非参数监督学习方法。目标是创建一个模型，通过学习从数据特征推断的简单决策规则来预测目标变量的值。</p><p id="ca00" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">我们使用标签编码器算法将特征转换成数字形式，以便使它们成为机器学习可读的形式。例如，标签“是”或“否”不是机器学习可读的，所以我们必须将它们转换成ML可读的形式。标签编码基本上将<em class="la">‘是’</em><strong class="jl hi"/>转换为1，将<em class="la">‘否’</em>转换为0。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lx"><img src="../Images/5d6273db2a37692e6a7219a16bd8db1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*KKOEXEOR4mofxbk1"/></div></div></figure><p id="a29e" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后，我们为每个分割的数据选择特征来训练模型。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es ly"><img src="../Images/8cbfad9b8b962e50cc9a37b071038d0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*UL_28XSbwdEROK5X"/></div></div></figure><p id="01e1" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后，我们将数据分成训练集和测试集。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es lz"><img src="../Images/2d119c0c4f1e05063cddaec32b1b057e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_AtovY5XZy8hm75E"/></div></div></figure><p id="473b" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">然后，我们创建了一个决策树分类器对象，然后训练集。之后，我们使用测试集来测试模型。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div class="er es ma"><img src="../Images/8a51b3d036190dd27f4a4e74e4357ff4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/0*sO7mQXfwDt5_QDmw"/></div></figure><p id="1199" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated">下面我们可以看到模型的准确率得分。</p><figure class="le lf lg lh fd ii er es paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="er es mb"><img src="../Images/7aed28f793b3410626eefbf9eb4755cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1256/0*ZAmu2lM1KQ4hlY98"/></div></div></figure><p id="be21" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">结论</strong></p><ul class=""><li id="fadc" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated">逻辑回归和Xgboost模型准确性结果似乎几乎相同。这可能是数据太小的结果。</li><li id="25bd" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">我们还发现决策树更准确。然而，数据太小，我们没有使用交叉验证来防止模型过拟合和欠拟合，所以我们可以说实验是成功的。</li><li id="39ea" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">通过经典A/B测试，我们确定了品牌认知度是否有显著提升，这有助于smartAd采取下一步行动。我们在这种情况下没有发现，因为数据太小。</li><li id="d005" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">通过机器学习，我们发现其他特征，如一天中的时间和日期，决定了品牌意识的转变。这提供了一个更广泛的知识，即什么促成了广告活动的成功或无变化。</li><li id="f5f6" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated">Github代码可以在<a class="ae lb" href="https://github.com/nahomHmichael/abtest-mlops/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</li></ul><p id="889f" class="pw-post-body-paragraph jj jk hh jl b jm kh jo jp jq ki js jt ju kj jw jx jy kk ka kb kc kl ke kf kg ha bi translated"><strong class="jl hi">参考文献</strong></p><ul class=""><li id="e8fe" class="km kn hh jl b jm kh jq ki ju ko jy kp kc kq kg kr ks kt ku bi translated"><a class="ae lb" href="https://hbr.org/2017/06/a-refresher-on-ab-testing" rel="noopener ugc nofollow" target="_blank">https://hbr.org/2017/06/a-refresher-on-ab-testing</a></li><li id="7fd3" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><a class="ae lb" href="https://splitmetrics.com/blog/sequential-a-b-testing/" rel="noopener ugc nofollow" target="_blank">https://splitmetrics.com/blog/sequential-a-b-testing</a></li><li id="72d2" class="km kn hh jl b jm kv jq kw ju kx jy ky kc kz kg kr ks kt ku bi translated"><a class="ae lb" href="https://databricks.com/session_eu20/data-versioning-and-reproducible-ml-with-dvc-and-mlflow" rel="noopener ugc nofollow" target="_blank">https://databricks . com/session _ eu20/data-versioning-and-reproducible-ml-with-DVC-and-ml flow</a></li></ul><div class="mc md ez fb me mf"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mg ab dw"><div class="mh ab mi cl cj mj"><h2 class="bd hi fi z dy mk ea eb ml ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mm l"><h3 class="bd b fi z dy mk ea eb ml ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mn l"><p class="bd b fp z dy mk ea eb ml ed ef dx translated">medium.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt ij mf"/></div></div></a></div></div></div>    
</body>
</html>