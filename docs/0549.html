<html>
<head>
<title>Conversational AI — Rasa Framework basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">对话式人工智能— Rasa框架基础</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/conversational-ai-rasa-framework-basics-1658c5e16857?source=collection_archive---------4-----------------------#2021-05-13">https://medium.com/mlearning-ai/conversational-ai-rasa-framework-basics-1658c5e16857?source=collection_archive---------4-----------------------#2021-05-13</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c4fecabdf9928014309010a12d4c181e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2DQ9WytKhKgJKYRS.png"/></div></div><figcaption class="ip iq et er es ir is bd b be z dx">Image Creadit(<a class="ae it" href="https://en.everybodywiki.com/Rasa_NLU" rel="noopener ugc nofollow" target="_blank">https://en.everybodywiki.com/Rasa_NLU</a>)</figcaption></figure><h1 id="2ebc" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">在这篇博客中:</h1><ul class=""><li id="892c" class="js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">什么是对话式AI？</li><li id="8e42" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">什么是拉莎·NLU？</li><li id="a0b8" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">官方Rasa开发者认证主题</li></ul></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><h1 id="00ef" class="iu iv hh bd iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr bi translated">什么是对话式AI？</h1><blockquote class="lb"><p id="6e39" class="lc ld hh bd le lf lg lh li lj lk kf dx translated">对话式人工智能是一套技术，使计算机能够以自然的方式理解、处理和响应语音或文本输入，通常与机器人或智能虚拟代理(IVAs)结合使用。如果做得好，它可以帮助人们以更快更简单的方式与复杂的系统进行交互，并帮助企业提供大规模的个性化参与和支持。— kore.ai</p></blockquote></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><h1 id="9c43" class="iu iv hh bd iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr bi translated">什么是拉莎·NLU？</h1><p id="1d28" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">人工智能助手必须完成两项任务，首先助手需要理解输入消息，即意图分类和实体提取，然后根据意图和实体给出正确的响应。</p><p id="5fb5" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">Rasa堆栈通过自然语言理解组件Rasa NLU和对话管理组件Rasa核心来处理这些任务。是什么让NLP成为上下文相关的人工智能助手。Rasa NLU通过在所谓的管道中处理用户消息来提供这种完全的可定制性。</p><p id="5c06" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">管道定义了不同的组件，这些组件顺序地处理用户消息，并最终导致将用户消息分类成意图和提取实体。</p></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><h1 id="d17b" class="iu iv hh bd iw ix kw iz ja jb kx jd je jf ky jh ji jj kz jl jm jn la jp jq jr bi translated">官方Rasa开发认证</h1><h2 id="9375" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">车间前设置</h2><p id="5915" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">在你各自的操作系统上安装最新版本的rasa有时会变得很有挑战性，特别是你没有使用虚拟环境，并且你打破了所有项目的依赖关系，所以我建议你通过pip使用anaconda虚拟环境或virtualenv。</p><p id="64fb" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">获取最新的rasa版本和安装步骤都包含在<a class="ae it" href="https://docs.google.com/document/d/1sRuzqzpX7AcI3FzyTI3nAl6chMFhvT0GF25nz9_1b_c/edit" rel="noopener ugc nofollow" target="_blank">链接</a>中。</p><p id="b4f2" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">这是在Rasa开发研讨会中作为资源提供的链接。</p><h2 id="25d7" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">Rasa开源简介</h2><p id="d444" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">Rasa是开源机器学习框架，即基于文本和语音的自动化对话。理解消息，进行对话，并连接到消息传递通道和API。</p><p id="8a84" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">我提到的是官方的rasa youtube播放列表链接，这是你能在youtube上找到的最好的概念性解释之一。</p><figure class="mt mu mv mw fd ii"><div class="bz dy l di"><div class="mx my l"/></div></figure><p id="6198" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">现在让我们了解项目文件结构。</p><ol class=""><li id="c7c5" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf nc kh ki kj bi translated">更新配置:</li></ol><p id="9644" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">对于常见的问题和一些随意的对话，你总是希望你的助手在每次被问到这类问题时都以同样的方式回答。</p><p id="750e" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">规则允许你这样做。要使用规则，您需要将规则策略添加到配置文件中的策略中。</p><p id="0cea" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">因此，您必须在config.yml文件中配置两个部分，一个是为用户的最新输入制定下一个最佳操作的策略，另一个是管道，以便从句子(消息)中分类和提取意图和实体。</p><p id="9c30" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">它将NLU管道中的ResponseSelector包含在您的配置文件中。ResponseSelector需要一个特征器和意图分类器来工作，所以它应该在管道中的这些组件之后。</p><p id="f613" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">2.创建规则:</p><p id="3f6c" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您只需要为每个检索意图编写一个规则。然后，在该检索意图下分组的所有意图将以相同的方式处理。动作名称以utter_开始，以检索意图的名称结束。编写响应输入的规则。</p><p id="37c2" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">3.NLU培训数据:</p><p id="30a7" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">ResponseSelector的NLU训练示例看起来与常规训练示例一样，只是它们的名称必须引用它们所属的检索意图。</p><p id="5cef" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">4.定义静态响应:</p><p id="5d10" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您必须为ResponseSelector定义一些静态响应，其命名约定与检索意图相同。</p><p id="1068" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">5.自定义操作:</p><p id="7cf8" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您必须为自定义任务定义一些客户操作，通过自定义操作，您可以调用API或数据库查询或运行一些计算。</p><figure class="mt mu mv mw fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nd"><img src="../Images/c987f164dcf062865e0d2213d92fdef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oKpbCHj6n6nz_cfk.png"/></div></div></figure><h1 id="b4d9" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">构建您的自定义助手</h1><p id="5e01" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">NLU(自然语言理解)是Rasa开源的一部分，它执行意图分类、实体提取和响应检索。</p><p id="0e28" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">NLU将接受诸如“我正在市中心寻找一些高质量的晚餐夜餐馆”的句子，并返回诸如以下的结构化数据:</p><p id="b2da" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">Rasa开源使用YAML作为统一和可扩展的方式来管理所有的训练数据，包括NLU数据、故事和规则。</p><p id="7424" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您可以将训练数据分割成任意数量的YAML文件，每个文件可以包含NLU数据、故事和规则的任意组合。训练数据解析器使用顶级关键字来确定训练数据类型。</p><p id="25c5" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">该域使用与训练数据相同的YAML格式，也可以跨多个文件拆分或合并到一个文件中。</p><p id="26cb" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">NLU训练数据由按意图分类的示例用户话语组成。培训示例还可以包括实体。实体是可以从用户消息中提取的结构化信息。您还可以将正则表达式和查找表等额外信息添加到定型数据中，以帮助模型正确识别意图和实体。</p><h2 id="fb8d" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">目的</h2><ul class=""><li id="27cc" class="js jt hh ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj bi translated">按照用户意图分组的训练示例，例如，可选地带有注释的实体。</li></ul><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="9321" class="mf iv hh nf b fi nj nk l nl nm">nlu:<br/>- intent: check_balance<br/>  examples: |<br/>    - What's my [credit](account) balance?<br/>    - What's the balance on my [credit card account {"entity":"account","value":"credit"}</span></pre><ul class=""><li id="b8df" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">同义词</li></ul><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="8a52" class="mf iv hh nf b fi nj nk l nl nm">nlu:<br/>- synonym: credit<br/>  examples: |<br/>    - credit card account<br/>    - credit account</span></pre><ul class=""><li id="b82b" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">正则表达式</li></ul><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="ec00" class="mf iv hh nf b fi nj nk l nl nm">nlu:<br/>- regex: account_number<br/>  examples: |<br/>    - \d{10,12}</span></pre><ul class=""><li id="a4a0" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">查找表</li></ul><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="29b2" class="mf iv hh nf b fi nj nk l nl nm">nlu:<br/>- lookup: banks<br/>  examples: |<br/>    - JPMC<br/>    - Comerica<br/>    - Bank of America</span></pre><h2 id="068a" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">实体</h2><p id="f44a" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">实体是可以从用户消息中提取的结构化信息。</p><p id="5165" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">实体在训练示例中用实体的名称进行注释。除了实体名称之外，还可以用同义词、角色或组来注释实体。</p><p id="5dca" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">注释实体的完整语法是:</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="8958" class="mf iv hh nf b fi nj nk l nl nm">[&lt;entity-text&gt;]{"entity": "&lt;entity name&gt;", "role": "&lt;role name&gt;", "group": "&lt;group name&gt;", "value": "&lt;entity synonym&gt;"}</span></pre><h2 id="b0e0" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">故事</h2><p id="2a77" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">故事由以下部分组成:</p><ul class=""><li id="12dd" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">Story:故事的名称。名称随意，不用于培训；你可以把它作为故事的可读性参考。</li><li id="7c99" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">元数据:任意的和可选的，不在训练中使用，你可以用它来存储关于故事的相关信息，比如作者。</li><li id="9365" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">步骤列表:组成故事的用户消息和动作。</li></ul><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="c421" class="mf iv hh nf b fi nj nk l nl nm">stories:<br/>- story: Greet the user<br/>  metadata:<br/>    author: Somebody<br/>    key: value<br/>  steps:<br/>  # list of steps<br/>  - intent: greet<br/>  - action: utter_greet</span></pre><p id="67ad" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">每个步骤可以是下列步骤之一:</p><ul class=""><li id="26e5" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">由意图和实体表示的用户消息。</li><li id="278f" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">一个or语句，其下包含两个或多个用户消息。</li><li id="62cc" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">机器人行动。</li><li id="5f7a" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">一张表格。</li><li id="7b58" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">插槽被设置事件。</li><li id="e2f6" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">一个检查点，它将故事连接到另一个故事。</li></ul><h2 id="aad0" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">规则</h2><p id="85e1" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">规则列在Rules键下，看起来类似于故事。一个规则也有一个步骤键，它包含一个与故事相同的步骤列表。规则还可以包含conversation_started和conditions键。</p><p id="f39a" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">这些用于指定应用规则的条件。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="96fe" class="mf iv hh nf b fi nj nk l nl nm">rules:<br/>- rule: Only say `hey` when the user provided a name<br/>  condition:<br/>  - slot_was_set:<br/>    - user_provided_name: true<br/>  steps:<br/>  - intent: greet<br/>  - action: utter_greet</span></pre><h1 id="00d9" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">领域</h1><p id="3862" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">域定义了您的助手在其中工作的领域。它指定了你的机器人应该知道的意图、实体、插槽、响应、形式和动作。它还定义了对话会话的配置。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="8c70" class="mf iv hh nf b fi nj nk l nl nm">version: "2.0"</span><span id="d0c0" class="mf iv hh nf b fi nn nk l nl nm">intents:<br/>  - affirm<br/>  - deny<br/>  - greet<br/>  - thankyou<br/>  - goodbye<br/>  - search_concerts<br/>  - search_venues<br/>  - compare_reviews<br/>  - bot_challenge<br/>  - nlu_fallback<br/>  - how_to_get_started</span><span id="41d9" class="mf iv hh nf b fi nn nk l nl nm">entities:<br/>  - name</span><span id="7045" class="mf iv hh nf b fi nn nk l nl nm">slots:<br/>  concerts:<br/>    type: list<br/>    influence_conversation: false<br/>  venues:<br/>    type: list<br/>    influence_conversation: false<br/>  likes_music:<br/>    type: bool<br/>    influence_conversation: true</span><span id="7da5" class="mf iv hh nf b fi nn nk l nl nm">responses:<br/>  utter_greet:<br/>    - text: "Hey there!"<br/>  utter_goodbye:<br/>    - text: "Goodbye :("<br/>  utter_default:<br/>    - text: "Sorry, I didn't get that, can you rephrase?"<br/>  utter_youarewelcome:<br/>    - text: "You're very welcome."<br/>  utter_iamabot:<br/>    - text: "I am a bot, powered by Rasa."<br/>  utter_get_started:<br/>    - text: "I can help you find concerts and venues. Do you like music?"<br/>  utter_awesome:<br/>    - text: "Awesome! You can ask me things like \"Find me some concerts\" or \"What's a good venue\""</span><span id="4979" class="mf iv hh nf b fi nn nk l nl nm">actions:<br/>  - action_search_concerts<br/>  - action_search_venues<br/>  - action_show_concert_reviews<br/>  - action_show_venue_reviews<br/>  - action_set_music_preference</span><span id="f5c0" class="mf iv hh nf b fi nn nk l nl nm">session_config:<br/>  session_expiration_time: 60  # value in minutes<br/>  carry_over_slots_to_new_session: true</span></pre><h2 id="3e11" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">时间</h2><p id="b664" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">我们还没有去过的地方是老虎机。</p><p id="b0bb" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">插槽是你的机器人的记忆。它们充当键值存储，可用于存储用户提供的信息以及从外部世界收集的信息。</p><p id="ff1f" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">大多数时候，你希望插槽影响如何对话的过程。不同的行为有不同的插槽类型。</p><p id="937f" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">例如，如果您的用户提供了他们的家所在的城市，您可能会有一个名为home_city的文本槽。如果用户问天气，而你不知道他们的家乡城市，你就要问他们了。文本槽只告诉Rasa核心该槽是否有值。文本的具体值没有任何区别。</p><p id="1bdb" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">如果值本身很重要，就使用分类槽或布尔槽。还有浮动和列表槽。如果您只想存储一些数据，但不希望它影响会话的流程，请使用非功能化插槽。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="1782" class="mf iv hh nf b fi nj nk l nl nm">slots:<br/>  name:<br/>    type: text<br/>    initial_value: "human"</span></pre><ul class=""><li id="a754" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">文本</li><li id="6e23" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">布尔代数学体系的</li><li id="7170" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">绝对的</li><li id="36b6" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">浮动</li><li id="caca" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">目录</li><li id="5739" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">任何的</li><li id="f5cb" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">自定义插槽类型</li></ul><h1 id="2f93" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">模型配置</h1><p id="3f0e" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">配置文件定义了您的模型将用于根据用户输入进行预测的组件和策略。</p><p id="dd40" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">语言和管道键指定模型用来进行NLU预测的组件。policies键定义了模型用来预测下一个操作的策略。</p><h2 id="e6ec" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">政策</h2><p id="a7d1" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">您的助理使用策略来决定在对话的每一步采取何种行动。你的助手可以同时使用机器学习和基于规则的策略。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="f06c" class="mf iv hh nf b fi nj nk l nl nm">language:  # your language<br/>pipeline:<br/>  # - &lt;pipeline components&gt;</span><span id="eeca" class="mf iv hh nf b fi nn nk l nl nm">policies:<br/>  - name: MemoizationPolicy<br/>  - name: TEDPolicy<br/>    max_history: 5<br/>    epochs: 200<br/>  - name: RulePolicy</span></pre><p id="99bd" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您可以通过在项目的配置中指定policies键来自定义您的助手使用的策略。yml有不同的策略可供选择，并且您可以在一个配置中包含多个策略。</p><p id="61cd" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">政策优先</strong></p><p id="781a" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">在这种情况下，两个策略以相同的置信度预测。例如，记忆和规则策略可能都有把握地预测1。考虑策略的优先级。</p><p id="45c2" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">Rasa开源策略具有默认的优先级，设置这些优先级是为了确保在出现平局时的预期结果。它们看起来像这样，数字越大，优先级越高:</p><ul class=""><li id="b841" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated">6 — <code class="du no np nq nf b">RulePolicy</code></li><li id="afb6" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">3 — <code class="du no np nq nf b">MemoizationPolicy</code>或<code class="du no np nq nf b">AugmentedMemoizationPolicy</code></li><li id="6d9d" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated">1 — <code class="du no np nq nf b">TEDPolicy</code></li></ul><h2 id="a905" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">管道</h2><p id="185b" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">你可以用Rasa构建任何语言的助手。</p><p id="8248" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您的Rasa助手可以用于任何语言的训练数据。如果你的语言没有单词嵌入，你可以用你提供的数据训练你的特征。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="0d17" class="mf iv hh nf b fi nj nk l nl nm">language: "fr"  # your two-letter language code</span><span id="12c7" class="mf iv hh nf b fi nn nk l nl nm">pipeline:<br/>  - name: WhitespaceTokenizer<br/>  - name: RegexFeaturizer<br/>  - name: LexicalSyntacticFeaturizer<br/>  - name: CountVectorsFeaturizer<br/>  - name: CountVectorsFeaturizer<br/>    analyzer: "char_wb"<br/>    min_ngram: 1<br/>    max_ngram: 4<br/>  - name: DIETClassifier<br/>    epochs: 100<br/>  - name: EntitySynonymMapper<br/>  - name: ResponseSelector<br/>    epochs: 100</span></pre><h1 id="7ab5" class="iu iv hh bd iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr bi translated">行动</h1><p id="3c12" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">在每个用户消息之后，该模型将预测助理接下来应该执行的动作。</p><p id="9caa" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">回应</strong></p><p id="43ba" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">响应是助理将发回给用户的消息。当您希望助手向用户发送文本、图像、按钮或类似内容时，这是您最常使用的操作。</p><p id="971e" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">自定义动作</strong></p><p id="a737" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">自定义操作是可以运行您想要的任何代码的操作。例如，这可以用于进行API调用，或者查询数据库。</p><p id="0512" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">表格</strong></p><p id="f21a" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">表单是一种特殊类型的自定义操作，旨在处理业务逻辑。如果你有任何对话设计，你希望助理询问一组特定的信息，你应该使用表格。</p><p id="cec8" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">默认动作</strong></p><p id="32ae" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">默认动作是默认情况下内置在对话管理器中的动作。这些大多是基于特定的对话情境自动预测的。您可能想要定制这些来个性化您的助手。</p><h2 id="97ed" class="mf iv hh bd iw mg mh mi ja mj mk ml je jz mm mn ji kb mo mp jm kd mq mr jq ms bi translated">自定义操作</h2><p id="f818" class="pw-post-body-paragraph ll lm hh ju b jv jw ln lo jx jy lp lq jz lr ls lt kb lu lv lw kd lx ly lz kf ha bi translated">自定义动作可以运行任何你想要的代码，包括API调用，数据库查询等。</p><p id="1479" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">您想要在故事中使用的任何自定义操作都应该添加到您的域的操作部分。</p><p id="6867" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">当对话引擎预测要执行的自定义动作时，它会调用动作服务器。</p><pre class="mt mu mv mw fd ne nf ng nh aw ni bi"><span id="1397" class="mf iv hh nf b fi nj nk l nl nm"><strong class="nf hi">from</strong> <strong class="nf hi">rasa_sdk</strong> <strong class="nf hi">import</strong> Action<br/><strong class="nf hi">from</strong> <strong class="nf hi">rasa_sdk.events</strong> <strong class="nf hi">import</strong> SlotSet<br/><br/><strong class="nf hi">class</strong> <strong class="nf hi">ActionCheckWeather</strong>(Action):<br/>   <strong class="nf hi">def</strong> name(self) -&gt; Text:<br/>      <strong class="nf hi">return</strong> "action_check_weather"<br/><br/>   <strong class="nf hi">def</strong> run(self,<br/>           dispatcher: CollectingDispatcher,<br/>           tracker: Tracker,<br/>           domain: Dict[Text, Any]) -&gt; List[Dict[Text, Any]]:<br/><br/>      dispatcher.utter_message("Hello World! from custom action")<strong class="nf hi">      return</strong> []</span></pre><p id="d059" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">重要链接:</strong></p><p id="90c5" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><strong class="ju hi">注:</strong>提到喜欢用来写这篇文章和写作的基本知识，我从官方Rasa开发认证学到的。</p><ul class=""><li id="75ac" class="js jt hh ju b jv ma jx mb jz mz kb na kd nb kf kg kh ki kj bi translated"><a class="ae it" href="https://rasa.com/showcase/" rel="noopener ugc nofollow" target="_blank">https://rasa.com/showcase/</a></li><li id="4c37" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated"><a class="ae it" href="https://rasa.com/docs/rasa/" rel="noopener ugc nofollow" target="_blank">https://rasa.com/docs/rasa/</a></li><li id="853e" class="js jt hh ju b jv kk jx kl jz km kb kn kd ko kf kg kh ki kj bi translated"><a class="ae it" href="https://blog.rasa.com/rasa-education-and-certification/" rel="noopener ugc nofollow" target="_blank">https://blog.rasa.com/rasa-education-and-certification/</a></li></ul></div><div class="ab cl kp kq go kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="ha hb hc hd he"><p id="54c0" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">推特账号:</p><div class="nr ns ez fb nt nu"><a href="https://twitter.com/datarishi" rel="noopener  ugc nofollow" target="_blank"><div class="nv ab dw"><div class="nw ab nx cl cj ny"><h2 class="bd hi fi z dy nz ea eb oa ed ef hg bi translated">JavaScript不可用。</h2><div class="ob l"><h3 class="bd b fi z dy nz ea eb oa ed ef dx translated">编辑描述</h3></div><div class="oc l"><p class="bd b fp z dy nz ea eb oa ed ef dx translated">twitter.com</p></div></div><div class="od l"><div class="oe l of og oh od oi in nu"/></div></div></a></div><p id="a68e" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">Linkedin:</p><p id="bd5d" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><a class="ae it" href="https://www.linkedin.com/in/vishvdeep-dasadiya-65770312b/" rel="noopener ugc nofollow" target="_blank">Vishvdeep dasa diya——助理软件工程师——埃森哲| LinkedIn </a></p><p id="d04e" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated">GitHub:</p><p id="b38e" class="pw-post-body-paragraph ll lm hh ju b jv ma ln lo jx mb lp lq jz mc ls lt kb md lv lw kd me ly lz kf ha bi translated"><a class="ae it" href="https://github.com/vdnew/Real-Time-Insights-from-Social-media-Data---Data-Science-Case-Study" rel="noopener ugc nofollow" target="_blank">https://github.com/vdnew/</a></p></div></div>    
</body>
</html>