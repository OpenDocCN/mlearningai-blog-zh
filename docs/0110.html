<html>
<head>
<title>Time series proportion data analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列比例数据分析</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/time-series-proportion-data-analysis-3ce9071b37ac?source=collection_archive---------2-----------------------#2021-02-08">https://medium.com/mlearning-ai/time-series-proportion-data-analysis-3ce9071b37ac?source=collection_archive---------2-----------------------#2021-02-08</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="6896" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">比例数据分析常用于监测传染病的严重程度。例如，城市A与城市b的COV19患病率进行比较。通过使用比例数据，我们可以对用于控制情况的措施有一个总体了解。</p><p id="d746" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下是这两个城市随时间变化的流行率。(此为模拟数据，非真实)。总体来看，随着时间的推移，A组的阳性率高于B组。但问题是，我们如何给出一个<strong class="ig hi">统计陈述</strong>来描述这个？</p><figure class="jd je jf jg fd jh er es paragraph-image"><div role="button" tabindex="0" class="ji jj di jk bf jl"><div class="er es jc"><img src="../Images/376821f8e29e3705ac82cdbeed62ff0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SQseBq7Q3MaIdd59xYDHrA.png"/></div></div></figure></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h1 id="d69c" class="jv jw hh bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">动机</h1><p id="9362" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">我们想知道<strong class="ig hi"> <em class="ky">随着时间</em> </strong>的推移，A组的患病率是否高于B组。也就是说，时间效应不是我们感兴趣的因素，而是群体效应。</p><h1 id="eebc" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">工作数据</h1><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es le"><img src="../Images/3ffb5c7e7d47b9b6df7e9f084144ed10.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*knRu4-mSSMF4zNFw539itQ.png"/></div></figure><h1 id="708e" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">建模</h1><p id="c125" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">我将执行以下4个模型。</p><ol class=""><li id="9123" class="lf lg hh ig b ih ii il im ip lh it li ix lj jb lk ll lm ln bi translated">线性模型</li><li id="f481" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated">二元回归</li><li id="448d" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated">泊松回归</li><li id="d4d2" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated">自回归</li></ol><p id="4e8c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">本练习的目的不是预测，因此模型的MSE或交叉验证可能不是确定模型用途的好方法。相反，我想更多地关注数据类型、模型假设，当然还有应用某个模型的潜在危险。</p></div><div class="ab cl jo jp go jq" role="separator"><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt ju"/><span class="jr bw bk js jt"/></div><div class="ha hb hc hd he"><h1 id="b32b" class="jv jw hh bd jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks bi translated">线性模型</h1><p id="7d04" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">线性回归永远是起点！</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lt"><img src="../Images/90bd57b28fd747e32ac357f6a8af06d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:916/format:webp/1*pklyo8iTh2T_-YtrXFnJQQ.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es lu"><img src="../Images/54929c41fb7a1123809b21e55c78c518.png" data-original-src="https://miro.medium.com/v2/resize:fit:930/format:webp/1*x-ODYDdXpiFG0dt992HN7g.png"/></div></figure><p id="47c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这里我们可以看到群体效应是显著的。</p><p id="7241" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">优点:易于理解，易于运行</strong></p><p id="ee54" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">缺点:</strong></p><ol class=""><li id="5c10" class="lf lg hh ig b ih ii il im ip lh it li ix lj jb lk ll lm ln bi translated"><strong class="ig hi">因变量在[0，1]之间，不从Infinite到无穷大</strong></li><li id="cc86" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated"><strong class="ig hi">周效应被认为是独立的</strong></li><li id="b75f" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated"><strong class="ig hi">很明显根本不是线性的</strong></li></ol><h1 id="8835" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">二项式回归</h1><p id="06ff" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">本文详细介绍了二项式回归</p><div class="lv lw ez fb lx ly"><a href="https://towardsdatascience.com/the-binomial-regression-model-everything-you-need-to-know-5216f1a483d3" rel="noopener follow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hi fi z dy md ea eb me ed ef hg bi translated">二项式回归模型:你需要知道的一切</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">外加一个使用Python和statsmodels的逐步教程</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">towardsdatascience.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm jm ly"/></div></div></a></div><p id="ba87" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们在这里选择最常用的logit作为连接函数，这与logistic回归非常相似。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mn"><img src="../Images/c23849aae232b217f47aa2ab85352666.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*pHGyUDOpkYwZ0UL4MQoXbA.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mo"><img src="../Images/c366ad034f361b73630cddb1b673823d.png" data-original-src="https://miro.medium.com/v2/resize:fit:962/format:webp/1*eVuoh67TqFAX9h73aIm29g.png"/></div></figure><p id="532c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">p值太显著了！</p><p id="53cf" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">优点:该模型用于预测数据</strong></p><p id="4d2d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated"><strong class="ig hi">缺点:忽略时间效应</strong></p><h1 id="e9c3" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">泊松回归</h1><p id="eb5b" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">泊松回归有一些模型假设</p><ol class=""><li id="c2f9" class="lf lg hh ig b ih ii il im ip lh it li ix lj jb lk ll lm ln bi translated"><strong class="ig hi">泊松响应</strong>响应变量是每单位时间或空间的计数，由泊松分布描述。</li><li id="fea6" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated">独立性观察值必须是相互独立的。</li><li id="7732" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated"><strong class="ig hi">均值=方差</strong>根据定义，泊松随机变量的均值必须等于其方差。</li><li id="1b22" class="lf lg hh ig b ih lo il lp ip lq it lr ix ls jb lk ll lm ln bi translated">平均速率的对数log(λ)必须是x的线性函数。</li></ol><div class="lv lw ez fb lx ly"><a href="https://bookdown.org/roback/bookdown-BeyondMLR/ch-poissonreg.html" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hi fi z dy md ea eb me ed ef hg bi translated">第4章泊松回归|超越多元线性回归</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">关于广义线性模型和高年级本科生多水平模型的应用教科书，具有许多…</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">bookdown.org</p></div></div><div class="mh l"><div class="mp l mj mk ml mh mm jm ly"/></div></div></a></div><p id="2cc0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在我们的例子中，如果N(总测试样本量)远大于p(正率)N&gt;&gt;p，那么泊松分布可以用来近似二项分布。</p><p id="fdc6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了考虑总的测试次数，我们在模型中加入了偏移量。偏移项用于斜率已知的协变量。这种情况可能发生在您为估计人口规模而校正事件数量的情况下。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mq"><img src="../Images/3e8c86845715382cbfefcb11710176e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*4xAUMuPDT6r5I1V-ZiGqvw.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mr"><img src="../Images/61464ddf807d02f86a4874731def78fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*TqQJLEVpQNts2yKoCGEatQ.png"/></div></figure><p id="40d8" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我会假设阳性的数量相对于整个人口来说是非常小的。因此，我包括这个模型。但是！！如果正数不符合泊松分布。这需要谨慎使用。</p><h1 id="9937" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">自回归</h1><p id="f286" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">AR模型的使用是在假设前一时间点的因变量与当前时间点相关的情况下进行的。时间序列分析有很多讨论，AR，MA，…</p><p id="490f" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了简化我们的任务，我假设当前的阳性率只与上周的阳性率相关。它是AR(1)。</p><p id="3bf5" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为了建模的目的，我将数据重新排列如下</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es ms"><img src="../Images/06dce0a1bca1a7e170e285dba35efe18.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*tRonulLW9DRAHey1R3CEJg.png"/></div></figure><p id="d396" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">模型是</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mt"><img src="../Images/6c71dd4c73bd5223cd2c87128e8dcbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*A6yrOtDYOqpjxuQHyJA4OA.png"/></div></figure><p id="1331" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但是我想将[0，1]转换为(Infinite，Infinite)，所以我将公式改写为</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mu"><img src="../Images/d5b471131ce07866c0f8bd9f015f42c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:908/format:webp/1*RWmFX2GFse3euAgnzl5X0w.png"/></div></figure><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mv"><img src="../Images/2c1aefb3d11af16f4e443e7bc1d3fd73.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*nm_BPrw1rmgGdcmDeiKgqg.png"/></div></figure><p id="d6fb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这种情况下，我们考虑数据类型和时间点之间的相关性</p><h1 id="fafb" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">最终比较</h1><p id="e289" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">时间序列模型同时考虑数据类型和时间相关性。这似乎是我们用例中的最佳解决方案。</p><figure class="jd je jf jg fd jh er es paragraph-image"><div class="er es mw"><img src="../Images/706923850adef87ef88758e6fc9f18af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*E0c-qIpHs95Dl7HEpuDGKQ.png"/></div></figure><h1 id="50fd" class="jv jw hh bd jx jy kz ka kb kc la ke kf kg lb ki kj kk lc km kn ko ld kq kr ks bi translated">结论</h1><p id="ae6b" class="pw-post-body-paragraph ie if hh ig b ih kt ij ik il ku in io ip kv ir is it kw iv iw ix kx iz ja jb ha bi translated">在这个用例中，我们应用了4个模型。还有一些选项我没有在这里列出，比如<a class="ae mx" rel="noopener" href="/@mohsin.eee/quasi-binomial-logistic-regression-5cc50a8eb67f">曲赛-二项式</a>、<a class="ae mx" href="https://rcompanion.org/handbook/J_02.html" rel="noopener ugc nofollow" target="_blank">贝塔回归</a>。此外，除了AR模型之外，还有另一种时间序列模型可以使用。</p><p id="c733" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">但别忘了，<strong class="ig hi"> <em class="ky">所有型号都是错的，但有些是有用的</em> </strong></p><p id="c50a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">有时候，最简单的模型最好！</p><div class="lv lw ez fb lx ly"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="lz ab dw"><div class="ma ab mb cl cj mc"><h2 class="bd hi fi z dy md ea eb me ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="mf l"><h3 class="bd b fi z dy md ea eb me ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="mg l"><p class="bd b fp z dy md ea eb me ed ef dx translated">medium.com</p></div></div><div class="mh l"><div class="my l mj mk ml mh mm jm ly"/></div></div></a></div></div></div>    
</body>
</html>