<html>
<head>
<title>Boosting Sales through Targeted Marketing with Arvato Financial Services</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过Arvato金融服务公司的目标市场营销提高销售额</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/boosting-sales-through-targeted-marketing-with-arvato-financial-services-cd8043a04046?source=collection_archive---------8-----------------------#2022-01-04">https://medium.com/mlearning-ai/boosting-sales-through-targeted-marketing-with-arvato-financial-services-cd8043a04046?source=collection_archive---------8-----------------------#2022-01-04</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/00ff215ff2872336c0e11eb5c20196e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L8FRzGd1DgPuXImkK2ZAsg.jpeg"/></div></div></figure><h1 id="6280" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">介绍</h1><p id="6778" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">如果你曾经在YouTube上看过一个关于吸尘器的视频，然后发现自己无论走到哪里都被吸尘器广告轰炸，那么你就经历了目标营销。这种特定的定向营销是通过使用基于内容的推荐引擎来实现的。</p><p id="dd64" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">今天，我还将进行有针对性的营销。然而，我不是向潜在客户提供产品推荐，而是向营销团队提供潜在客户转化的预测概率(假设他们已经参与了营销活动)。</p><h1 id="2317" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">项目定义</h1><p id="93da" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">在这个项目中，德国的一家邮购销售公司有兴趣确定其市场营销的目标人群，以实现增长。</p><p id="97d4" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">因此，我的目标有两个:</p><ol class=""><li id="3f53" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk kv kw kx ky bi translated">使用客户细分，确定最能描述公司核心客户群的普通人群</li><li id="841d" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">确定在营销活动中，哪些人最有可能转化。</li></ol><p id="ef90" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">为了衡量我的细分方法是否成功，我将定义一个叫做<strong class="jp hi">客户因素(CF)的指标。</strong> CF是给定人群中的客户百分比除以总人群中的客户百分比。一个<strong class="jp hi">CF为1 </strong>的细分市场拥有与普通人群相同的客户比例。因此，我们的目标是找到CF大于1的片段。</p><p id="23a5" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我还将使用ROC曲线下面积(AUC)   <strong class="jp hi">度量</strong>来评估监督学习模型在每个可能的分类阈值下的性能。</p><h1 id="edee" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">分析</h1><p id="7a84" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我为这个项目提供了3个数据集:</p><ol class=""><li id="a210" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk kv kw kx ky bi translated">德国普通人口的人口统计数据- 89万人</li><li id="0465" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">邮购公司客户的人口统计数据- 19万人</li><li id="8120" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">作为营销活动目标的个人的人口统计数据-42，000人</li></ol><p id="5652" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">所有3个数据集至少有<strong class="jp hi"> 366个分类(序数和名词)和数字特征</strong>。还提供了一个数据字典，给出了这些特征的85% (314)的描述。</p><p id="90d8" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">366个特性太多了，无法手动分析，所以我使用带有自定义配置的<a class="ae le" href="https://pandas-profiling.github.io/pandas-profiling/docs/master/rtd/" rel="noopener ugc nofollow" target="_blank"> Pandas Profiling </a>来执行我的探索性数据分析，使用下面的代码片段:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lf"><img src="../Images/d5af3f9967e377f237523780d7f38ece.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tf8Lvng0Z4-XmImb3OtO5A.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Generating Pandas Profiling EDA Report with custom configs</figcaption></figure><p id="85ec" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">使用这些报告和数据字典，我得出了以下两个关键观察结果:</p><ul class=""><li id="120f" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">74%的特征是有序的</li></ul><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lp"><img src="../Images/80a7d7664cc5847a9538048e95217d63.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DfQxK1gp3Hh_ch_NS1yi0Q.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Distribution of Feature Types</figcaption></figure><ul class=""><li id="47f7" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">我们的转化率为<strong class="jp hi"> 1.25% </strong>。这意味着在预测转化率时，我们将面对一个<strong class="jp hi">不平衡的目标变量</strong>。</li></ul><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lq"><img src="../Images/bd90368064abe477ff21f77354c4164f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OEkv_eKgksDLhWw_6dwdVA.jpeg"/></div></div></figure><h1 id="9590" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">方法学</h1><h2 id="50eb" class="lr iq hh bd ir ls lt lu iv lv lw lx iz jy ly lz jd kc ma mb jh kg mc md jl me bi translated">数据预处理</h2><p id="81aa" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我的数据预处理流水线相对较轻。我</p><ul class=""><li id="9b56" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">丢失数据超过90%的已删除要素</li><li id="d846" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">对字符串列执行了标签编码</li><li id="ff4e" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">对相对于数据集的其余部分具有很大分布的要素执行最大-最小缩放。</li></ul><p id="f7cb" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">因为我计划使用一个基于树的模型，所以<a class="ae le" href="https://towardsdatascience.com/one-hot-encoding-is-making-your-tree-based-ensembles-worse-heres-why-d64b282b5769" rel="noopener" target="_blank">没有必要对名义特征进行一次性编码</a>。</p><h2 id="e9c9" class="lr iq hh bd ir ls lt lu iv lv lw lx iz jy ly lz jd kc ma mb jh kg mc md jl me bi translated">客户细分</h2><p id="0208" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">我解决这个问题的第一个方法是使用带有噪声的应用程序的<strong class="jp hi">基于分层密度的空间聚类</strong><em class="mf">(</em><a class="ae le" href="https://hdbscan.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">hdb scan</strong></a><strong class="jp hi">)</strong>来执行分割/聚类，然后单独使用降维算法、<strong class="jp hi">t-分布式随机邻居嵌入(</strong><a class="ae le" href="https://scikit-learn.org/stable/modules/generated/sklearn.manifold.TSNE.html" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">TSNE</strong></a><strong class="jp hi">)</strong>来可视化结果。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mg"><img src="../Images/1014eaef76a5090bca5c02ff60e9c770.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*niawqqEfSgYMTYmh92cmrA.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">TSNE Visualisation at Perplexity 5, 30 and 50 respectively and clustered using HDBSCAN (Performed on 10% of the Population Data set)</figcaption></figure><p id="896b" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">HDBSCAN更可取，因为它:</p><ul class=""><li id="dd40" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">成功群集不同密度的数据组</li><li id="a96a" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">将不适合任何聚类的数据标记为噪音</li><li id="0273" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated"><a class="ae le" href="https://hdbscan.readthedocs.io/en/latest/performance_and_scalability.html" rel="noopener ugc nofollow" target="_blank">比DBSCAN和其他几种聚类算法更具可扩展性</a></li></ul><p id="8c2c" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">然而，在经历了许多<code class="du mh mi mj mk b">MemoryError</code>例外之后，部分是由于我的机器的限制，我选择了如下所示的方法。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ml"><img src="../Images/f70b4ef6cbc98ca78f771feb7ad65134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jykTlyPt1EzDVkG0tlwDSQ.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Flow Chart for Customer Segmentation Process</figcaption></figure><p id="9e6a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">然而，正如你在上面看到的，我把TSNE换成了<strong class="jp hi">均匀流形近似和投影(</strong><a class="ae le" href="https://umap-learn.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">【UMAP】</strong></a><strong class="jp hi">)</strong>。为什么？</p><ol class=""><li id="f3c7" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk kv kw kx ky bi translated">UMAP比TSNE更能代表全球结构。这对于聚类来说非常重要，以便获得能够很好地代表数据的聚类。</li><li id="4c61" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">相对于TSNE，UMAP提供了x40的速度提升。</li></ol><p id="cd02" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我还使用了<strong class="jp hi">一个非线性推理模型(LightGBM) </strong>来近似UMAP和HDBSCAN算法执行的聚类过程。这是为了揭示个体clusters⁹.的特征重要性</p><p id="fc78" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">最后，我使用<strong class="jp hi"> SHAP库</strong>来生成推理模型的特征重要性，而不是原生基尼特征重要性。这是因为这是唯一一种既有一致性又有准确性的特征归属方法<strong class="jp hi"/>，正如Scott Lundberg在<a class="ae le" href="https://towardsdatascience.com/interpretable-machine-learning-with-xgboost-9ec80d148d27" rel="noopener" target="_blank">这篇非常有趣的帖子</a>中解释的那样。</p><h2 id="c79d" class="lr iq hh bd ir ls lt lu iv lv lw lx iz jy ly lz jd kc ma mb jh kg mc md jl me bi translated">构建转化率预测模型</h2><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mm"><img src="../Images/116b4a2e0d46ee7f03ac60f9075f4e71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cb4ZVZSKyNlXLe4v4ZpexA.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Flow Chart for Building Supervised Conversion Prediction Model</figcaption></figure><p id="5da9" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我在这里使用了<strong class="jp hi"> LightGBM </strong>，因为监督模型训练比xGBoost或sci-kit learn的随机森林模型更快，性能也差不多。我还用网格搜索来确定参数。</p><p id="1aee" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">为了处理转换速率的不平衡，我选择了<strong class="jp hi">合成少数过采样技术(SMOTE)。在我的训练过程中，我测试了三种风格的SMOTE:kmeansmote，BalancedSMOTE &amp;由学习不平衡的library⁸.提供的常规smote</strong></p><p id="5bbf" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我还为模型训练创建了两个独立的工作流。在一个实验中，我用原始特征训练模型，而在另一个实验中，我用UMAP算法的10维向量训练模型。这里的关键思想是，后者应该训练得更快，AUC与前者相似。</p><p id="dd78" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我使用了<strong class="jp hi">分层K折叠交叉验证</strong>来确保在执行交叉验证时在每个折叠中保持类平衡。</p><p id="7c98" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">最后，我使用SHAP库生成的Shapely值来执行特征选择，如下面的代码片段所示:</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mn"><img src="../Images/d5729af4f95a22f83ac19687adbabb8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ltgHjDmzr1RDuA1eDkwvRw.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Performing Feature Selection with SHAP</figcaption></figure><h1 id="d178" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">结果</h1><h2 id="3b44" class="lr iq hh bd ir ls lt lu iv lv lw lx iz jy ly lz jd kc ma mb jh kg mc md jl me bi translated">客户细分</h2><p id="a290" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">上述多步聚类方法产生了145个独特的聚类。84%的群体数据集被成功聚类，而剩余的16%被标记为噪声。</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mo"><img src="../Images/e9f07fac487711a60e23081f688f665c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ZIs1URT6SI0n9cRz38sQA.jpeg"/></div></div></figure><p id="3001" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">上面的直方图显示，我们发现了21个客户因子(CF)大于1的集群。这太棒了！</p><p id="bbe3" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">然而，这21个集群占客户群的百分比是多少？如果它少于<strong class="jp hi"> 15% </strong>(这是我们在随机分配集群的情况下得到的结果)，那么我们的技术失败了。</p><p id="4104" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">为了回答这个问题，我制作了下面的气泡图</p><figure class="lg lh li lj fd ii er es paragraph-image"><div class="er es mp"><img src="../Images/a385a6e7f947ce16531265c573abf283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*uCGcK6Qh7A6_B5hGmcKA9w.jpeg"/></div></figure><p id="1814" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">x轴给出了分组聚类所捕获的德国总人口的百分比。y轴也做同样的事情，但是是针对邮购公司的客户。</p><p id="201a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我们看到前7个集群(青色)占据了大约67%的邮购公司客户群。剩余的14个簇(红色)捕获了大约4%。因此，总体而言，21个集群占据了70%以上的客户群。成功！</p><p id="47ad" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">另请注意，底部的97个集群(蓝色)虽然只占据了客户群的<strong class="jp hi"> 8% </strong>，却占据了德国人口的<strong class="jp hi"> 34% </strong>。可以肯定地说，营销团队应该把这部分人群放在次要位置。</p></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><p id="908a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">使用我们构建的推理模型+ SHAP，我们可以发现顶级clusters⁹的关键特征(注意，我使用了SHAP的依赖图来制定以下解释):</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mx"><img src="../Images/4fbb9f207d2a6235287a7fe71c6dac22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fn02OY4jrlfUYpQy41dtkA.png"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Feature Importance of Cluster 5 from Inferential Model</figcaption></figure><p id="e66f" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">该集群包含约44% </strong>的邮购客户群，其特点是在31岁以下车主比例较高的地区，相对较年轻。(<strong class="jp hi"> EXTEL992 </strong>和<strong class="jp hi"> GEBURTSJAHR </strong>与个人年龄有关。)</p><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es my"><img src="../Images/a3c98aaca7917ab7cccef5d1e2957e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kh1iy7a4CNMx6InYYO4BtA.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Feature Importance of Cluster 10 from Inferential Model</figcaption></figure><p id="72cf" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated"><strong class="jp hi">这个群体包含大约20% </strong>的邮购客户群，其特点是相对年轻，没有孩子。(<strong class="jp hi">LP _ lebenphase _ FEIN</strong>与个人的生命阶段有关)</p><h2 id="19e1" class="lr iq hh bd ir ls lt lu iv lv lw lx iz jy ly lz jd kc ma mb jh kg mc md jl me bi translated">构建转化率预测模型</h2><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es mz"><img src="../Images/7dde2fbd8baa94a690ece2195722d561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6KloMwacXku98TujwhE84w.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Best Performing Model</figcaption></figure><p id="0bd2" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">我的表现最好的模型在<strong class="jp hi">测试</strong> <strong class="jp hi">中AUC达到0.767。</strong>注意，我<strong class="jp hi"> </strong>满足于常规SMOTE，因为它导致最小的过拟合模型。如上所示，获胜参数是:</p><ul class=""><li id="7f62" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">0.01的LightGBM <strong class="jp hi"> learning_rate </strong></li><li id="55fa" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">500棵决策树(<strong class="jp hi"> n_estimators </strong></li><li id="6eb3" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">正则SMOTE算法</li><li id="7c01" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">击杀邻居100人</li></ul></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es na"><img src="../Images/95a41930733de43988cc1a558c8f854c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QJ46xyypTWtbezPKX1Q_Ag.jpeg"/></div></div><figcaption class="lk ll et er es lm ln bd b be z dx">Training Results</figcaption></figure><p id="b90a" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">上面我们看到了在特征选择之前的AUC测试集结果<strong class="jp hi">。特征选择前后的结果相当相似。因此，即使在执行了特性选择之后，上面的图表仍然可以给我们提供有用的见解。</strong></p><p id="44e6" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">在来自UMAP的10-d向量上的训练产生了好得多的训练时间。在某些情况下，我实现了<strong class="jp hi"> x8的加速</strong>。但是，请注意上面的内容，它会导致较差的AUC。</p><p id="bab2" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">这是因为我调整了UMAP算法，产生了一个10维向量，它能更好地代表全局结构，而不是局部结构。因此，它不包含足够的局部结构信息，因此模型无法预测各个转化率。</p></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><figure class="lg lh li lj fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es nb"><img src="../Images/cb5e7469e544c18370c85aec147759d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MeQYzY6lnin4zYhzn3ueew.jpeg"/></div></div></figure><p id="3ba9" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">的五大特性解释如下。(注意，我使用了SHAP的依赖图来阐述下面的解释)</p><ol class=""><li id="1839" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk kv kw kx ky bi translated"><strong class="jp hi">LP _ lebenphase _ FEIN</strong>:个人的美好人生阶段范畴。处于人生早期阶段(单身低收入到平均收入)的人更有可能皈依。</li><li id="ca48" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">GFK_URLAUBERTYP :个人的度假习惯。度假习惯不明的人很可能会皈依。</li><li id="63a9" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><strong class="jp hi">CAMEO _ DEU _ 2015</strong>:CAMEO提供的人物分类。属于“最富有的人”一类的人可能会改变信仰</li><li id="5e1d" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><strong class="jp hi"> D19_SOZIALES </strong>:未知特性。与个人的“社会”特征相关</li><li id="bc9f" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><strong class="jp hi"> AGER_TYP </strong>:年龄分类。属于“经验驱动型老年人”的人更有可能改变信仰</li></ol><h1 id="1a23" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">结论</h1><p id="5e61" class="pw-post-body-paragraph jn jo hh jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ha bi translated">总之:</p><ul class=""><li id="82e2" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk lo kw kx ky bi translated">我在普通人群中发现了客户系数大于1的细分市场，这些细分市场占据了邮购公司70%以上的核心客户群。</li><li id="b07f" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk lo kw kx ky bi translated">我建立了一个监督模型，以0.767的AUC预测营销活动接受者的转化概率。</li></ul><p id="6376" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">以下是我的方法可以改进的两个地方:</p><ol class=""><li id="f897" class="kq kr hh jp b jq kl ju km jy ks kc kt kg ku kk kv kw kx ky bi translated">测试处理不平衡数据的其他方法，例如ADASYN</li><li id="e61a" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">尝试其他型号，如CatBoost</li></ol></div><div class="ab cl mq mr go ms" role="separator"><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv mw"/><span class="mt bw bk mu mv"/></div><div class="ha hb hc hd he"><p id="39b9" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">这个项目真的很有趣！最具挑战性的部分是制定客户细分解决方案，因为机器的限制以及新手的限制；).如果你对项目的任何部分有更好的方法，请随意分享。</p><p id="5b10" class="pw-post-body-paragraph jn jo hh jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj kk ha bi translated">如果你想看看我的代码，可以在这里找到</p><h1 id="4e82" class="ip iq hh bd ir is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm bi translated">参考</h1><ol class=""><li id="e5bf" class="kq kr hh jp b jq jr ju jv jy nc kc nd kg ne kk kv kw kx ky bi translated"><a class="ae le" href="https://distill.pub/2016/misread-tsne/" rel="noopener ugc nofollow" target="_blank">如何有效地使用t-SNE作者:马丁·瓦滕伯格，费尔南达·维加斯&amp;伊恩·约翰逊</a></li><li id="e64d" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://hdbscan.readthedocs.io/en/latest/how_hdbscan_works.html" rel="noopener ugc nofollow" target="_blank">hdb scan如何工作— HDBSCAN文档</a></li><li id="380d" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated">安迪·科恩的《了解UMAP》&amp;亚当·皮尔斯</li><li id="d7b2" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://umap-learn.readthedocs.io/en/latest/clustering.html" rel="noopener ugc nofollow" target="_blank">使用UMAP进行聚类— UMAP文档</a></li><li id="d638" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://towardsdatascience.com/tsne-vs-umap-global-structure-4d8045acba17" rel="noopener" target="_blank"> tSNE vs. UMAP:尼古拉·奥斯科尔科夫的全球结构</a></li><li id="f6ca" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://shap-lrjball.readthedocs.io/en/docs_update/example_notebooks/tree_explainer/Census%20income%20classification%20with%20LightGBM.html" rel="noopener ugc nofollow" target="_blank">用light GBM-SHAP文档进行普查收入分类</a></li><li id="3c5a" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://towardsdatascience.com/the-right-way-of-using-smote-with-cross-validation-92a8d09d00c7" rel="noopener" target="_blank">KSV·穆拉利达尔交叉验证SMOTE的正确使用方法</a></li><li id="74ca" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://imbalanced-learn.org/stable/auto_examples/over-sampling/plot_comparison_over_sampling.html" rel="noopener ugc nofollow" target="_blank">比较过采样采样器—不平衡学习文档</a></li><li id="3f77" class="kq kr hh jp b jq kz ju la jy lb kc lc kg ld kk kv kw kx ky bi translated"><a class="ae le" href="https://github.com/scikit-learn-contrib/hdbscan/issues/195" rel="noopener ugc nofollow" target="_blank">集群中的重要特性— GitHub问题</a></li></ol><div class="nf ng ez fb nh ni"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nj ab dw"><div class="nk ab nl cl cj nm"><h2 class="bd hi fi z dy nn ea eb no ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="np l"><h3 class="bd b fi z dy nn ea eb no ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nq l"><p class="bd b fp z dy nn ea eb no ed ef dx translated">medium.com</p></div></div><div class="nr l"><div class="ns l nt nu nv nr nw in ni"/></div></div></a></div></div></div>    
</body>
</html>