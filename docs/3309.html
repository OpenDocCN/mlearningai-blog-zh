<html>
<head>
<title>Pandas Profiling: Full Guide on Complete Data Exploration in one line of code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pandas Profiling:一行代码中完整数据探索的完整指南</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/pandas-profiling-full-guide-on-complete-data-exploration-in-one-line-of-code-e4c0b023dd2d?source=collection_archive---------6-----------------------#2022-08-17">https://medium.com/mlearning-ai/pandas-profiling-full-guide-on-complete-data-exploration-in-one-line-of-code-e4c0b023dd2d?source=collection_archive---------6-----------------------#2022-08-17</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="90b9" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">关于如何通过pandas-profiling生成详尽的数据探索的综合指南</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/62d50ccdf7781652a9d0e0a46531bdd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ki1FfBFVj04Urx4yUpaVag.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">[Image on <a class="ae jm" href="https://pandas-profiling.ydata.ai/docs/master/index.html" rel="noopener ugc nofollow" target="_blank">https://pandas-profiling.ydata.ai/docs/master/index.html</a>]</figcaption></figure><h1 id="5e1e" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">目录</h1><blockquote class="kf kg kh"><p id="e5b5" class="ki kj kk kl b km kn ii ko kp kq il kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated"><a class="ae jm" href="#aec4" rel="noopener ugc nofollow"> 1。</a> <br/>简介<a class="ae jm" href="#9bea" rel="noopener ugc nofollow"> 2。代号</a> <br/> <a class="ae jm" href="#0964" rel="noopener ugc nofollow"> 3。结构</a> <br/> <a class="ae jm" href="#cb97" rel="noopener ugc nofollow"> 4。管理大型数据集</a></p></blockquote><h1 id="aec4" class="jn jo hh bd jp jq jr js jt ju jv jw jx in jy io jz iq ka ir kb it kc iu kd ke bi translated">1.介绍</h1><p id="67bf" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">作为数据科学家，但总的来说，作为处理数据的计算机科学家，我们都发现自己处于以下情况:</p><blockquote class="kf kg kh"><p id="a198" class="ki kj kk kl b km kn ii ko kp kq il kr ks kt ku kv kw kx ky kz la lb lc ld le ha bi translated">“真好，我得到了一个新的数据集！哦，等等，它有500，000行，200列。我如何在不发疯的情况下快速了解内容？”</p></blockquote><p id="8605" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">我确信你们每个人(像我一样)至少曾经拿出过那个小心翼翼地保护着的python文件，它包含了计算统计数据、绘图等的函数。试图找出这个数据集中到底有什么🤣。</p><p id="a09e" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">今天，我想向大家介绍一个<strong class="kl hi">解决方案</strong>，它(至少对我来说)<strong class="kl hi">极大地减少了在这些探索中浪费的时间</strong>，<strong class="kl hi">提高了</strong>它们的<strong class="kl hi">质量</strong>，并允许我注意到数据中我通常会忽略的行为！🥳</p><p id="f9d3" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">这个包裹被称为<a class="ae jm" href="https://pandas-profiling.ydata.ai/docs/master/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kl hi">熊猫——简介</strong> </a>。它可以让你用一行代码生成一个完整详尽的报告。</p><p id="d927" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">结果的一个例子:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es ln"><img src="../Images/8b18e9b9f59539289fc7d8580f1fed04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*IpIxgu8qtafTLDCOvGMZwQ.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Census Income Dataset Example. [GIF by Author]</figcaption></figure><p id="1f72" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">潜力和配置的可能性比你想象的要多得多。这不会是一个详尽的指南，但我会向你展示其中的一些并给你一些提示。</p><p id="2394" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">注:本文中的所有例子都基于一份由公共数据集生成的报告，即人口普查收入数据集，可通过以下<a class="ae jm" href="https://archive.ics.uci.edu/ml/datasets/census+income" rel="noopener ugc nofollow" target="_blank">链接</a>获得。</p></div><div class="ab cl lo lp go lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ha hb hc hd he"><h1 id="9bea" class="jn jo hh bd jp jq lv js jt ju lw jw jx in lx io jz iq ly ir kb it lz iu kd ke bi translated">2.密码</h1><p id="4a4e" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">正如预期的那样，生成报告的代码非常简单。安装数据集就足够了，例如通过pip:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="1729" class="mf jo hh mb b fi mg mh l mi mj">pip install pandas-profiling</span></pre><p id="9287" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">然后执行下面的代码:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="5d7c" class="mf jo hh mb b fi mg mh l mi mj">import pandas as pd<br/>from pandas_profiling import ProfileReport</span><span id="da53" class="mf jo hh mb b fi mk mh l mi mj">df = pd.read_csv('census.csv')</span><span id="2f01" class="mf jo hh mb b fi mk mh l mi mj">profile = ProfileReport(df)<br/>profile.to_file(output_file='census.html', title = 'Census Dataset')</span></pre><p id="7517" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">这样，报告将保存在一个html文件中，可以使用简单的浏览器进行导航和交互。</p><p id="3257" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">或者，如果您想在笔记本中直接使用它，您可以使用以下代码:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="7119" class="mf jo hh mb b fi mg mh l mi mj">profile.to_widgets()<br/>profile.to_notebook_iframe()</span></pre></div><div class="ab cl lo lp go lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ha hb hc hd he"><h1 id="0964" class="jn jo hh bd jp jq lv js jt ju lw jw jx in lx io jz iq ly ir kb it lz iu kd ke bi translated">3.结构</h1><p id="8d71" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">pandas-profiling生成的报告分为<strong class="kl hi"> 7个部分</strong>:</p><ul class=""><li id="8211" class="ml mm hh kl b km kn kp kq lh mn lj mo ll mp le mq mr ms mt bi translated"><strong class="kl hi">概述</strong>:包含与数据集相关的高级信息(变量数量、行数等)的概述。)和再现性(配置、包版本等。).</li><li id="385b" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">变量</strong>:这是<strong class="kl hi">主段</strong>。它包含每个变量(列)的一个小节，描述基本统计数据(差异、中位数、标准差等)。)和剧情。</li><li id="ec5b" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">交互</strong>:它包含所有数字变量组合的热图。</li><li id="d125" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">相关性</strong>:这是<strong class="kl hi">第二重要的部分</strong>。它包含使用不同度量的各种相关矩阵。</li><li id="5c38" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">缺失值</strong>:包含一个柱状图，描述每个变量缺失值的数量。</li><li id="2133" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">样本</strong>:包含数据集的一个样本。</li><li id="8dfd" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">重复行</strong>:包含最频繁重复的行。</li></ul><p id="1f80" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">我们现在将详细研究以下部分:变量和相关性。</p><h2 id="2724" class="mf jo hh bd jp mz na nb jt nc nd ne jx lh nf ng jz lj nh ni kb ll nj nk kd nl bi translated">变量</h2><p id="d042" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">正如预期的那样，为每个变量生成了一个专用的子部分。它的主要特点是分析器<strong class="kl hi">可以区分变量的类型</strong> (Int、Float、Categorical、Timestamp等。)<strong class="kl hi">和改编探索</strong>。</p><p id="c8f2" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">让我们以一个<strong class="kl hi">整型变量</strong>为例:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nm"><img src="../Images/41822f00411c623b72128d83c1587438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pzpRk1pvGRmMS7lZGIbNdA.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Numerical variable description. [GIF by Author]</figcaption></figure><p id="ad54" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">现在让我们一起来看一个分类变量的例子:</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nn"><img src="../Images/26803591acb77c0463312a58a6acdcb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*oxZu541JAQ8B8-fm65k6eQ.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Categorical variable description. [GIF by Author]</figcaption></figure><p id="5dfe" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">正如我们所看到的，曲线图和统计数据都根据被分析变量的类型而变化。</p><p id="50fd" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">如果pandas-profiling错误地解释了某些变量(例如，分类变量的值为“1”、“2”、“3”等。被解释为整数)在启动报告之前，您可以通过以下方式解决这个问题:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="e2e5" class="mf jo hh mb b fi mg mh l mi mj">df['cat_var'] = df['cat_var'].astype('str')</span></pre><h2 id="2c5d" class="mf jo hh bd jp mz na nb jt nc nd ne jx lh nf ng jz lj nh ni kb ll nj nk kd nl bi translated">相关</h2><p id="b4fb" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">当执行探索性分析时，尤其是在数据科学领域，要考虑的主要特征之一是变量之间的相关性。</p><p id="5201" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">Pandas-profiling为我们提供了不同类型的相关性(甚至有一个简短的描述来正确地解释它们):</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es nn"><img src="../Images/132c6af37715b1e58c2e57d7ec78ae65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*pcHNoVgGpxe1BqF_5d4IHQ.gif"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Correlations provided by pandas-profiling. [GIF by Author]</figcaption></figure><p id="de70" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">这是因为每个指标都有不同的特征。</p><p id="096a" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">让我们简单总结一下:</p><ul class=""><li id="bcc2" class="ml mm hh kl b km kn kp kq lh mn lj mo ll mp le mq mr ms mt bi translated"><strong class="kl hi">斯皮尔曼</strong>:数值变量之间的单调相关。范围[-1，1]。</li><li id="45a3" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">皮尔森</strong>:数值变量之间的线性相关。范围[-1，1]。</li><li id="6915" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi">肯德尔</strong>:数值变量之间的序数相关性。范围[0，1](因此不识别逆相关)。</li><li id="7cb4" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi"> Cramer </strong>:分类变量之间的相关性。范围[0，1]。</li><li id="577e" class="ml mm hh kl b km mu kp mv lh mw lj mx ll my le mq mr ms mt bi translated"><strong class="kl hi"> Phik </strong>:所有变量之间的相关性。范围[-1，1]。</li></ul><p id="4b69" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">有趣的是，Phik相关性是存在的。一个相当近期的和<strong class="kl hi">创新的</strong>指标，能够关联所有类型的变量。更多详情，请看<a class="ae jm" href="https://phik.readthedocs.io/en/latest/index.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p></div><div class="ab cl lo lp go lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ha hb hc hd he"><h1 id="cb97" class="jn jo hh bd jp jq lv js jt ju lw jw jx in lx io jz iq ly ir kb it lz iu kd ke bi translated">4.管理大型数据集</h1><p id="a6e3" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">相关性和相互作用的计算相当耗时。可能会有情况下，它可能会变得太难管理。幸运的是，我们有几种方法来处理这个问题:</p><h2 id="e0a7" class="mf jo hh bd jp mz na nb jt nc nd ne jx lh nf ng jz lj nh ni kb ll nj nk kd nl bi translated">1.简单但不可配置的方法</h2><p id="014d" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">必须设置以下参数:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="7751" class="mf jo hh mb b fi mg mh l mi mj">profile = ProfileReport(df, minimal=True)</span></pre><p id="b4d2" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">这将自动停用所有繁重的计算(如Phik，原因显而易见)。</p><h2 id="04d0" class="mf jo hh bd jp mz na nb jt nc nd ne jx lh nf ng jz lj nh ni kb ll nj nk kd nl bi translated">2:硬性但可定制的方法</h2><p id="d54c" class="pw-post-body-paragraph ki kj hh kl b km lf ii ko kp lg il kr lh li ku kv lj lk ky kz ll lm lc ld le ha bi translated">有几个参数可以配置您自己的报告。</p><p id="d92d" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">用户可以通过以下方式单独配置要停用的相关性:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="9558" class="mf jo hh mb b fi mg mh l mi mj">profile = df.profile_report(<br/>    correlations={<br/>        "pearson": {"calculate": True},<br/>        "spearman": {"calculate": False},<br/>        "kendall": {"calculate": False},<br/>        "cramers": {"calculate": True},<br/>        "phi_k": {"calculate": False},<br/>    },<br/>)</span></pre><p id="0d21" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">或者，在机器学习问题的情况下，您只想看到所有变量与您的目标的交互，您可以通过以下方式来实现:</p><pre class="ix iy iz ja fd ma mb mc md aw me bi"><span id="d267" class="mf jo hh mb b fi mg mh l mi mj">profile = df.profile_report(<br/>    interactions={<br/>        "targets": ['target']<br/>    },<br/>)</span></pre></div><div class="ab cl lo lp go lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="ha hb hc hd he"><p id="3b21" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">我们可以认为这个关于<strong class="kl hi">熊猫的简介</strong>已经完成了。我希望它能帮助你第一次接触这个包，避免不必要的时间浪费。😄</p><p id="620e" class="pw-post-body-paragraph ki kj hh kl b km kn ii ko kp kq il kr lh kt ku kv lj kx ky kz ll lb lc ld le ha bi translated">再见，弗朗西斯科</p><div class="no np ez fb nq nr"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="ns ab dw"><div class="nt ab nu cl cj nv"><h2 class="bd hi fi z dy nw ea eb nx ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ny l"><h3 class="bd b fi z dy nw ea eb nx ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nz l"><p class="bd b fp z dy nw ea eb nx ed ef dx translated">medium.com</p></div></div><div class="oa l"><div class="ob l oc od oe oa of jg nr"/></div></div></a></div></div></div>    
</body>
</html>