<html>
<head>
<title>My first Computer vision project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我的第一个计算机视觉项目</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/my-first-computer-vision-project-e4bf93562405?source=collection_archive---------11-----------------------#2022-09-30">https://medium.com/mlearning-ai/my-first-computer-vision-project-e4bf93562405?source=collection_archive---------11-----------------------#2022-09-30</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="4a4e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">大家好，我在这里分享我在计算机视觉领域做的一个小项目。我最近在Udemy上从何塞·波尔蒂利亚那里学完了TensorFlow 2.0和OpenCV，我想测试一下我新学到的技能。</p><p id="75b9" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">为此，我做了一个程序，可以在现场视频模糊脸。这种程序可以在网上用来隐藏一个人的身份，从而保护这个人的隐私。该程序使用MeanShift和CAMShift等对象跟踪算法来检测正面人脸特征，然后允许我们在检测到的区域上绘制一个矩形，随后使用OpenCV中可用的3种主要模糊方法对其进行模糊处理，即blur()、medianBlur()、GaussianBlur()。</p><p id="8223" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我还把这个项目上传到了我的GitHub上。您可以通过:-<a class="ae jc" href="https://github.com/venu-banaras/face-blur-opencv" rel="noopener ugc nofollow" target="_blank"><strong class="ig hi">https://github.com/venu-banaras/face-blur-opencv</strong></a>访问</p><p id="ac65" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这篇文章中，我将简单地强调我在做这个项目时学到的东西。首先，我们导入必要的库。接下来，我们使用CascadeClassifier()方法来告诉cv2我们需要什么样的特性。CascadeClassifier()方法是Viola-Jones算法的一种实现，Viola-Jones算法是一种对象检测算法，它接受XML文件作为输入，以训练它检测到了什么特征。XML文件基本上是面部特征的代码版本，计算机可以用来学习检测面部。它创建级联特征，然后将它们应用于图像的像素。但是由于一幅图像可以有数千个特征点需要学习，而这些特征点会根据图像的大小而变化(例如24*24像素的图像会有160000多个特征)，我们使用<strong class="ig hi"> Adaboost从这些特征中选择最佳特征。</strong></p><p id="4df7" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在应用分类器之后，我们使用<strong class="ig hi">检测多尺度()</strong>方法将它们应用于正在捕获的实时视频的所有传入帧。该方法将返回分类器检测到人脸的坐标元组。我们通过使用元组解包将这些坐标存储在变量中，首先检索它们，然后将它们存储在变量中，在我的例子中，变量是<em class="jd"> track_window </em>。在此之后，我们从输入帧中定义我们的感兴趣区域<em class="jd">ROI</em>，并使用切片在其上绘制一个矩形。</p><p id="d63c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我们知道HSV颜色方案在检测颜色方面更有能力。所以我们使用cvtColor()方法将我们的<em class="jd"> roi </em>转换成HSV格式，这样当我们应用MeanShift和CAMShift算法时，它们可以更容易更好地识别人脸。之后，我们创建图像的<em class="jd"> hsv_roi </em>的直方图，这是归一化图像所需要的。我们为所有的帧提供了<em class="jd"> hsv_roi </em>和最小最大样式归一化。我们还需要为视频指定一个终止标准。如果达到一定的条件，我们将终止我们的网络摄像头捕捉帧的循环。</p><p id="b1de" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">term_crit = (cv2。TERM_CRITERIA_EPS | cv2。TERM_CRITERIA_COUNT，10，1)</p><p id="6e93" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以上是我们的终止标准。在这种情况下，如果我们达到某个ε值或计数值，我们可以终止我们的视频。</p><p id="99a4" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">然后，我们在我们的帧上应用反投影方法，因为MeanShift和CAMShift算法需要它来持续检测面部。然后，我们将MeanShift和CamShift算法应用于检测到的人脸。</p><p id="a1c6" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在，我们正在检测和跟踪摄像机画面中的人脸。我们现在通过从CAMShift或MeanShift算法获得检测到的面部的坐标来应用矩形。我们使用<em class="jd"> cv2.rectangle() </em>方法在检测到的人脸上应用矩形。</p><p id="9e3d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这之后，我们需要在脸上应用模糊。我们首先确定要应用模糊的区域，通过从算法接收面部的坐标并将其存储在一个变量中，在我的例子中是<em class="jd"> blur_area </em>。然后我们在这个区域应用模糊。如前所述，我们可以在这里应用3种类型的模糊。我们选择<em class="jd"> GaussianBlur() </em>，因为它是三者中效率最高的。</p><p id="e545" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在我们使用<em class="jd"> cv2.imshow() </em>方法将这个模糊应用到我们想要模糊的帧区域并显示我们的帧。</p><p id="d9c2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">在这里，我想指出发生的一个错误。上面我说过我们需要单独指定要模糊的区域。这是一个重要的步骤，因为如果我们不明确指定它，就会出现下面的错误:-</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/fe6f6fd826307408a4fd447779b75733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XP-MrtIhLNgXpdEW3KxjPg.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Whole frame gets blurred (By author)</figcaption></figure><p id="9af1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这就是为什么我们首先显式存储模糊区域，然后选择模糊类型和模糊强度并为其提供模糊区域，最后单独将模糊应用于面部区域。</p><p id="5bc0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">之后，我们指定Esc键作为退出窗口的命令。</p><p id="2c0d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该项目的最终结果是</p><figure class="jf jg jh ji fd jj er es paragraph-image"><div role="button" tabindex="0" class="jk jl di jm bf jn"><div class="er es je"><img src="../Images/01db617f2fc13a3832d81390d58351fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ag--DqzKveo8SBb4oeuQ-w.png"/></div></div><figcaption class="jq jr et er es js jt bd b be z dx">Final result (By author)</figcaption></figure><p id="ee7d" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这个项目存在于GitHub <a class="ae jc" href="https://github.com/venu-banaras/face-blur-opencv" rel="noopener ugc nofollow" target="_blank">这里</a>。在存储库中，我已经分别存储了MeanShift和CAMShift算法，并且还提供了haar cascade文件，我用它来训练<em class="jd"> CascadeClassifier()。</em></p><p id="abeb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是我的第一个测试项目，也是我在Medium上的第一篇文章。请为我提供反馈，告诉我如何改进，任何和所有的意见都非常欢迎。</p><p id="6749" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">谢谢你。</p><div class="ju jv ez fb jw jx"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="jy ab dw"><div class="jz ab ka cl cj kb"><h2 class="bd hi fi z dy kc ea eb kd ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="ke l"><h3 class="bd b fi z dy kc ea eb kd ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="kf l"><p class="bd b fp z dy kc ea eb kd ed ef dx translated">medium.com</p></div></div><div class="kg l"><div class="kh l ki kj kk kg kl jo jx"/></div></div></a></div></div></div>    
</body>
</html>