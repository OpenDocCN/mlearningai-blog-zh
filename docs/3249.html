<html>
<head>
<title>AirStats Analytics Project with BigQuery and dbt Cloud — Step-by-Step Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用BigQuery和dbt云的AirStats分析项目—分步教程</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/airstats-analytics-project-with-bigquery-and-dbt-cloud-step-by-step-tutorial-4f08df6c693e?source=collection_archive---------2-----------------------#2022-08-10">https://medium.com/mlearning-ai/airstats-analytics-project-with-bigquery-and-dbt-cloud-step-by-step-tutorial-4f08df6c693e?source=collection_archive---------2-----------------------#2022-08-10</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="bed1" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">这是一个小型dbt(数据构建工具)项目的分步指南。目的是介绍dbt的基本工作原理，让完全初学者更容易入门dbt。</p><h1 id="c661" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">目录</h1><ul class=""><li id="f0d6" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">介绍</li><li id="2e4a" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">设置BigQuery并加载数据</li><li id="8438" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">连接到dbt云并设置存储库</li><li id="d8b3" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">dbt云建模</li><li id="5faa" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">推荐dbt课程</li></ul><h1 id="1f22" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">介绍</h1><p id="b849" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">我们的数据来自<a class="ae kt" href="https://ourairports.com/data/" rel="noopener ugc nofollow" target="_blank">我们的报告</a>，我的项目数据于2022年7月25日修改(原始数据可在<a class="ae kt" href="https://github.com/xibei-chen/airstats_dbt_project_tutorial/tree/main/raw%20data" rel="noopener ugc nofollow" target="_blank">我的GitHub repo </a>上获得)。在<a class="ae kt" href="https://ourairports.com/help/data-dictionary.html" rel="noopener ugc nofollow" target="_blank">数据字典</a>中可以找到所有表格中所有列的描述。我们可以下载6个csv文件供以后使用，包括机场，机场频率，导航设备，跑道，国家和地区。我在这个项目中使用的数据仓库是GCP(谷歌云平台)BigQuery。csv文件将被上传到BigQuery。我们将使用dbt云进行一些数据转换，并创建我们的最终分析层。最终，我们将使用preset作为数据可视化的BI工具。dbt cloud上的建模代码可在<a class="ae kt" href="https://github.com/xibei-chen/airstats_dbt_project_tutorial/tree/main/models" rel="noopener ugc nofollow" target="_blank"> my GitHub repo </a>上获得。现在让我们开始吧！</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ku"><img src="../Images/55e569201e2d15c617cc138ec2c302ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AYHAVPSvkmSZE_PnP6PsYQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">AirStats Analytics Project Overview</figcaption></figure><h1 id="a85f" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">设置BigQuery并加载数据</strong></h1><h2 id="9b16" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">建立</h2><ul class=""><li id="d812" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">登录您的Google帐户</li><li id="8cd3" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">前往<a class="ae kt" href="https://cloud.google.com/" rel="noopener ugc nofollow" target="_blank"> GCP </a>，创建您的帐户(如果您还没有)，新客户将获得300美元的免费积分</li><li id="bab0" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">创建一个名为airstats-project的新项目，然后确保选择这个项目，如下所示</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ly"><img src="../Images/683ebd83adfd1b2f0a6ea50b3f6f2cbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o6UkKc46KthG0ze-xelulA.png"/></div></div></figure><ul class=""><li id="d050" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">在搜索栏上搜索BigQuery，然后单击BigQuery</li><li id="3cd1" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">单击airstats-project右侧的三个点，然后单击创建数据集</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mc"><img src="../Images/d77155fbf9ebce471ca14575c97a08b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7uty6WizAhqsJDyhtYf5kg.png"/></div></div></figure><ul class=""><li id="334a" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">给出数据集ID: airstats，选择离您的位置更近的数据位置，然后单击创建数据集</li></ul><h2 id="0566" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">加载数据</h2><ul class=""><li id="222c" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">点按airstats右侧的三个点，然后点按“创建表格”</li><li id="aada" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">选择从上传创建表格</li><li id="8fd5" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">浏览并选择要上传的csv文件</li><li id="ec2f" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">为您的表命名，例如airports for airports.csv</li><li id="6519" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">滴答自动检测</li><li id="313a" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">单击创建表格</li><li id="050f" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">对我们从机场下载的所有6个csv文件重复加载数据的过程</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es md"><img src="../Images/2e6babab05a2f3eb55b828892200bd5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YL_sZEz3lLec_8IuZVf05Q.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">All tables uploaded</figcaption></figure><h1 id="cfd5" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated"><strong class="ak">连接dbt Cloud并设置存储库</strong></h1><h2 id="4657" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">生成您的BigQuery键</h2><ul class=""><li id="bc96" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">转到<a class="ae kt" href="https://console.cloud.google.com/apis/credentials/wizard" rel="noopener ugc nofollow" target="_blank">大查询凭证向导</a></li><li id="97f5" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">选择BigQuery API，选择应用程序数据，不，我没有将它们用于其他云功能，单击下一步</li><li id="9531" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">在服务帐户名中键入dbt-user，点击创建并继续。</li><li id="06c6" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">选择角色BigQuery Admin，点击继续</li><li id="e07b" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">将您的电子邮件地址添加到服务帐户用户角色和管理员角色，点击完成</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es me"><img src="../Images/7eab542d678422760670aceae97825e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*31pN3Q2TSCc74gbq8sCPGQ.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">Service account created</figcaption></figure><ul class=""><li id="0515" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">单击您刚刚创建的服务帐户</li><li id="17f7" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">转到密钥，单击添加密钥，然后创建新密钥，JSON，然后创建</li></ul><p id="8db2" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">现在私钥已经下载到您的计算机上了。向dbt提供这个键将允许dbt访问您的BigQuery项目。</p><h2 id="188f" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">将<a class="ae kt" href="https://cloud.getdbt.com/" rel="noopener ugc nofollow" target="_blank"> dbt云</a>连接到BigQuery</h2><ul class=""><li id="9987" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">创建您的dbt云帐户</li><li id="99b5" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">选择BigQuery来设置连接</li><li id="1a13" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">上传保存在您计算机中的私钥JSON文件，所有其他必需的字段将自动填充</li><li id="0205" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">BigQuery可选设置:Location应该用您为BigQuery数据集选择的位置来填充</li><li id="cdcd" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">点击测试以验证连接是否成功</li><li id="e37f" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">看到连接测试成功后，单击继续！</li></ul><h2 id="297b" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">设置存储库</h2><p id="a1f2" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">(接下来我在建模部分展示的所有代码都可以在<a class="ae kt" href="https://github.com/xibei-chen/airstats_dbt_project_tutorial/tree/main/models" rel="noopener ugc nofollow" target="_blank">我的GitHub repo </a>上获得。请随意分叉我的回购，并将代码添加到dbt Cloud，作为从头开始做所有事情的替代方案。)</p><ul class=""><li id="a80d" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">在添加存储库来源下选择托管</li><li id="fec0" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">给你的库起个名字，我的名字是air stats-analytics-dbt-tutorial，然后点击Create</li><li id="45b2" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">看到成功导入的存储库后，点按“继续”</li></ul><h1 id="04b0" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">dbt云建模</h1><h2 id="91a6" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">开始开发</h2><ul class=""><li id="cc11" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">点击开始开发，这将需要几分钟来加载</li><li id="a2ed" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">单击初始化您的项目</li><li id="fbd0" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">单击提交，编写提交消息:初始提交，单击提交</li><li id="bf3d" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">用blow代码替换Scratchpad中的代码，然后点击Preview来测试您是否能够直接从BigQuery查询数据</li></ul><pre class="kv kw kx ky fd mf mg mh mi aw mj bi"><span id="c37f" class="lk jd hh mg b fi mk ml l mm mn">select * from `airstats-project.airstats.airports`</span></pre><h2 id="aacb" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">创建层:src、dim和mart</h2><ul class=""><li id="e035" class="ka kb hh ig b ih kc il kd ip ke it kf ix kg jb kh ki kj kk bi translated">用名称创建一个新分支</li><li id="34f0" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">删除模型文件夹下的示例文件夹</li><li id="53b3" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">在models文件夹下创建sources.yml，它设置了数据的来源，以后使用jinja模板会更容易引用</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mo"><img src="../Images/426de9fb37a0dcf2fcfdfee7c64a27ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/1*Sw38un8wLFmL8EqUeTxcyw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">Part of sources.yml</figcaption></figure><ul class=""><li id="c433" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">在models下创建一个名为src的子文件夹，然后开始在sql文件中创建源模型。对于每个源模型，我们使用CTE和jinja模板来引用数据源，我们可以做一些简单的转换，比如只选择我们感兴趣的、对以后的分析有用的列，以及更改列名。这里我只展示了一个src_airports.sql的例子</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mp"><img src="../Images/2f0492cd6a6f0ea4d8973e90ba9bb6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tuWs8xc9_8lzhwZzTjXl9Q.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">src_airports.sql</figcaption></figure><ul class=""><li id="d67b" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">接下来，我们在models文件夹下创建一个名为dim的子文件夹。例如，我在dim_airports_filtered.sql中过滤掉了关闭的机场，在dim _ airports _ aggregated . SQL中过滤掉了关闭的跑道，并做了一个简单的汇总来计算每个机场的跑道数量</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mq"><img src="../Images/874f6329041e41d58acae58b6dc99416.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9iZ1RLv3U7a-LKkCuIUO3Q.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dim_airports_filtered.sql</figcaption></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mr"><img src="../Images/f40494cb4d57bdc0bdefa87dbff8ac7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZL_lVKl9ds4luM6XvQwMg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dim_runways_aggregated.sql</figcaption></figure><ul class=""><li id="fa95" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">然后，我们在models文件夹下创建一个子文件夹mart，我们将所有的表连接在一起，以创建最终的分析层，以便稍后连接到BI工具</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ms"><img src="../Images/cb2569c312ca3e2cb3cd29829f69dacb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HTbQf0IO93PBZZYM5V-wpw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">1. Use CTEs and jinja template to refer to table</figcaption></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mt"><img src="../Images/892bda421ee828016bc24cee4ef3f191.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uVbZjkB7PpiRQ7MjmxW4aw.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">2. Join tables and do some simple transformation to get the correct country ISO code</figcaption></figure><ul class=""><li id="31f7" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">现在，我们在页面底部键入dbt run并点击run，dbt将自动检查依赖关系是否正确并构建所有模型</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mu"><img src="../Images/7d7b276b15fd70e31b4c674998438b88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4akTJkMNpfDoVqea24_iKg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dbt run</figcaption></figure><ul class=""><li id="7124" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">现在，如果我们转到我们的BigQuery，我们可以看到，所有的表都是在模式dbt _[您的名字和姓氏的首字母]下创建的</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mv"><img src="../Images/b63054db55253edc0603a833eeefaffb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uA48Fyt1iTQlwouNa6thnA.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">Analytics models in BigQuery generated</figcaption></figure><h2 id="fee1" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">dbt试验</h2><p id="aaa8" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">这里我想介绍一下dbt中测试的概念。有两种:单一测试和一般测试。为了进行单一测试，我们通常编写将返回失败记录的特定sql。它们通常是一次性的测试，只有一个目的。另一方面，通用测试是在一个带有参数和自变量的测试块中定义的，并且可以反复使用。dbt为我们提供了四个已经定义好的通用测试:unique、not_null、accepted_values和relationship。我想说明我们如何在我们的项目中进行这4个通用测试。</p><ul class=""><li id="fadb" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">我们在models文件夹下创建一个名为schema.yml的文件</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mw"><img src="../Images/5929aa9eef7fbf479a09b183d22d9d56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yNGczmivpkVDHhp3OjPtfg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">Part of the code in schema.yml</figcaption></figure><ul class=""><li id="f1ac" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">如上图所示，我们可以测试airport_ident是否唯一且不为空，airport_type列是否只有这6个可接受的值，以及dim_airport_freqs_aggregated中的每个airport_ident是否存在于dim_airport_filtered中。</li><li id="f8c3" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">我们在页面底部键入dbt test并按enter键，dbt将执行所有测试。如果测试通过了，那我们就没事了。如果没有，我们需要通过查看测试的细节来找出如何修复错误。</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mx"><img src="../Images/324bb71f1122f3a4db423af2b6f25b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WinR4CF9ceyTDSWT5an9qg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dbt test passed</figcaption></figure><h2 id="e65c" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">BI仪表板</h2><p id="bbd8" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">最后，我们希望可视化我们的分析。这里我使用预设作为我的BI工具。</p><ul class=""><li id="f930" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">创建一个<a class="ae kt" href="https://preset.io/" rel="noopener ugc nofollow" target="_blank">预设的</a>账户</li><li id="702f" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">然后单击顶部选项卡中的数据-&gt;数据库</li><li id="f6ad" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">添加数据库-&gt;选择Google BigQuery -&gt;上传BigQuery的私钥JSON文件，然后点击连接</li><li id="19e9" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">单击顶部选项卡中的数据-&gt;数据集</li><li id="e8da" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">添加数据集-&gt;选择Google BigQuery -&gt;选择模式dbt _[您的名字和姓氏的首字母]，因为这是我们的最终市场模型的存储位置，然后选择airstats-analytics</li><li id="3cba" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">然后，我们可以轻松地从这个数据集创建一些图表和仪表板</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es my"><img src="../Images/5f1381488c61c7dc131bb3a7227b314b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G6HeAx2vhnCR3DmZvSKbNg.png"/></div></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es mz"><img src="../Images/4343032d97741059fc9e834cd61b8182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ib_xctv-67cvcgT3pYFv8g.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">Dashboard</figcaption></figure><h2 id="de20" class="lk jd hh bd je ll lm ln ji lo lp lq jm ip lr ls jq it lt lu ju ix lv lw jy lx bi translated">dbt文件和风险</h2><p id="dd15" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">dbt的另一个优点是，它还使代码和文档紧密地联系在一起。我们可以很容易地更新模型、依赖关系、描述等。dbt文档将自动更新。我们还可以在dbt文档中查看谱系图。dbt风险允许我们从dbt文档中直接查看我们的仪表板。</p><ul class=""><li id="ea26" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">首先让我们设置dbt曝光，点击你的预设仪表板上的三个点-&gt;共享-&gt;复制永久链接到剪贴板</li><li id="1b12" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">然后转移到dbt cloud，在models文件夹下创建dashboards.yml，在url粘贴链接，可以指定仪表板的成熟度，仪表板依赖于哪个模型，所有者是谁等。省省吧。</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es na"><img src="../Images/b046c51ada3af127c39dc4cb45e95d88.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tjKylFGmDexDw2ScXJq1Vg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dashboards.yml</figcaption></figure><ul class=""><li id="130e" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">在页面底部键入dbt docs generate，然后按Enter键</li><li id="4889" class="ka kb hh ig b ih kl il km ip kn it ko ix kp jb kh ki kj kk bi translated">您将看到一个弹出窗口，提示您可以查看文档，然后单击查看文档</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es nb"><img src="../Images/33ace1aac49273ecd434123788f082a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1160/format:webp/1*Ogq0_JPN-2uKB5rserY5Ww.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx">dbt docs are ready</figcaption></figure><ul class=""><li id="0216" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">单击您的仪表板，然后单击查看此暴露，您将被定向到预设仪表板</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es nc"><img src="../Images/b4024c253cfcfe72887a22ea15e139b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*91Mbb4rdtjH549AdF9F7Ug.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">View this exposure</figcaption></figure><ul class=""><li id="4e34" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">您也可以单击页面右下角的“查看谱系图”</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div class="er es nd"><img src="../Images/6e792013ffa2c4a7ec7b9f00c83cb38e.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*8wJ7C1p8jQkSABjJNhKdaQ.png"/></div><figcaption class="lg lh et er es li lj bd b be z dx">Click View Lineage Graph</figcaption></figure><ul class=""><li id="5197" class="ka kb hh ig b ih ii il im ip lz it ma ix mb jb kh ki kj kk bi translated">然后我们可以看到我们项目的谱系图，我们也可以通过资源、包、标签等进行过滤。这让我们对模型的依赖性有了一个直观的了解。</li></ul><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ne"><img src="../Images/f44915bf99b0cb9cb4b476ccb9a8a533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N3Oqs1u5rE4oZ05EiHM_iw.png"/></div></div></figure><h1 id="cd85" class="jc jd hh bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz bi translated">推荐dbt课程</h1><p id="0a36" class="pw-post-body-paragraph ie if hh ig b ih kc ij ik il kd in io ip kq ir is it kr iv iw ix ks iz ja jb ha bi translated">这个AirStats dbt项目主要是为了练习dbt的基础知识，让完全的初学者快速开始使用dbt。还有很多其他的dbt概念和实践需要我们继续探索。如果您想了解更多关于dbt和分析工程的知识。推荐你去看看<a class="ae kt" href="https://www.udemy.com/course/complete-dbt-data-build-tool-bootcamp-zero-to-hero-learn-dbt/?referralCode=659B6722C93EF4096D11" rel="noopener ugc nofollow" target="_blank"> <strong class="ig hi"> dbt(数据构建工具)Bootcamp:学习分析工程</strong> </a>。</p><p id="1416" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">该课程是由我的导师从中欧大学Zoltan托特和迈克Petridisz。在学习期间，我从他们那里获得了很好的关于数据工程和云计算的学习经验。当时dbt不在我们的课程之内，所以我不得不通过各种在线资源来学习它。与我学过的所有其他课程相比，这门Udemy课程非常准确。在几个小时内，我们可以掌握所有的基本概念，如物化、种子、源代码新鲜度、快照、宏、自定义测试、包、文档、分析、挂钩和暴露等。而实用的部分，就是用dbt和雪花(另一家顶级云数据仓库解决方案提供商)搭建一个真实世界，动手操作的Airbnb项目。如果你完全是这个领域的新手，没必要担心，你可以简单地按照课程的自上而下的方法先学习理论，然后用dbt进行实践。最重要的是，导师们一直致力于根据学生的反馈和行业的趋势和热点话题更新课程，这真的很有动力，也正是我定期查看这门课程以了解更新资料的原因。</p><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es nf"><img src="../Images/7101d06be9d3bff060e7558a6a32e2fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nllNqvvDlVX-kW9robhqyw.png"/></div></div></figure><figure class="kv kw kx ky fd kz er es paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="er es ng"><img src="../Images/ddd59f8000a0e47289cf909b2b44f016.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Roppx4tnvUUsh0KTBN4geg.png"/></div></div><figcaption class="lg lh et er es li lj bd b be z dx">dbt (Data Build Tool) Bootcamp: Learn Analytics Engineering</figcaption></figure><p id="d9aa" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">总而言之，希望大家学习dbt愉快！它是一个非常流行的数据转换工具。我相信，对于任何与数据仓库交互并使用SQL的人来说，将dbt放入我们的工具箱将是一个明智的决定，无论您是分析工程师、数据工程师还是数据科学家等。</p><div class="nh ni ez fb nj nk"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nl ab dw"><div class="nm ab nn cl cj no"><h2 class="bd hi fi z dy np ea eb nq ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nr l"><h3 class="bd b fi z dy np ea eb nq ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ns l"><p class="bd b fp z dy np ea eb nq ed ef dx translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny le nk"/></div></div></a></div></div></div>    
</body>
</html>