<html>
<head>
<title>Hello world to Amazon SageMaker Feature Store</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">欢迎来到亚马逊SageMaker特色店</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/hello-world-to-amazon-sagemaker-feature-store-d3868db5f227?source=collection_archive---------5-----------------------#2021-05-16">https://medium.com/mlearning-ai/hello-world-to-amazon-sagemaker-feature-store-d3868db5f227?source=collection_archive---------5-----------------------#2021-05-16</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><p id="3cbb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">亚马逊SageMaker功能商店在re:Invent 2020中宣布。但是什么是特征存储呢？以下是关于功能商店的文章。</p><div class="jc jd ez fb je jf"><a href="https://aws.amazon.com/about-aws/whats-new/2020/12/introducing-amazon-sagemaker-feature-store/" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">介绍亚马逊SageMaker功能商店-一个完全托管的存储库，用于存储、发现、共享…</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">发表于:在机器学习中，特征是ML模型赖以做出准确预测的数据信号。在…期间</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">aws.amazon.com</p></div></div><div class="jo l"><div class="jp l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a href="https://towardsdatascience.com/feature-store-as-a-foundation-for-machine-learning-d010fc6eb2f3" rel="noopener follow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">作为机器学习基础的特征存储</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">了解如何为机器学习构建一个集中的、可扩展的特征库，以推动大规模创新</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">towardsdatascience.com</p></div></div><div class="jo l"><div class="jv l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a href="https://aws.amazon.com/blogs/machine-learning/understanding-the-key-capabilities-of-amazon-sagemaker-feature-store/" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">了解Amazon SageMaker功能商店| Amazon Web Services的主要功能</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">机器学习(ML)的一个具有挑战性的部分是特征工程，将数据转换成…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">aws.amazon.com</p></div></div><div class="jo l"><div class="jw l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a href="https://towardsdatascience.com/ingesting-historical-feature-data-into-sagemaker-feature-store-5618e41a11e6" rel="noopener follow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">将历史要素数据纳入SageMaker要素库</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">如何通过直接写入S3来回填SageMaker离线功能库</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">towardsdatascience.com</p></div></div><div class="jo l"><div class="jx l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a href="https://towardsdatascience.com/q-a-for-ingesting-historical-data-into-sagemaker-feature-store-239e918ec594" rel="noopener follow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">将历史数据纳入SageMaker特征库的问答</h2><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">towardsdatascience.com</p></div></div><div class="jo l"><div class="jy l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a href="https://julsimon.medium.com/introducing-amazon-sagemaker-feature-store-aws-re-invent-2020-ed9ec4769244" rel="noopener follow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">介绍亚马逊SageMaker功能商店— AWS re:Invent 2020</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">在这个视频中，我给你一个亚马逊SageMaker功能商店的快速浏览，一个存储你的机器的新功能…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">julsimon.medium.com</p></div></div></div></a></div><p id="0e9e" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">我使用的主要代码如下(感谢<a class="jz ka ge" href="https://medium.com/u/353ee16d2e35?source=post_page-----d3868db5f227--------------------------------" rel="noopener" target="_blank">克里斯·弗雷格利</a>和<a class="jz ka ge" href="https://medium.com/u/50d070ecb8f5?source=post_page-----d3868db5f227--------------------------------" rel="noopener" target="_blank">安特吉·巴斯</a>)。</p><div class="jc jd ez fb je jf"><a href="https://github.com/data-science-on-aws/workshop/blob/master/00_quickstart/05_BERT_Feature_Engineering.ipynb" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">aws上的数据科学/研讨会</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">人工智能和机器学习与Kubeflow、亚马逊EKS和SageMaker-data-science-on-AWS/workshop</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">github.com</p></div></div><div class="jo l"><div class="kb l jq jr js jo jt ju jf"/></div></div></a></div><p id="5702" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">和他们优秀的社区</p><div class="jc jd ez fb je jf"><a href="https://www.datascienceonaws.com" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">自动气象站上的数据科学</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">与BERT、TensorFlow和Amazon SageMaker一起构建端到端的管道在这个演讲中，我将构建一个端到端的…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">www.datascienceonaws.com</p></div></div><div class="jo l"><div class="kc l jq jr js jo jt ju jf"/></div></div></a></div><p id="c019" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">使用要素存储的通常工作流程是:</p><ol class=""><li id="9f6b" class="kd ke hh ig b ih ii il im ip kf it kg ix kh jb ki kj kk kl bi translated">特征工程:生成特征-&gt;定义特征存储组-&gt;将特征吸收到特征存储组中</li><li id="9d36" class="kd ke hh ig b ih km il kn ip ko it kp ix kq jb ki kj kk kl bi translated">训练:发现可用功能-&gt;加载功能-&gt;用功能训练模型</li></ol><p id="e583" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">特征库的一个重要特征是可重用性(它可以与其他人共享，您可以通过时间旅行到以前的特征以获得模型再现性)。</p><p id="7a2a" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">目前SageMaker功能库的工作方式是创建相关的Athena表、AWS Glue目录，底层功能数据存储在S3。您可以从Athena加载回特性(是的，您仍然知道特性的底层存储的底层细节，我希望将来可以抽象出来:一个读写接口。)</p><div class="jc jd ez fb je jf"><a href="https://www.logicalclocks.com/blog/feature-store-the-missing-data-layer-in-ml-pipelines" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">特征存储-逻辑时钟</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">TLDR；要素存储是一个中央保管库，用于存储已记录、管理和访问控制的要素。在这篇博客中…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">www.logicalclocks.com</p></div></div><div class="jo l"><div class="kr l jq jr js jo jt ju jf"/></div></div></a></div><p id="0f97" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">以下是Athena和Glue中的布局:</p><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es ks"><img src="../Images/3ee098726b51bfc8c74e0a1fe0bd760c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*5MwzGxZvSdEBHe8wKPu3LQ.png"/></div></div></figure><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es ld"><img src="../Images/12157dd2da6ec849960b2c774320e267.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6IC0Dff50BSc5fBcYnlzwg.png"/></div></div></figure><p id="90fb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">上面的笔记本向您展示了如何创建功能存储组、创建功能定义以及将功能纳入功能组。现在假设另一个用户想要使用这些特性。他需要从Athena(这是一个在S3查询数据的无服务器查询服务)读取它。下面，我们利用笔记本中创建的feature_group变量来查找存储我们的特征的底层Athena表的信息:</p><pre class="kt ku kv kw fd le lf lg lh aw li bi"><span id="961a" class="lj lk hh lf b fi ll lm l ln lo">feature_query = feature_group.athena_query()<br/>feature_query</span></pre><p id="9445" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">feature_query是Athena query(catalog = ' AWS datacatalog '，database = ' sage maker _ featurestore '，table _ name = ' reviews-feature-group-15–18–52–42–1621104762 '，sage maker _ session =<sagemaker.session.session object="" at="">，_ current _ query _ execution _ id = None，_result_bucket=None，_result_file_prefix=None)</sagemaker.session.session></p><p id="df5c" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">类型为sage maker . feature _ store . feature _ group。雅典娜教堂</p><p id="d2fb" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">要在仍有feature_group变量的情况下加载获取的特性，可以从Sagemaker studio查看特性存储和Athena查询</p><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es lp"><img src="../Images/a682f726aa59e72ee238e82e890d2942.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MKgfwcF4oTJHP0TSgvRtw.png"/></div></div></figure><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es lq"><img src="../Images/0d38fae52f907f3e6826e834911eaebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fze42ymNSj7nLr4zHxR-Hw.png"/></div></div></figure><pre class="kt ku kv kw fd le lf lg lh aw li bi"><span id="82cf" class="lj lk hh lf b fi ll lm l ln lo">query_string="SELECT * FROM \"sagemaker_featurestore\".\"reviews-feature-group-15-16-28-13-1621096093\" LIMIT 1000"<br/>feature_query.run(query_string=query_string, output_location='s3://'+bucket+'/query_results/')<br/>feature_query.wait()<br/>dataset = feature_query.as_dataframe()<br/>dataset.head()</span></pre><p id="f625" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">输出</p><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es lr"><img src="../Images/93721d23e24a92ba454b65149737ccff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*esp1zUbnebZDZqlIYbMf5Q.png"/></div></div></figure><p id="51f0" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">也可以用PyAthena查询</p><pre class="kt ku kv kw fd le lf lg lh aw li bi"><span id="f2de" class="lj lk hh lf b fi ll lm l ln lo">import boto3<br/>import sagemaker</span><span id="76a1" class="lj lk hh lf b fi ls lm l ln lo">sess = sagemaker.Session()<br/>bucket = sess.default_bucket()<br/>role = sagemaker.get_execution_role()<br/>region = boto3.Session().region_name</span><span id="b91b" class="lj lk hh lf b fi ls lm l ln lo">from pyathena import connect<br/>import pandas as pd</span><span id="01d5" class="lj lk hh lf b fi ls lm l ln lo">s3_staging_dir = "s3://{}/athena/query-cache".format(bucket)<br/>database_name = "AwsDataCatalog"<br/>conn = connect(region_name=region, s3_staging_dir=s3_staging_dir)</span><span id="02b5" class="lj lk hh lf b fi ls lm l ln lo">query_string="SELECT * FROM \"sagemaker_featurestore\".\"reviews-feature-group-15-16-28-13-1621096093\" LIMIT 1000"<br/>df = pd.read_sql(query_string, conn)<br/>df.head()</span></pre><p id="c6bd" class="pw-post-body-paragraph ie if hh ig b ih ii ij ik il im in io ip iq ir is it iu iv iw ix iy iz ja jb ha bi translated">Feature store还处于萌芽状态(以及整个生产机器学习行业)，它能成为集中式的特征管理中心吗？</p><div class="jc jd ez fb je jf"><a href="https://docs.featurestore.org" rel="noopener  ugc nofollow" target="_blank"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">ML的特征存储</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">“特征存储”是数据架构中的一个新兴概念，它是由采用ML…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">docs.featurestore.org</p></div></div><div class="jo l"><div class="lt l jq jr js jo jt ju jf"/></div></div></a></div><div class="jc jd ez fb je jf"><a rel="noopener follow" target="_blank" href="/getindata-blog/feature-store-comparison-4-feature-stores-explained-and-compared-1e2142ce6b9e"><div class="jg ab dw"><div class="jh ab ji cl cj jj"><h2 class="bd hi fi z dy jk ea eb jl ed ef hg bi translated">功能存储比较:4个功能存储—解释和比较</h2><div class="jm l"><h3 class="bd b fi z dy jk ea eb jl ed ef dx translated">在这篇博文中，我们将简单明了地展示4个流行功能商店的区别:顶点AI…</h3></div><div class="jn l"><p class="bd b fp z dy jk ea eb jl ed ef dx translated">medium.com</p></div></div><div class="jo l"><div class="lu l jq jr js jo jt ju jf"/></div></div></a></div><figure class="kt ku kv kw fd kx er es paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="er es lv"><img src="../Images/a8e8395ba214168c4a24a8869afe0f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*z3x_ugw_vqdprRcp.png"/></div></div></figure></div></div>    
</body>
</html>