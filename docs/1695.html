<html>
<head>
<title>Build a transcription application</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建转录应用程序</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/build-a-transcription-application-23d4ef3f2e3a?source=collection_archive---------3-----------------------#2022-01-20">https://medium.com/mlearning-ai/build-a-transcription-application-23d4ef3f2e3a?source=collection_archive---------3-----------------------#2022-01-20</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="c411" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">使用AssemblyAI和Streamlit进行语音到文本转换</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/afcd8f11af3bf8841e1c1f0ee942accf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xBWzPqZRhB4_li-Lb2iocA.jpeg"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@historyhd?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">History in HD</a> on <a class="ae jm" href="https://unsplash.com/s/photos/speech-martin-luther?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="47fb" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">是否需要将预先录制的音频和视频文件以及实时音频流转换为文本？如果是这样，你绝对应该考虑使用<a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">assembly ai API</strong></a>。</p><p id="6e74" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> AssemblyAI </strong> </a>是一家深度学习公司，构建强大的API来转录和理解音频。</p><p id="70ca" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在本文中，我将重点关注第一类用例，即将预先录制的音频和视频文件转换为文本。我将与您分享一种利用<a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">assembly ai API</strong></a>轻松构建语音到文本转录应用程序的方法，并使其可供观众使用。我将一步一步地描述如何构建一个转录应用程序，将它部署到云中，并与您的观众分享。这个应用是用<a class="ae jm" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Python </strong> </a> <strong class="jp hi">，</strong><a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">assembly ai</strong></a>，<a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit </strong> </a>构建的，最后部署在<a class="ae jm" href="https://streamlit.io/cloud" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Streamlit Cloud</strong></a>上。</p><p id="ad9a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">正如我在以前的一篇文章中所写的，<a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit </strong> </a>是一个非常棒的开源框架，它可以轻松地为机器学习和数据科学创建和共享漂亮的定制web应用程序。</p><p id="57a1" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我构建的语音转文本web应用的灵感来自Chanin Nantasenamat<a class="ae jm" href="https://youtu.be/NNq_XBVk30w" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Chanin的视频</strong> </a>。事实上，我从Chanin的代码开始，我对其进行了一些修改，主要是为了处理从您的本地机器下载音频或视频文件的选项。除了YouTube文件，我还描述了如何将本地<a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit </strong> </a>应用程序部署到云。</p><p id="df0f" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我的方法的目的一方面是通过将我的语音转文本应用程序部署在<a class="ae jm" href="https://streamlit.io/cloud" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi"> Streamlit云</strong> </a>上，与尽可能多的人分享它，另一方面是展示以人们既喜欢又理解的方式构建语音转文本应用程序是多么容易。</p><p id="e7e5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">那些想了解更多允许部署应用程序的代码、工具和文件的人可以参考我的GitHub资源库<a class="ae jm" href="https://github.com/rmerzouki/speech-to-text" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">这里</strong> </a> <strong class="jp hi">。</strong></p></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><h1 id="0ccc" class="kq kr hh bd ks kt ku kv kw kx ky kz la in lb io lc iq ld ir le it lf iu lg lh bi translated">1-制作食谱所需的工具:</h1><ul class=""><li id="d81a" class="li lj hh jp b jq lk jt ll jw lm ka ln ke lo ki lp lq lr ls bi translated">一个Github账号:<a class="ae jm" href="https://github.com" rel="noopener ugc nofollow" target="_blank"> GitHub </a></li><li id="7f18" class="li lj hh jp b jq lt jt lu jw lv ka lw ke lx ki lp lq lr ls bi translated">一个IDE : <a class="ae jm" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> Visual Studio代码</a>，<a class="ae jm" href="https://www.jetbrains.com/pycharm/download/#section=mac" rel="noopener ugc nofollow" target="_blank"> PyCharm </a>，<a class="ae jm" href="https://jupyter.org" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>，<a class="ae jm" href="https://www.spyder-ide.org" rel="noopener ugc nofollow" target="_blank"> Spyder </a> …</li><li id="cba7" class="li lj hh jp b jq lt jt lu jw lv ka lw ke lx ki lp lq lr ls bi translated">一个<a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"> AssemblyAI </a>账号:免费计划可用。</li><li id="4d56" class="li lj hh jp b jq lt jt lu jw lv ka lw ke lx ki lp lq lr ls bi translated">A <a class="ae jm" href="https://streamlit.io/cloud" rel="noopener ugc nofollow" target="_blank"> Streamlit Cloud </a>账号:免费账号。</li></ul><h1 id="5c91" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">2-代码:</h1><p id="fdeb" class="pw-post-body-paragraph jn jo hh jp b jq lk ii js jt ll il jv jw md jy jz ka me kc kd ke mf kg kh ki ha bi translated">下面的代码非常简单，由三个自定义函数组成。</p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="mg mh l"/></div></figure><p id="2aad" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">函数# 1</strong><strong class="jp hi">-&gt;</strong><strong class="jp hi"><em class="mi">def get _ yt(URL)</em></strong>:这是打算通过YouTube视频的URL来处理它。它使用<a class="ae jm" href="https://pytube.io/en/latest/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi"><em class="mi">pytube</em></strong></a>库通过其URL检索YouTube音频文件，并将其加载到您当前的工作目录中。</p><p id="a86a" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">功能# 2</strong><strong class="jp hi">-&gt;</strong><strong class="jp hi"><em class="mi">def upload _ file(上传文件)</em> </strong>:这是为了处理第二个选项，即从本地机器上传文件。此功能将把上传的音频写入您当前的工作目录。</p><p id="3c3b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">函数# 3-&gt;<em class="mi">def transcripte _ audio _ file()</em></strong>:该函数将把<strong class="jp hi"> mp4 </strong>音频文件从你当前的工作目录上传到AssemblyAI，在那里它将被转录成文本并被检索。为此，我们将先后使用以下<strong class="jp hi"> API端点、</strong><a class="ae jm" href="https://api.assemblyai.com/v2/upload" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi"><em class="mi"/></strong></a><strong class="jp hi"><em class="mi"/></strong>和<a class="ae jm" href="https://api.assemblyai.com/v2/transcript" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi"><em class="mi">【https://api.assemblyai.com/v2/transcript】</em></strong></a>。</p><h1 id="5d86" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">3-在本地测试我们的代码:</h1><p id="7572" class="pw-post-body-paragraph jn jo hh jp b jq lk ii js jt ll il jv jw md jy jz ka me kc kd ke mf kg kh ki ha bi translated">首先，您需要安装所需的库:</p><pre class="ix iy iz ja fd mj mk ml mm aw mn bi"><span id="3e7d" class="mo kr hh mk b fi mp mq l mr ms">pip install streamlit pytube</span></pre><p id="3ab5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">然后运行应用程序代码:</p><pre class="ix iy iz ja fd mj mk ml mm aw mn bi"><span id="ee4a" class="mo kr hh mk b fi mp mq l mr ms">streamlit run audio_to_text_2.py</span></pre><p id="6fba" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">我们用YouTube URL和从本地机器上传的音频或视频文件来测试我们的应用程序。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mt"><img src="../Images/089bf6b459d483cfe1153ed9f140583f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T0zMuzHQwyAwzWzKAP7x_Q.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Speech-to-text application running locally</figcaption></figure><p id="009d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">一旦我们确信应用程序运行正常，我们就开始在Streamlit Cloud上部署，但在此之前，我们要确保用本地项目目录中的任何更改来更新我们的Github存储库。事实上，在Streamlit上，应用程序直接从它们的GitHub存储库中部署。</p><h1 id="d5fb" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">4-在Github上推送我们的代码更改:</h1><pre class="ix iy iz ja fd mj mk ml mm aw mn bi"><span id="d9cf" class="mo kr hh mk b fi mp mq l mr ms">git status</span><span id="a04a" class="mo kr hh mk b fi mu mq l mr ms">git add .</span><span id="74cf" class="mo kr hh mk b fi mu mq l mr ms">git commit -m “my message”</span><span id="1a23" class="mo kr hh mk b fi mu mq l mr ms">git push origin main</span></pre><h1 id="a696" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">5-在Streamlit上部署应用程序:</h1><p id="885e" class="pw-post-body-paragraph jn jo hh jp b jq lk ii js jt ll il jv jw md jy jz ka me kc kd ke mf kg kh ki ha bi translated">回到本地运行的应用页面，打开右上方的菜单，选择并点击“<strong class="jp hi">部署此应用</strong>”。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mv"><img src="../Images/c22cc2db308f71cf28d1a0459144eeaa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rlQs4CZZR9qnI2a7RlSGkg.png"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Deploy the app on Streamlit</figcaption></figure><p id="bc94" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">你将进入下一页；点击“高级设置…”。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mw"><img src="../Images/88190e583bafc7ff43143ee7e7428517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTh6lauAhVks1nl7HwkVUw.png"/></div></div></figure><p id="2117" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">复制保存在<strong class="jp hi"> <em class="mi"> secrets.toml </em> </strong>文件中的<strong class="jp hi"> API密匙</strong>，粘贴到下面，点击保存。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mx"><img src="../Images/ad6e3223cbcaff3e62de251bc7a3db56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v4mK365rSaz8-33mw0kqvA.png"/></div></div></figure><p id="693d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">现在，点击部署！</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es mw"><img src="../Images/88190e583bafc7ff43143ee7e7428517.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QTh6lauAhVks1nl7HwkVUw.png"/></div></div></figure><p id="77f5" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">请注意，当您的Github存储库中发生更改时，它们会被检测到，代码更改会被自动提取，应用程序也会更新。</p><p id="b460" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在下面的短视频中，我将一步一步地向您展示如何在Streamlit Cloud上部署语音到文本转录应用程序，以及如何使用它。</p><p id="ed21" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">供您参考，我的web应用程序部署在Streamlit上，可通过以下路径访问:<a class="ae jm" href="https://share.streamlit.io/rmerzouki/speech-to-text/main/audio_to_text_2.py" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi"><em class="mi">https://share . Streamlit . io/rmerzouki/speech-to-text/main/audio _ to _ text _ 2 . py</em></strong></a></p><p id="77a0" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi"> <em class="mi">平均而言，周转时间约为音频文件持续时间的15–30%，最短处理时间约为20–30秒。</em> </strong></p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="my mh l"/></div></figure><h1 id="d825" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">6-重新创建应用程序并使用它:</h1><p id="1495" class="pw-post-body-paragraph jn jo hh jp b jq lk ii js jt ll il jv jw md jy jz ka me kc kd ke mf kg kh ki ha bi translated">如果您对这个应用程序感兴趣，那么您可以简单地按照<strong class="jp hi"> <em class="mi"> README.md </em> </strong>文件中描述的步骤- <strong class="jp hi"> <em class="mi"> </em> </strong>在我的GitHub资源库中可用<a class="ae jm" href="https://github.com/rmerzouki/speech-to-text" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">这里</strong></a><strong class="jp hi"/>——在您的身边重新创建它，使用它，甚至增强它。</p><h1 id="a709" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">7-结论:</h1><p id="1308" class="pw-post-body-paragraph jn jo hh jp b jq lk ii js jt ll il jv jw md jy jz ka me kc kd ke mf kg kh ki ha bi translated">我希望您喜欢阅读这篇文章，在这篇文章中，我描述了一种使用<a class="ae jm" href="https://www.assemblyai.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">assembly ai</strong></a><strong class="jp hi">和</strong><a class="ae jm" href="https://streamlit.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jp hi">Streamlit</strong></a>构建语音到文本转录应用程序的简单方法。也希望这篇文章对你的日常工作有用。当然，<a class="ae jm" href="https://github.com/rmerzouki/speech-to-text" rel="noopener ugc nofollow" target="_blank"> <strong class="jp hi">不要犹豫使用我在GitHub仓库</strong> </a>中的代码和文件，随时通过建议新的更改和/或添加新的功能来丰富这项工作。</p></div><div class="ab cl kj kk go kl" role="separator"><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko kp"/><span class="km bw bk kn ko"/></div><div class="ha hb hc hd he"><p id="cce6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">如果你有任何问题或者想保持联系，请随时在LinkedIn上联系我:<a class="ae jm" href="https://www.linkedin.com/in/reda-merzouki-02843b/" rel="noopener ugc nofollow" target="_blank"><em class="mi">Reda Merzouki</em></a></p><h1 id="ddcb" class="kq kr hh bd ks kt ly kv kw kx lz kz la in ma io lc iq mb ir le it mc iu lg lh bi translated">感谢您的阅读！</h1><div class="mz na ez fb nb nc"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="nd ab dw"><div class="ne ab nf cl cj ng"><h2 class="bd hi fi z dy nh ea eb ni ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nj l"><h3 class="bd b fi z dy nh ea eb ni ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nk l"><p class="bd b fp z dy nh ea eb ni ed ef dx translated">medium.com</p></div></div><div class="nl l"><div class="nm l nn no np nl nq jg nc"/></div></div></a></div></div></div>    
</body>
</html>