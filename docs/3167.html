<html>
<head>
<title>An Alliance: Python and R (Utilizing Scatterplots)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个联盟:Python和R(利用散点图)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/an-alliance-python-and-r-utilizing-scatterplots-ef617a528dfe?source=collection_archive---------5-----------------------#2022-07-28">https://medium.com/mlearning-ai/an-alliance-python-and-r-utilizing-scatterplots-ef617a528dfe?source=collection_archive---------5-----------------------#2022-07-28</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/c6537c978d2999bfae7d8097b33f11ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QFrFjgot7VM0EJ4vDOMwfg.png"/></div></div></figure><p id="9b6c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">数值变量是数据集中最简单也是最复杂的信息。他们可以独立地定义数据，共享关系，并帮助推动我们的数据集中的点。数字变量(也称为定量变量)是一种具有数值的可测量特征。它们可以是连续或离散的数值变量。如果一个变量在给定的区间内可以取无穷多个实值，就说它是连续的。与连续变量相反，离散变量在给定的区间内只能有有限数量的实数值。</p><p id="b5b1" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在数据分析和可视化中，这些数值变量可以相互作用形成关系或者根本不共享任何关系。要确定这一点，散点图是揭示这一点的最佳方式。散点图绘制数字数据对，每个轴上一个数据点，以展示它们的相关性。现在每个人都想知道什么时候使用散点图。</p><p id="6c7a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">它们用于以下情况:</p><ol class=""><li id="94b7" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">当有成对的数字数据时。</li><li id="b738" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">当单个自变量的因变量的值很多时。</li><li id="fb69" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">在某些情况下，如识别潜在的潜在问题，评估两个看起来有联系的项目是否都是由相同的确切原因引起的，等等。</li></ol><p id="91a7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">在Python和R中利用散点图有不同的方式:</p><ol class=""><li id="4f73" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">它可以是显示两个数值变量的相关性的简单可视化。</li><li id="4af1" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">它可以是显示两个数值变量以及分类变量与大小和色调的相关性的图。</li><li id="9a2d" class="jn jo hh ir b is jw iw jx ja jy je jz ji ka jm js jt ju jv bi translated">它可以是一个显示两个数值变量的相关性的图，用一条回归线来衡量这种关系是正还是负。</li></ol><p id="7b84" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">为了解释这一点，我将使用企鹅的数据集。在这个数据集中，我们将研究体重(g)和鳍肢长度(mm)之间的关系。我将使用一个额外的语法来定制这个图，以便清晰地可视化。</p><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kb"><img src="../Images/935e4bb1499f646e96db09f854844915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BsZJue5uCH0QnR4RkfUp6g.png"/></div></div><figcaption class="kg kh et er es ki kj bd b be z dx">The penguins' dataset and variables</figcaption></figure><p id="2f0c" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">简单散点图</strong></p><ol class=""><li id="4dec" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">计算机编程语言</li></ol><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="3b65" class="kp kq hh kl b fi kr ks l kt ku">sns.set_style("whitegrid")<br/>bar,ax = plt.subplots(figsize=(8,8))<br/>sns.scatterplot(data=df, x="flipper_length_mm", y="body_mass_g")<br/>ax.set_title("Relationship between Body Mass and Flipper Length", fontsize=20)<br/>ax.set_xlabel ("flipper_length(mm)", fontsize=15)<br/>ax.set_ylabel ("body_mass(g)", fontsize=15)<br/>ax.tick_params(axis='x', labelsize=15)<br/>ax.tick_params(axis='y', labelsize=15)<br/>ax.grid(False)</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kv"><img src="../Images/8a3e7712efd60d3f18c23129daebb55b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*h8PYAzA4jGR9UQfzCq6_fA.png"/></div></div></figure><p id="3f3f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.稀有</p><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="f9c9" class="kp kq hh kl b fi kr ks l kt ku">ggplot(df, aes(x = flipper_length_mm, y = body_mass_g))+<br/>  theme_classic()+geom_point(col='blue')+<br/>  theme(axis.text.y = element_text(size = 15, face='bold'), <br/>        axis.text.x = element_text(size = 15, face='bold'), axis.title.y = element_text(size = 20), <br/>        axis.title.x = element_text(size = 20), plot.title = element_text(face = "bold", size = 15))+<br/>ggtitle("Relationship between Body Mass and Flipper Length")</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kw"><img src="../Images/41f330d5e854d79a207007b4751ff39e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MrlxvcRDSqUOMRJB_G3SSA.png"/></div></div></figure><p id="b3d6" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">从散点图中，我们看到鳍状肢长度和身体质量之间有关系，因为随着鳍状肢长度的增加，身体质量也增加。所以我们可以说，对于企鹅来说，脚蹼长度越长，体重越高。</p><p id="3407" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">带色调和尺寸变量的散点图</strong></p><ol class=""><li id="375d" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">计算机编程语言</li></ol><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="cf34" class="kp kq hh kl b fi kr ks l kt ku">sns.set_style("whitegrid")<br/>bar,ax = plt.subplots(figsize=(8,8))<br/>sns.scatterplot(data=df, x="flipper_length_mm", y="body_mass_g", hue='species', palette='muted', size="culmen_length_mm",<br/>    sizes=(50, 300))<br/>ax.set_title("Relationship between Body Mass and Flipper Length with Hue and Size", fontsize=20)<br/>ax.set_xlabel ("flipper_length(mm)", fontsize=15)<br/>ax.set_ylabel ("body_mass(g)", fontsize=15)<br/>ax.tick_params(axis='x', labelsize=15)<br/>ax.tick_params(axis='y', labelsize=15)<br/>ax.grid(False)</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kx"><img src="../Images/cce4d233ff04a6ff7bef106e0adace5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wux0Hy_-b7G5NC52Ib8OtA.png"/></div></div></figure><p id="c714" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.稀有</p><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="641c" class="kp kq hh kl b fi kr ks l kt ku">ggplot(df, aes(x = flipper_length_mm, y = body_mass_g, col=species))+<br/>  theme_classic()+geom_point(aes(size = culmen_length_mm)) +<br/>  theme(axis.text.y = element_text(size = 15, face='bold'), <br/>        axis.text.x = element_text(size = 15, face='bold'), axis.title.y = element_text(size = 20), <br/>        axis.title.x = element_text(size = 20), plot.title = element_text(face = "bold", size = 15))+<br/>ggtitle("Relationship between Body Mass and Flipper Length with Hue and Size")</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ky"><img src="../Images/f1bc1d9aba690147c9938d9aa7abbf3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W30my6CJu13iC1Il9lNU8w.png"/></div></div></figure><p id="27fa" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">用这个物种的颜色和长度来表示点的大小，巴布亚人有更长的鳍状肢和更高的身体质量。他们也有更长的秆。当看着这些点的尺寸时，下颚带物种也有很长的秆。</p><p id="6e5e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">带回归线的散点图</strong></p><p id="737f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要查看这两个变量之间的关系，我们可以使用线性回归线。</p><ol class=""><li id="10e2" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">计算机编程语言</li></ol><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="1e9b" class="kp kq hh kl b fi kr ks l kt ku">fig, ax = plt.subplots(figsize=(10, 10))<br/>sns.regplot(x="flipper_length_mm", y="body_mass_g", data=df, ax=ax)<br/>ax.set_title("Relationship between Body Mass and Flipper Length with Regression Line", fontsize=20)<br/>ax.set_xlabel ('flipper_length(mm)', fontsize=20)<br/>ax.set_ylabel ('body_mass(g)', fontsize=20)<br/>ax.tick_params(axis='x', labelsize=20)<br/>ax.tick_params(axis='y', labelsize=20)<br/>ax.grid(False)</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es kz"><img src="../Images/5f2fd29fba7245d86ea1dafd18f204a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7rWycZqBgkgbJ3kUati4dQ.png"/></div></div></figure><p id="42db" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.稀有</p><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="512f" class="kp kq hh kl b fi kr ks l kt ku">ggplot(df, aes(x = flipper_length_mm, y = body_mass_g))+<br/>  theme_classic()+geom_point()+<br/>  geom_smooth(method = "lm", se = F, color="black")+<br/>  xlab("flipper_length(mm)")+ylab("body_mass(g)")+scale_y_continuous(trans = 'log2')+<br/>  theme(axis.text.y = element_text(size = 15, face='bold'), <br/>        axis.text.x = element_text(size = 15, face='bold'), axis.title.y = element_text(size = 20), <br/>        axis.title.x = element_text(size = 20), plot.title = element_text(face = "bold", size = 15))+<br/>ggtitle("Relationship between Body Mass and Flipper Length with Regression Line")</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es la"><img src="../Images/729d08305aaddb965dbebe121be2c521.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PXNGYvjAcn_XbLZamAz7rA.png"/></div></div></figure><p id="b096" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">回归线显示变量之间的正关系。该回归还可以在图上显示r平方值和p值。</p><ol class=""><li id="d760" class="jn jo hh ir b is it iw ix ja jp je jq ji jr jm js jt ju jv bi translated">计算机编程语言</li></ol><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="cd4b" class="kp kq hh kl b fi kr ks l kt ku">sns.set(font_scale=1.5,style="white")<br/>g= sns.lmplot(x="flipper_length_mm", y="body_mass_g", data=df)</span><span id="4eb8" class="kp kq hh kl b fi lb ks l kt ku">def annotate(data, **kws):<br/>    r, p = sp.stats.pearsonr(data['flipper_length_mm'], data['body_mass_g'])<br/>    ax = plt.gca()<br/>    ax.text(.05, .8, 'r={:.2f}, p={:.2g}'.format(r, p),<br/>            transform=ax.transAxes)</span><span id="b2f1" class="kp kq hh kl b fi lb ks l kt ku">g.map_dataframe(annotate)<br/>g = (g.set_axis_labels("flipper_length(mm)", "body_mass(g)", size=20))<br/>ax = plt.gca()</span><span id="cc81" class="kp kq hh kl b fi lb ks l kt ku">ax.set_title("Relationship between Body Mass and Flipper Length with Regression Line showing R2 and pvalues")</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es lc"><img src="../Images/a43f47487632217e230c1ce2f10b6a61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oaFaR0QcpDLQYfk-kzpmrw.png"/></div></div></figure><p id="248e" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">2.稀有</p><pre class="kc kd ke kf fd kk kl km kn aw ko bi"><span id="6cc0" class="kp kq hh kl b fi kr ks l kt ku">ggscatter(df, x = "flipper_length_mm", y = "body_mass_g", <br/>          add = "reg.line", conf.int = TRUE, conf.int.level = 0.95,<br/>          cor.coef = TRUE, cor.method = "pearson",<br/>          xlab = "flipper_length(mm)", ylab = "body_mass(g)", title='Relationship between Body Mass and Flipper Length with <br/>Regression Line showing R2 and pvalues')</span></pre><figure class="kc kd ke kf fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ld"><img src="../Images/53cbcef90c85b15835e4d1c534db067b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vRXAncP05RVKhus00ujYpw.png"/></div></div></figure><p id="bb4d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">两个图的R平方值显示值为0.87，表明变量之间有很强的正线性相关性。pvalues还表明变量之间没有显著差异。</p><p id="2087" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">散点图的输出完全取决于数据集的类型。通过遵循这些简单的步骤，您可以利用散点图充分利用您的数据分析和可视化。</p><div class="le lf ez fb lg lh"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="li ab dw"><div class="lj ab lk cl cj ll"><h2 class="bd hi fi z dy lm ea eb ln ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lo l"><h3 class="bd b fi z dy lm ea eb ln ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="lp l"><p class="bd b fp z dy lm ea eb ln ed ef dx translated">medium.com</p></div></div><div class="lq l"><div class="lr l ls lt lu lq lv in lh"/></div></div></a></div></div></div>    
</body>
</html>