<html>
<head>
<title>Import Data Files In R — Part 1/2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在R-Part 1/2中导入数据文件</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/import-data-files-in-r-part-1-2-afa15c087b1a?source=collection_archive---------6-----------------------#2022-09-07">https://medium.com/mlearning-ai/import-data-files-in-r-part-1-2-afa15c087b1a?source=collection_archive---------6-----------------------#2022-09-07</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><div class=""><h2 id="e388" class="pw-subtitle-paragraph ie hg hh bd b if ig ih ii ij ik il im in io ip iq ir is it iu iv dx translated">在R中导入文本、CSV、TSV、JSON和XML文件</h2></div><figure class="ix iy iz ja fd jb er es paragraph-image"><div role="button" tabindex="0" class="jc jd di je bf jf"><div class="er es iw"><img src="../Images/165eea40d2dfb47f4951ca4ac168f782.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oK-ZEx1H4wOX_mTq"/></div></div><figcaption class="ji jj et er es jk jl bd b be z dx">Photo by <a class="ae jm" href="https://unsplash.com/@rumpf?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Christina Rumpf</a> on <a class="ae jm" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="9415" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">从不同的文件格式导入数据是构建机器学习模型或数据可视化的第一步。导入数据集后，我们整理和清理数据，然后整理和转换数据，以便我们可以从模型中获得最佳结果，并正确传达数据可视化的信息。</p><figure class="ix iy iz ja fd jb er es paragraph-image"><div class="er es kj"><img src="../Images/678241edd5042507d002d4d2eb813255.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*sGyzREuOvhvwYC6_z5LyMA.png"/></div><figcaption class="ji jj et er es jk jl bd b be z dx"><strong class="bd kk">R for Data Science by </strong><a class="ae jm" href="https://hadley.nz/" rel="noopener ugc nofollow" target="_blank">Hadley Wickham</a></figcaption></figure><p id="e95b" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated">在本文中，我们将把数据集从不同类型的文件格式(比如TXT、CSV、TSV、JSON和XML)导入到R编程语言的数据框架中</p><h1 id="2a35" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">导入文本文件</h1><ul class=""><li id="158a" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">read.table(file, header = FALSE, sep = '', stringAsFactor = FALSE, ...)</code>用于读取文本文件</li><li id="7c97" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated">在r-studio控制台上键入<code class="du ln lo lp lq b">?read.table</code>查看<code class="du ln lo lp lq b">read.table()</code>功能的完整文档</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h2 id="7737" class="ly km hh bd kk lz ma mb kq mc md me ku jw mf mg kw ka mh mi ky ke mj mk la ml bi translated">将第一行作为数据框的标题</h2><ul class=""><li id="a253" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated">使用参数<code class="du ln lo lp lq b">header = TRUE</code></li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="6297" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">将所有列从字符数据类型转换为因子数据类型</strong></p><ul class=""><li id="cc13" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">read.table(..., stringAsFactor = TRUE, ...)</code>中的参数<code class="du ln lo lp lq b">stringAsFactor = FALSE</code>将所有列从因子数据类型转换为字符数据类型。</li><li id="04b8" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">str(df)</code>检查数据框列的数据类型</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="0681" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">将所有列从因子数据类型转换为字符数据类型</strong></p><ul class=""><li id="97b3" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">read.table(..., stringAsFactor = FALSE, ...)</code>中的参数<code class="du ln lo lp lq b">stringAsFactor = FALSE</code>将所有列从因子数据类型转换为字符数据类型。</li><li id="a90f" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">str(df)</code>检查数据框列的数据类型</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h2 id="62c9" class="ly km hh bd kk lz ma mb kq mc md me ku jw mf mg kw ka mh mi ky ke mj mk la ml bi translated">跳过行</h2><ul class=""><li id="9d8c" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">read.table(..., skip= n, ...)</code>中的参数<code class="du ln lo lp lq b">skip = n</code>排除前<code class="du ln lo lp lq b">n</code>行数据</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h2 id="64bc" class="ly km hh bd kk lz ma mb kq mc md me ku jw mf mg kw ka mh mi ky ke mj mk la ml bi translated">读取斜线分隔的文件</h2><ul class=""><li id="74f8" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated">使用<code class="du ln lo lp lq b">read.table(..., sep = ‘/ ’, ...)</code>函数中的参数<code class="du ln lo lp lq b">sep = ‘/’</code>读取斜线分隔的文件</li></ul><h2 id="3d3c" class="ly km hh bd kk lz ma mb kq mc md me ku jw mf mg kw ka mh mi ky ke mj mk la ml bi translated">不带<code class="du ln lo lp lq b">sep=’/’</code>属性</h2><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="e20d" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">具有</strong> <code class="du ln lo lp lq b"><strong class="jp hi">sep=’/’</strong></code> <strong class="jp hi">和</strong> <code class="du ln lo lp lq b"><strong class="jp hi">header = TRUE</strong></code> <strong class="jp hi">属性</strong></p><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><p id="b1d6" class="pw-post-body-paragraph jn jo hh jp b jq jr ii js jt ju il jv jw jx jy jz ka kb kc kd ke kf kg kh ki ha bi translated"><strong class="jp hi">读取某些数据行</strong></p><ul class=""><li id="ce02" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">header = FALSE</code>表示数据集没有表头</li><li id="7cd9" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">col.names = c(“roll_number”, “name”, “major”, “cgpa”)</code>用于命名列</li><li id="c46f" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated">从顶部删除两行</li><li id="2668" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated">从顶部跳过2行后，读取3行</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="2d1f" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">导入CSV文件</h1><ul class=""><li id="1334" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">read.csv(file, ...)</code>用于读取CSV文件</li><li id="9dac" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">str(df)</code>用于返回R的数据帧的数据结构</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div><figcaption class="ji jj et er es jk jl bd b be z dx">R</figcaption></figure><ul class=""><li id="438c" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">colClasses = c(“integer”, “character”, “factor”, “numeric”)</code>用于定义数据框中各列的具体数据类型</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><ul class=""><li id="5856" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">colClasses = c(“NULL”, “character”, “factor”, “NULL”)</code>用于跳过<code class="du ln lo lp lq b">NULL</code>列</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h2 id="1583" class="ly km hh bd kk lz ma mb kq mc md me ku jw mf mg kw ka mh mi ky ke mj mk la ml bi translated">读取带有由(<code class="du ln lo lp lq b">X, none, empty</code>等)表示的缺失值的数据集</h2><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><ul class=""><li id="1785" class="lc ld hh jp b jq jr jt ju jw mm ka mn ke mo ki lj lk ll lm bi translated">通过使用<code class="du ln lo lp lq b">na.strings = c(“X”, “none”, “empty”)</code>参数，用<code class="du ln lo lp lq b">NA</code>替换缺失值。</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="c2c5" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">导入TSV文件</h1><ul class=""><li id="ece7" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">read.delim(file,…)</code>用于读取TSV文件</li><li id="45e0" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">which.max(data_frame$column)</code>返回data_frame的最大列值的索引</li><li id="4f7e" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">which.min(data_frame$column)</code>返回data_frame的最小列值的索引</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="1b93" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">导入JSON文件</h1><ul class=""><li id="77b3" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">fromJSON(file = ...)</code>用于从指定的URL读取JSON文件</li><li id="feb9" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">do.call(rbind, df)</code>以表格形式排列数据</li><li id="4753" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">as.data.frame()</code>功能用于将表格结构转换成数据框架</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="cd7e" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">导入XML文件</h1><ul class=""><li id="2487" class="lc ld hh jp b jq le jt lf jw lg ka lh ke li ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">getURL()</code>用于从<code class="du ln lo lp lq b">RCurl</code>获取在线XML文件</li><li id="21ae" class="lc ld hh jp b jq lr jt ls jw lt ka lu ke lv ki lj lk ll lm bi translated"><code class="du ln lo lp lq b">xmlToDataFrame()</code>用于将<code class="du ln lo lp lq b">XML </code>格式转换为数据帧格式</li></ul><figure class="ix iy iz ja fd jb"><div class="bz dy l di"><div class="lw lx l"/></div></figure><h1 id="0fe3" class="kl km hh bd kk kn ko kp kq kr ks kt ku in kv io kw iq kx ir ky it kz iu la lb bi translated">结论</h1><p id="44a7" class="pw-post-body-paragraph jn jo hh jp b jq le ii js jt lf il jv jw mp jy jz ka mq kc kd ke mr kg kh ki ha bi translated">在本文中，我们将数据从不同类型的文件格式(如文本、CSV、TSV、JSON和XML)导入到R编程语言的数据框架中。</p><div class="ms mt ez fb mu mv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="mw ab dw"><div class="mx ab my cl cj mz"><h2 class="bd hi fi z dy na ea eb nb ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="nc l"><h3 class="bd b fi z dy na ea eb nb ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="nd l"><p class="bd b fp z dy na ea eb nb ed ef dx translated">medium.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj jg mv"/></div></div></a></div></div></div>    
</body>
</html>