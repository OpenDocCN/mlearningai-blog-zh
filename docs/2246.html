<html>
<head>
<title>An Alliance: Python and R (Missing values in data)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一个联盟:Python和R(数据中的缺失值)</h1>
<blockquote>原文：<a href="https://medium.com/mlearning-ai/an-alliance-python-and-r-missing-values-in-data-5091a5ef6221?source=collection_archive---------3-----------------------#2022-03-31">https://medium.com/mlearning-ai/an-alliance-python-and-r-missing-values-in-data-5091a5ef6221?source=collection_archive---------3-----------------------#2022-03-31</a></blockquote><div><div class="ds gv gw gx gy gz"/><div class="ha hb hc hd he"><div class=""/><figure class="ev ex if ig ih ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es ie"><img src="../Images/0d76292cb89d27aae652c6f505db4192.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Q0fdQx3IR1qEpRpHHHBew.png"/></div></div></figure><p id="bd88" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">作为初学者，为了成功地构建数据分析或数据科学组合，我们依赖于我们自己的来源数据，并为此需要数据集。像<a class="ae jn" href="https://www.kaggle.com/" rel="noopener ugc nofollow" target="_blank"> Kaggle </a>这样的开源网站允许我们使用这些可用的数据集来提高我们的数据技能。</p><p id="a674" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">大多数情况下，所提供的这些数据集都有缺失值，部分挑战是找到一种方法来处理这些缺失值，而不会影响数据分析、产生偏差和进一步复杂化您的数据发现。当我们发现30–60%的检索分析数据有很多缺失值时，这就成了一件令人烦恼的事情，但如果能以最好的方式解决这个问题，那就太好了。</p><p id="7dcb" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">数据冗余会导致各种问题。首先，数据的缺乏降低了统计的有效性，并可能妨碍研究的分析。这些虚假陈述中的任何一个都可能危及有效性并导致错误的结论。</p><p id="be4b" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们如何管理丢失的数据以充分利用我们的数据？</p><figure class="jp jq jr js fd ii er es paragraph-image"><div role="button" tabindex="0" class="ij ik di il bf im"><div class="er es jo"><img src="../Images/48aac36359176fe5e09fed79552e0e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uGvR0okL-O3ptX-9UxqfxA.png"/></div></div><figcaption class="jt ju et er es jv jw bd b be z dx">Handling missing values created in Figma</figcaption></figure><ol class=""><li id="b30f" class="jx jy hh ir b is it iw ix ja jz je ka ji kb jm kc kd ke kf bi translated"><strong class="ir hi">识别缺失值</strong></li></ol><p id="258a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">我们可以检查我们的数据集中有多少缺失值，以及它们为什么会出现。我们可以使用以下命令来检查丢失的值:</p><p id="ea56" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi">巨蟒</strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="d521" class="kl km hh kh b fi kn ko l kp kq">df.isnull() #returns boolean values</span><span id="4d37" class="kl km hh kh b fi kr ko l kp kq">df.isnull().sum  #returns total number of missing values</span></pre><p id="486f" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="d3d4" class="kl km hh kh b fi kn ko l kp kq">is.null(df) #returns boolean values</span><span id="7af4" class="kl km hh kh b fi kr ko l kp kq">sum(is.na(df)) #returns total number of missing values</span></pre><p id="29f7" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 2。丢弃丢失的值</strong></p><p id="bf34" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">通过应用以下函数，我们可以轻松地删除丢失的值:</p><p id="5cf3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Python </strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="e3a8" class="kl km hh kh b fi kn ko l kp kq">df.dropna() #drops all nas in all columns</span><span id="0ec3" class="kl km hh kh b fi kr ko l kp kq">df.dropna(axis=0) #drops na in specified columns</span></pre><p id="9fca" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="b101" class="kl km hh kh b fi kn ko l kp kq">na.omit(df) #removes all nas</span><span id="a1f0" class="kl km hh kh b fi kr ko l kp kq">df[!is.na(df$'column_name'), ] #removes nas for a specified column</span></pre><p id="32d3" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">有时，删除空值可能会使我们丢失很大一部分数据集。避免丢失重要信息的最好方法是检查我们需要分析的列，选择它们，看看我们是否可以保留至少80%的数据。如果我们需要的列中还有更多缺失的值，我们可以继续下一步。</p><p id="e48d" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> 3。填写缺失的值</strong></p><p id="cd1a" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">要替换缺失值，我们可以使用0或样本平均值，甚至是最接近的值。用0替换丢失的值更安全，因为它不会引入偏差，但这只适用于大于0的值。对于较小的值，我们可以用样本平均值或最接近的值来填充。可以为遵循逻辑顺序的样本填充最接近的值。</p><p id="2e36" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> Python </strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="6e64" class="kl km hh kh b fi kn ko l kp kq">df.fillna(0) #fills nas with 0</span><span id="8c8d" class="kl km hh kh b fi kr ko l kp kq">df.fillna(df.mean()) #fills nas with the mean of the entire dataset</span><span id="b8f0" class="kl km hh kh b fi kr ko l kp kq">df.fillna({'column_name':df['column_name'].mean()}) #fills nas with the mean of the particular column</span><span id="d985" class="kl km hh kh b fi kr ko l kp kq">df.fillna(method='ffill', axis=0) #forward fills the na value with the closest value</span><span id="a086" class="kl km hh kh b fi kr ko l kp kq">df.fillna(method='bfill', axis=0) #backward fills the na value with the closest value</span></pre><p id="5276" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated"><strong class="ir hi"> R </strong></p><pre class="jp jq jr js fd kg kh ki kj aw kk bi"><span id="2e24" class="kl km hh kh b fi kn ko l kp kq">df[is.na(df)] = 0 #fills nas with 0</span><span id="978d" class="kl km hh kh b fi kr ko l kp kq">df$'column_name'[is.na(df$'column_name')] &lt;- mean(df$'column_name', na.rm =TRUE) #fills na with the mean of the specified column.</span><span id="890e" class="kl km hh kh b fi kr ko l kp kq">df %&gt;%<br/>  dplyr::group_by(group) %&gt;%<br/>  fill('column_name', .direction = "downup") %&gt;%<br/>  dplyr::ungroup() #fills na with forward and backward values</span></pre><p id="3a23" class="pw-post-body-paragraph ip iq hh ir b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm ha bi translated">请记住，对缺失值的处理完全取决于为您提供的数据集。如果缺失值的数量较少，您可以删除它们并继续进行分析，但如果它们占数据的50%，我们可以考虑用0填充它们，即平均值或最接近的值。</p><div class="ks kt ez fb ku kv"><a rel="noopener follow" target="_blank" href="/mlearning-ai/mlearning-ai-submission-suggestions-b51e2b130bfb"><div class="kw ab dw"><div class="kx ab ky cl cj kz"><h2 class="bd hi fi z dy la ea eb lb ed ef hg bi translated">Mlearning.ai提交建议</h2><div class="lc l"><h3 class="bd b fi z dy la ea eb lb ed ef dx translated">如何成为Mlearning.ai上的作家</h3></div><div class="ld l"><p class="bd b fp z dy la ea eb lb ed ef dx translated">medium.com</p></div></div><div class="le l"><div class="lf l lg lh li le lj in kv"/></div></div></a></div></div></div>    
</body>
</html>